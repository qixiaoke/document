<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0058)http://blog.csdn.net/jiankunking/article/details/52143504# -->
<html xmlns="http://www.w3.org/1999/xhtml" data-evernote-id="0" class="js-evernote-checked"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">  
        
            <link rel="canonical" href="http://blog.csdn.net/jiankunking/article/details/52143504"> 

   

  
 <meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" media="handheld" href="http://blog.csdn.net/jiankunking/article/details/52143504#">

    <meta name="shenma-site-verification" content="5a59773ab8077d4a62bf469ab966a63b_1497598848"> 
       
    <title>Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风
        - CSDN博客</title>
    
    <meta name="description" content="一、什么是代理？        代理是一种常用的设计模式，其目的就是为其他对象提供一个代理以控制对某个对象的访问。代理类负责为委托类预处理消息，过滤消息并转发消息，以及进行消息被委托类执行后的后续处理。代理模式UML图：        为了保持行为的一致性，代理类和委托类通常会实现相同的接口，所以在访问者看来两者没有丝毫的区别。通过代理类这中间一层，能有效控制对委托类对象的直接访问，也可以很好地隐">

    <meta name="keywords" content="Java,jdk,动态代理">

   
    <script src="https://hm.baidu.com/hm.js?6bcd52f51e9b3dce32bec4a3997715ac"></script><script src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/blog_static_head.min.js.下载" type="text/javascript"></script>

    
        <!--new top-->
       
       
        <!--new top-->
    
      <!-- ad begin -->
         
    <!-- ad end-->

    <link rel="Stylesheet" type="text/css" href="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/style.css">

    

    <link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="http://blog.csdn.net/xunzaosiyecao/rss/list">
    <link rel="shortcut icon" href="http://c.csdnimg.cn/public/favicon.ico">
    <link type="text/css" rel="stylesheet" href="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/default.css">
 



    <link href="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/csdn_public_blog_detail.min.css" type="text/css" rel="stylesheet">
     
         <link rel="stylesheet" href="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/csdn_blog_detail.min.css">

  


    <!-- 请置于所有广告位代码之前 --> 
            <script src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/ds.js.下载"></script>

<script src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/share.js.下载"></script><script src="https://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Hover_Arrow {position: absolute; width: 15px; height: 11px; cursor: pointer}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; color: #666666}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_Menu_Close {position: absolute; width: 31px; height: 31px; top: -15px; left: -15px}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><link type="text/css" rel="stylesheet" href="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/style(1).css"><style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style><link rel="stylesheet" type="text/css" href="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/style(2).css"><script src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/logger.js.下载"></script><link href="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/bdsstyle.css" rel="stylesheet" type="text/css"><link rel="stylesheet" href="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/share_style0_16.css"><script type="text/javascript" src="chrome-extension://pioclpoplcdbaefihamjohnefbikjilc/content/frame.js"></script><link id="clearly_highlighting_css" href="chrome-extension://pioclpoplcdbaefihamjohnefbikjilc/clearly/highlight/css/style.css" rel="stylesheet" type="text/css"><link id="clearly_highlighting_css_images" href="chrome-extension://pioclpoplcdbaefihamjohnefbikjilc/clearly/highlight/css/images.css" rel="stylesheet" type="text/css"></head>


<body class="js-evernote-checked" data-evernote-id="65"><div id="BAIDU_DUP_fp_wrapper" style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;"><iframe id="BAIDU_DUP_fp_iframe" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/o.html" style="width: 0px; height: 0px; visibility: hidden; display: none;" data-en_id="42205352"></iframe></div><iframe frameborder="0" style="display: none;" data-en_id="97665478" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/saved_resource.html"></iframe><div id="MathJax_Message" style="display: none;" data-evernote-id="3560" class="js-evernote-checked"></div><div class="csdn-toolbar csdn-toolbar-skin-black js-evernote-checked" data-evernote-id="3247">        <div class="container row center-block js-evernote-checked" data-evernote-id="66">          <div class="col-md-3 pull-left logo clearfix js-evernote-checked" data-evernote-id="3248"><a href="http://www.csdn.net/?ref=toolbar" title="CSDN首页" target="_blank" class="icon js-evernote-checked" data-evernote-id="67"></a><a title="频道首页" href="http://blog.csdn.net/?ref=toolbar_logo" class="img blog-icon js-evernote-checked" data-evernote-id="68"></a></div>          <div class="pull-right login-wrap unlogin js-evernote-checked" data-evernote-id="3274">            <ul class="btns js-evernote-checked" data-evernote-id="3264">              <li class="loginlink js-evernote-checked" data-evernote-id="3265"><a href="https://passport.csdn.net/account/login?ref=toolbar" target="_top" data-evernote-id="69" class="js-evernote-checked">登录&nbsp;</a>|<a target="_top" href="http://passport.csdn.net/account/mobileregister?ref=toolbar&amp;action=mobileRegister" data-evernote-id="70" class="js-evernote-checked">&nbsp;注册</a></li>              <li class="search js-evernote-checked" data-evernote-id="3266">                <div class="icon on-search-icon js-evernote-checked" data-evernote-id="3275">                  <div class="wrap js-evernote-checked" data-evernote-id="3276">                    <div class="curr-icon-wrap js-evernote-checked" data-evernote-id="3277">                      <div class="curr-icon js-evernote-checked" data-evernote-id="3278"></div>                    </div>                    <form action="http://so.csdn.net/search" id="toolbar_search" method="get" target="_blank" data-evernote-id="3279" class="js-evernote-checked">                      <input type="hidden" value="toolbar" name="ref" accesskey="2" data-evernote-id="3280" class="js-evernote-checked">                      <div class="border js-evernote-checked" data-evernote-id="3281">                        <input placeholder="搜索" type="text" value="" name="q" accesskey="2" data-evernote-id="3282" class="js-evernote-checked"><span class="icon-enter-sm js-evernote-checked" data-evernote-id="3283"></span>                      </div>                    </form>                  </div>                </div>              </li>              <li class="favor js-evernote-checked" data-evernote-id="3267">                <div class="icon on-favor-icon js-evernote-checked" data-evernote-id="3284">                  <div class="wrap js-evernote-checked" data-evernote-id="3285">                    <div class="curr-icon-wrap js-evernote-checked" data-evernote-id="3286">                      <div class="curr-icon js-evernote-checked" data-evernote-id="3287"></div>                    </div>                    <div style="display:none;" class="favor-success js-evernote-checked" data-evernote-id="3288"><span class="msg js-evernote-checked" data-evernote-id="3289">收藏成功</span>                      <div class="btns js-evernote-checked" data-evernote-id="3290"><span class="btn btn-primary ok js-evernote-checked" data-evernote-id="3291">确定</span></div>                    </div>                    <div style="display:none;" class="favor-failed js-evernote-checked" data-evernote-id="3292"><span class="icon-danger-lg js-evernote-checked" data-evernote-id="3293"></span><span class="msg js-evernote-checked" data-evernote-id="3294">收藏失败，请重新收藏</span>                      <div class="btns js-evernote-checked" data-evernote-id="3295"><span class="btn btn-primary ok js-evernote-checked" data-evernote-id="3296">确定</span></div>                    </div>                    <form role="form" class="form-horizontal favor-form js-evernote-checked" data-evernote-id="3297">                      <div class="form-group js-evernote-checked" data-evernote-id="3298">                        <div class="clearfix js-evernote-checked" data-evernote-id="3299">                          <label for="input-title" class="col-sm-2 control-label js-evernote-checked" data-evernote-id="3249"><span class="red_txt js-evernote-checked" data-evernote-id="3300">*</span>标题</label>                          <div class="col-sm-10 js-evernote-checked" data-evernote-id="3250">                            <input id="inputTitle" type="text" placeholder="" class="title form-control js-evernote-checked" data-evernote-id="3301">                          </div>                        </div>                        <div class="alert alert-danger js-evernote-checked" data-evernote-id="3302"><strong data-evernote-id="3303" class="js-evernote-checked"></strong>标题不能为空</div>                      </div>                      <div class="form-group js-evernote-checked" style="display:none;" data-evernote-id="3304">                        <label for="input-url" class="col-sm-2 control-label js-evernote-checked" data-evernote-id="3251">网址</label>                        <div class="col-sm-10 js-evernote-checked" data-evernote-id="3252">                          <input id="input-url" type="text" placeholder="" class="url form-control js-evernote-checked" data-evernote-id="3305">                        </div>                      </div>                      <div class="form-group js-evernote-checked" data-evernote-id="3306">                        <label for="input-tag" class="col-sm-2 tag control-label js-evernote-checked" data-evernote-id="3253">标签</label>                        <div class="col-sm-10 js-evernote-checked" data-evernote-id="3254">                          <input id="input-tag" type="text" class="form-control tag js-evernote-checked" data-evernote-id="3307">                        </div>                      </div>                      <div class="form-group js-evernote-checked" data-evernote-id="3308">                        <label for="input-description" class="description col-sm-2 control-label js-evernote-checked" data-evernote-id="3255">位置</label>                        <div class="col-sm-10 js-evernote-checked" data-evernote-id="3256">                          <div class="my_lib_box js-evernote-checked" data-evernote-id="3309">                            个人主页&nbsp;-&nbsp;<a href="http://my.csdn.net/" target="_blank" data-evernote-id="71" class="js-evernote-checked">我的知识</a>                          </div>                          <div class="checkbox js-evernote-checked" data-evernote-id="3310">                            <div class="pull-left js-evernote-checked" data-evernote-id="3257">                              <label data-evernote-id="3311" class="js-evernote-checked">                                <input type="checkbox" name="share" class="save_lib_map js-evernote-checked" checked="checked" data-evernote-id="3312">同时保存至：                              </label>                            </div>                            <div class="pull-left js-evernote-checked" data-evernote-id="3258">                              <div class="dropdown js-evernote-checked" data-evernote-id="3313">                                <button id="toolbar_sele_map" type="button" data-evernote-id="3314" class="js-evernote-checked">                                  选择知识图谱                                  <i class="fa fa-chevron-down js-evernote-checked" data-evernote-id="3315"></i>                                </button>                                <div class="top_arr js-evernote-checked" data-evernote-id="3316"></div>                                <div class="outside js-evernote-checked" data-evernote-id="3317">                                  <ul class="dropdown-menu js-evernote-checked" id="toolbar_Design_knowledge" data-evernote-id="3268"><li data-evernote-id="3269" class="js-evernote-checked">选择知识图谱</li></ul>                                </div>                              </div>                            </div>                            <div class="pull-left new_txt js-evernote-checked" data-evernote-id="3259">                              <a href="http://lib.csdn.net/my/create/structure" target="_blank" data-evernote-id="72" class="js-evernote-checked">新建？</a>                            </div>                          </div>                        </div>                      </div>                      <div class="form-group js-evernote-checked" data-evernote-id="3318">                        <div class="col-sm-offset-2 col-sm-10 ft js-evernote-checked" data-evernote-id="3260">                          <div class="col-sm-4 pull-left js-evernote-checked" style="display:none" data-evernote-id="3261">                            <div class="checkbox js-evernote-checked" data-evernote-id="3319">                              <label data-evernote-id="3320" class="js-evernote-checked">                                <input type="checkbox" name="share" checked="checked" class="share js-evernote-checked" data-evernote-id="3321">公开                              </label>                            </div>                          </div>                          <div class="col-sm-8 pull-right favor-btns js-evernote-checked" data-evernote-id="3262">                            <button type="button" class="cancel btn btn-default js-evernote-checked" data-evernote-id="3322">取消</button>                            <button type="submit" class="submit btn btn-primary js-evernote-checked" data-evernote-id="3323">收藏</button>                          </div>                        </div>                      </div>                    </form>                  </div>                </div>              </li>              <li class="notify js-evernote-checked" data-evernote-id="3270">                <div style="display:none" class="number js-evernote-checked" data-evernote-id="3324"></div>                <div style="display:none" class="icon-hasnotes-sm js-evernote-checked" data-evernote-id="3325"></div>                <div id="header_notice_num" data-evernote-id="3326" class="js-evernote-checked"></div>                <div class="icon on-notify-icon js-evernote-checked" data-evernote-id="3327">                  <div class="wrap js-evernote-checked" data-evernote-id="3328">                    <div class="curr-icon-wrap js-evernote-checked" data-evernote-id="3329">                      <div class="curr-icon js-evernote-checked" data-evernote-id="3330"></div>                    </div>                    <div id="note1" class="csdn_note js-evernote-checked" data-evernote-id="3331">                      <div class="box js-evernote-checked" data-evernote-id="3332"></div>                    <iframe src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/saved_resource(1).html" frameborder="0" allowtransparency="true" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background:transparent" data-en_id="27628197" data-evernote-id="3333" class="js-evernote-checked"></iframe></div>                  </div>                </div>              </li>              <li class="ugc js-evernote-checked" data-evernote-id="3271">                <div class="icon on-ugc-icon js-evernote-checked" data-evernote-id="3334">                  <div class="wrap clearfix js-evernote-checked" data-evernote-id="3335">                    <div class="curr-icon-wrap js-evernote-checked" data-evernote-id="3336">                      <div class="curr-icon js-evernote-checked" data-evernote-id="3337"></div>                    </div>                    <dl data-evernote-id="3338" class="js-evernote-checked">                      <dt data-evernote-id="3339" class="js-evernote-checked"><a href="http://geek.csdn.net/news/expert?ref=toolbar" target="_blank" class="p-news clearfix js-evernote-checked" style="display:none;" data-evernote-id="73"><em class="icon js-evernote-checked" data-evernote-id="3340"></em><span data-evernote-id="3341" class="js-evernote-checked">分享资讯</span></a></dt>                      <dt style="border: none;" data-evernote-id="3342" class="js-evernote-checked"><a href="http://u.download.csdn.net/upload?ref=toolbar" target="_blank" class="p-doc clearfix js-evernote-checked" data-evernote-id="74"><em class="icon js-evernote-checked" data-evernote-id="3343"></em><span data-evernote-id="3344" class="js-evernote-checked">传PPT/文档</span></a></dt>                      <dt data-evernote-id="3345" class="js-evernote-checked"><a href="http://bbs.csdn.net/topics/new?ref=toolbar" target="_blank" class="p-ask clearfix js-evernote-checked" data-evernote-id="75"><em class="icon js-evernote-checked" data-evernote-id="3346"></em><span data-evernote-id="3347" class="js-evernote-checked">提问题</span></a></dt>                      <dt data-evernote-id="3348" class="js-evernote-checked"><a href="http://write.blog.csdn.net/postedit?ref=toolbar" target="_blank" class="p-blog clearfix js-evernote-checked" data-evernote-id="76"><em class="icon js-evernote-checked" data-evernote-id="3349"></em><span data-evernote-id="3350" class="js-evernote-checked">写博客</span></a></dt>                      <dt data-evernote-id="3351" class="js-evernote-checked"><a href="http://u.download.csdn.net/upload?ref=toolbar" target="_blank" class="p-src clearfix js-evernote-checked" data-evernote-id="77"><em class="icon js-evernote-checked" data-evernote-id="3352"></em><span data-evernote-id="3353" class="js-evernote-checked">传资源</span></a></dt>                      <dt data-evernote-id="3354" class="js-evernote-checked"><a href="https://code.csdn.net/projects/new?ref=toolbar" target="_blank" class="c-obj clearfix js-evernote-checked" data-evernote-id="78"><em class="icon js-evernote-checked" data-evernote-id="3355"></em><span data-evernote-id="3356" class="js-evernote-checked">创建项目</span></a></dt>                      <dt data-evernote-id="3357" class="js-evernote-checked"><a href="https://code.csdn.net/snippets/new?ref=toolbar" target="_blank" class="c-code clearfix js-evernote-checked" data-evernote-id="79"><em class="icon js-evernote-checked" data-evernote-id="3358"></em><span data-evernote-id="3359" class="js-evernote-checked">创建代码片</span></a></dt>                    </dl>                  </div>                </div>              </li>              <li class="profile js-evernote-checked" data-evernote-id="3272">                <div class="icon on-profile-icon js-evernote-checked" data-evernote-id="3360"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/100x100.jpg" class="curr-icon-img js-evernote-checked" data-evernote-id="3361">                  <div class="wrap clearfix js-evernote-checked" data-evernote-id="3362">                    <div class="curr-icon-wrap js-evernote-checked" data-evernote-id="3363">                      <div class="curr-icon js-evernote-checked" data-evernote-id="3364"></div>                    </div>                    <div class="bd js-evernote-checked" data-evernote-id="3365">                      <dl class="clearfix js-evernote-checked" data-evernote-id="3366">                        <dt class="pull-left img js-evernote-checked" data-evernote-id="3263"><a target="_blank" href="http://my.csdn.net/?ref=toolbar" class="avatar js-evernote-checked" data-evernote-id="80"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/100x100.jpg" data-evernote-id="3367" class="js-evernote-checked"></a></dt>                        <dd class="info js-evernote-checked" style="border: none;" data-evernote-id="3368"><a target="_blank" href="http://my.csdn.net/?ref=toolbar" class="nickname js-evernote-checked" data-evernote-id="81"></a><a class="set-nick js-evernote-checked" href="https://passport.csdn.net/account/profile" data-evernote-id="82">设置昵称<span class="write-icon js-evernote-checked" data-evernote-id="3369"></span></a><span class="dec js-evernote-checked" data-evernote-id="3370"><a class="fill-dec js-evernote-checked" href="http://my.csdn.net/" target="_blank" data-evernote-id="83">编辑自我介绍，让更多人了解你<span class="write-icon js-evernote-checked" data-evernote-id="3371"></span></a></span></dd>                      </dl>                    </div>                    <div class="ft clearfix js-evernote-checked" data-evernote-id="3372"><a target="_blank" href="http://my.csdn.net/my/account/changepwd?ref=toolbar" class="pull-left js-evernote-checked" data-evernote-id="84"><span class="icon-cog js-evernote-checked" data-evernote-id="3373"></span>帐号设置</a><a href="https://passport.csdn.net/account/logout?ref=toolbar" target="_top" class="pull-left js-evernote-checked" style="margin-left:132px; width:18px; height:27px; white-space:nowrap; overflow:hidden;" data-evernote-id="85"><span class="icon-signout js-evernote-checked" data-evernote-id="3374"></span><span class="out js-evernote-checked" data-evernote-id="3375">退出</span></a></div>                  </div>                </div>              </li>              <li class="apps js-evernote-checked" data-evernote-id="3273">                <div id="chasnew123" class="hasnew js-evernote-checked" style="display: none;" data-evernote-id="3376"></div>                <div id="cappsarea123" class="icon on-apps-icon js-evernote-checked" data-evernote-id="3377">                  <div class="wrap clearfix js-evernote-checked" data-evernote-id="3378">                    <div class="curr-icon-wrap js-evernote-checked" data-evernote-id="3379">                      <div class="curr-icon js-evernote-checked" data-evernote-id="3380"></div>                    </div>                  <div class="detail js-evernote-checked" data-evernote-id="3381">                    <dl data-evernote-id="3382" class="js-evernote-checked">                      <dt data-evernote-id="3383" class="js-evernote-checked">                        <h5 data-evernote-id="1" class="js-evernote-checked">社区</h5>                      </dt>                      <dd data-evernote-id="3384" class="js-evernote-checked"> <a href="http://blog.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="86" class="js-evernote-checked">博客</a></dd>                      <dd data-evernote-id="3385" class="js-evernote-checked"> <a href="http://bbs.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="87" class="js-evernote-checked">论坛</a></dd>                      <dd data-evernote-id="3386" class="js-evernote-checked"> <a href="http://download.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="88" class="js-evernote-checked">下载</a></dd>                      <dd data-evernote-id="3387" class="js-evernote-checked"> <a href="http://lib.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="89" class="js-evernote-checked">知识库</a></dd>                      <dd data-evernote-id="3388" class="js-evernote-checked"><a href="http://ask.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="90" class="js-evernote-checked">技术问答</a></dd>                      <dd data-evernote-id="3389" class="js-evernote-checked"><a href="http://geek.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="91" class="js-evernote-checked">极客头条</a></dd>                      <dd style="display:none" data-evernote-id="3390" class="js-evernote-checked"> <a href="http://hero.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="92" class="js-evernote-checked">英雄会</a></dd>                    </dl>                  </div>                  <div class="detail js-evernote-checked" data-evernote-id="3391">                    <dl data-evernote-id="3392" class="js-evernote-checked">                      <dt data-evernote-id="3393" class="js-evernote-checked">                        <h5 data-evernote-id="2" class="js-evernote-checked">服务</h5>                      </dt>                      <dd style="display:none" data-evernote-id="3394" class="js-evernote-checked"> <a href="http://job.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="93" class="js-evernote-checked">JOB<img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/new.gif" style="display: none; margin-top: -26px; width: 23px;" data-evernote-id="3395" class="js-evernote-checked"></a></dd>                      <dd data-evernote-id="3396" class="js-evernote-checked"> <a href="http://edu.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="94" class="js-evernote-checked">学院<img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/new.gif" style="display: none; margin-top: -26px; width: 23px;" data-evernote-id="3397" class="js-evernote-checked"></a></dd>                      <dd data-evernote-id="3398" class="js-evernote-checked"> <a href="https://code.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="95" class="js-evernote-checked">CODE</a></dd>                      <dd data-evernote-id="3399" class="js-evernote-checked"> <a href="http://huiyi.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="96" class="js-evernote-checked">活动</a></dd>                      <dd data-evernote-id="3400" class="js-evernote-checked"> <a href="http://www.csto.com/?ref=toolbar" target="_blank" data-evernote-id="97" class="js-evernote-checked">CSTO</a></dd>                      <dd data-evernote-id="3401" class="js-evernote-checked"> <a href="http://mall.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="98" class="js-evernote-checked">C币兑换<img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/new.gif" style="display: none; margin-top: -26px; width: 23px;" data-evernote-id="3402" class="js-evernote-checked"></a></dd>                    </dl>                  </div>                  <div class="detail last js-evernote-checked" data-evernote-id="3403">                    <dl data-evernote-id="3404" class="js-evernote-checked">                      <dt data-evernote-id="3405" class="js-evernote-checked">                        <h5 data-evernote-id="3" class="js-evernote-checked">俱乐部</h5>                      </dt>                      <dd data-evernote-id="3406" class="js-evernote-checked"> <a href="http://cto.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="99" class="js-evernote-checked">CTO俱乐部</a></dd>                      <dd data-evernote-id="3407" class="js-evernote-checked"> <a href="http://student.csdn.net/?ref=toolbar" target="_blank" data-evernote-id="100" class="js-evernote-checked">高校俱乐部</a></dd>                    </dl>                  </div>                </div>              </div>            </li>            </ul>          </div>        </div>    </div>
     

    <!-- 广告位开始 -->
        
    <!-- 广告位结束 -->

    
   
      <!--new top-->
    <script id="toolbar-tpl-scriptId" fixed="true" prod="blog" skin="black" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/html.js.下载" type="text/javascript"></script>
     <!--new top-->
    <div id="container">
        <div id="header" data-evernote-id="832" class="js-evernote-checked">
    <div class="header js-evernote-checked" data-evernote-id="467">
        <div id="blog_title">
            <h2 data-evernote-id="4" class="js-evernote-checked">
                <a href="http://blog.csdn.net/jiankunking" data-evernote-id="101" class="js-evernote-checked">衣舞晨风</a></h2>
            <h3 data-evernote-id="5" class="js-evernote-checked">勿忘初心</h3>
            <div class="clear">
            </div>
        </div>
        <div class="clear">
        </div>
        
     
    </div>
</div>
<div id="navigator" data-evernote-id="615" class="js-evernote-checked">
    <div class="navigator_bg">
    </div>
    <div class="navigator js-evernote-checked" data-evernote-id="616">
        <ul data-evernote-id="468" class="js-evernote-checked">           
                <li id="btnContents" data-evernote-id="489" class="js-evernote-checked"><a href="http://blog.csdn.net/jiankunking?viewmode=contents" data-evernote-id="102" class="js-evernote-checked"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_mulu&#39;])">
                    <img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/ico_list.gif" data-evernote-id="617" class="js-evernote-checked">目录视图</span></a></li>
                <li id="btnView" data-evernote-id="490" class="js-evernote-checked"><a href="http://blog.csdn.net/jiankunking?viewmode=list" data-evernote-id="103" class="js-evernote-checked"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_zhaiyao&#39;])">
                    <img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/ico_summary.gif" data-evernote-id="618" class="js-evernote-checked">摘要视图</span></a></li>
                <li id="btnRss" data-evernote-id="491" class="js-evernote-checked"><a href="http://blog.csdn.net/jiankunking/rss/list" data-evernote-id="104" class="js-evernote-checked"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_RSS&#39;])">
                    <img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/ico_rss.gif" data-evernote-id="619" class="js-evernote-checked">订阅</span></a></li>                
            

            </ul>
    </div>
</div>
<script type="text/javascript">
    var username = "xunzaosiyecao";
    var _blogger = username;
    var blog_address = "http://blog.csdn.net/jiankunking";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "";  
</script>

        <div id="body" data-evernote-id="620" class="js-evernote-checked">
            <div id="main" data-evernote-id="738" class="js-evernote-checked">
                <div class="main js-evernote-checked" data-evernote-id="739">
                        <div class="ad_class js-evernote-checked" data-evernote-id="740">
<div class="notice tracking-ad js-evernote-checked" data-mod="popu_3" data-evernote-id="741"> 


<a href="http://blog.csdn.net/epubit17/article/details/76066685" target="_blank" data-evernote-id="105" class="js-evernote-checked">
<font color="red"><strong>赠书 | AI专栏（AI圣经！《深度学习》中文版）</strong></font></a>

&nbsp;&nbsp;&nbsp;&nbsp;


<a href="http://blog.csdn.net/broadview2006/article/details/77053543" target="_blank" data-evernote-id="106" class="js-evernote-checked">
<font color="blue"><strong>每周荐书：分布式、深度学习算法、iOS（评论送书）</strong></font></a>

&nbsp;&nbsp;&nbsp;&nbsp;


<a href="http://blog.csdn.net/blogdevteam/article/details/74550215" target="_blank" data-evernote-id="107" class="js-evernote-checked">
<font color="red"><strong>【获奖公布】征文 | 你会为 AI 转型么？</strong></font></a>

</div>                        </div>

                        



  






<script type="text/javascript" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/category.js.下载"></script>

  <script type="text/ecmascript">
      window.quickReplyflag = true;
      var isBole = false; 
      var fasrc="http://my.csdn.net/my/favorite/miniadd?t=Java+JDK+%e5%8a%a8%e6%80%81%e4%bb%a3%e7%90%86%ef%bc%88AOP%ef%bc%89%e4%bd%bf%e7%94%a8%e5%8f%8a%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%88%86%e6%9e%90&u=http://blog.csdn.net/jiankunking/article/details/52143504"
    </script>
<div id="article_details" class="details js-evernote-checked" data-evernote-id="742">
    <div class="article_title js-evernote-checked" data-evernote-id="743">   
         <span class="ico ico_type_Original js-evernote-checked" data-evernote-id="744"></span>

    <h1 data-evernote-id="6" class="js-evernote-checked">
        <span class="link_title"><a href="http://blog.csdn.net/jiankunking/article/details/52143504" data-evernote-id="108" class="js-evernote-checked">
        Java JDK 动态代理（AOP）使用及实现原理分析        
           
        </a>
        </span>

         
    </h1>
</div>

   

        <div class="article_manage clearfix js-evernote-checked" data-evernote-id="745">
        <div class="article_l js-evernote-checked" data-evernote-id="3508">
            <span class="link_categories js-evernote-checked" data-evernote-id="746">
            标签：
              <a href="http://www.csdn.net/tag/Java" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);" data-evernote-id="109" class="js-evernote-checked">Java</a><a href="http://www.csdn.net/tag/jdk" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);" data-evernote-id="110" class="js-evernote-checked">jdk</a><a href="http://www.csdn.net/tag/%e5%8a%a8%e6%80%81%e4%bb%a3%e7%90%86" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);" data-evernote-id="111" class="js-evernote-checked">动态代理</a><a href="http://www.csdn.net/tag/%e4%bb%a3%e7%90%86" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);" data-evernote-id="112" class="js-evernote-checked">代理</a><a href="http://www.csdn.net/tag/%e4%bb%a3%e7%90%86%e6%a8%a1%e5%bc%8f" target="_blank" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_tag&#39;]);" data-evernote-id="113" class="js-evernote-checked">代理模式</a>
            </span>
        </div>
        <div class="article_r">
            <span class="link_postdate js-evernote-checked" data-evernote-id="747">2016-08-07 20:17</span>
            <span class="link_view js-evernote-checked" title="阅读次数" data-evernote-id="748">4949人阅读</span>
            <span class="link_comments js-evernote-checked" title="评论次数" data-evernote-id="749"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#comments" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_pinglun&#39;])" data-evernote-id="114" class="js-evernote-checked">评论</a>(7)</span>
            <span class="link_collect tracking-ad js-evernote-checked" data-mod="popu_171" data-evernote-id="750"> <a href="javascript:void(0);" onclick="javascript:collectArticle(&#39;Java+JDK+%e5%8a%a8%e6%80%81%e4%bb%a3%e7%90%86%ef%bc%88AOP%ef%bc%89%e4%bd%bf%e7%94%a8%e5%8f%8a%e5%ae%9e%e7%8e%b0%e5%8e%9f%e7%90%86%e5%88%86%e6%9e%90&#39;,&#39;52143504&#39;);return false;" title="收藏" target="_blank" data-evernote-id="115" class="js-evernote-checked">收藏</a></span>
             <span class="link_report js-evernote-checked" data-evernote-id="751"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#report" onclick="javascript:report(52143504,2);return false;" title="举报" data-evernote-id="116" class="js-evernote-checked">举报</a></span>

        </div>
    </div>    <style type="text/css">        
            .embody{
                padding:10px 10px 10px;
                margin:0 -20px;
                border-bottom:solid 1px #ededed;                
            }
            .embody_b{
                margin:0 ;
                padding:10px 0;
            }
            .embody .embody_t,.embody .embody_c{
                display: inline-block;
                margin-right:10px;
            }
            .embody_t{
                font-size: 12px;
                color:#999;
            }
            .embody_c{
                font-size: 12px;
            }
            .embody_c img,.embody_c em{
                display: inline-block;
                vertical-align: middle;               
            }
             .embody_c img{               
                width:30px;
                height:30px;
            }
            .embody_c em{
                margin: 0 20px 0 10px;
                color:#333;
                font-style: normal;
            }
    </style>
    <script type="text/javascript">
        $(function () {
            try
            {
                var lib = eval("("+$("#lib").attr("value")+")");
                var html = "";
                if (lib.err == 0) {
                    $.each(lib.data, function (i) {
                        var obj = lib.data[i];
                        //html += '<img src="' + obj.logo + '"/>' + obj.name + "&nbsp;&nbsp;";
                        html += ' <a href="' + obj.url + '" target="_blank">';
                        html += ' <img src="' + obj.logo + '">';
                        html += ' <em><b>' + obj.name + '</b></em>';
                        html += ' </a>';
                    });
                    if (html != "") {
                        setTimeout(function () {
                            $("#lib").html(html);                      
                            $("#embody").show();
                        }, 100);
                    }
                }      
            } catch (err)
            { }
            
        });
    </script>
      <div class="category clearfix js-evernote-checked" data-evernote-id="3502">
        <div class="category_l js-evernote-checked" data-evernote-id="3503">
           <img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/category_icon.jpg" data-evernote-id="3490" class="js-evernote-checked" width="15" height="13">
            <span data-evernote-id="3491" class="js-evernote-checked">分类：</span>
        </div>
        <div class="category_r js-evernote-checked" data-evernote-id="3504">
                    <label onclick="GetCategoryArticles(&#39;6238108&#39;,&#39;xunzaosiyecao&#39;,&#39;top&#39;,&#39;52143504&#39;);" data-evernote-id="3507" class="js-evernote-checked">
                        <span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_fenlei&#39;]);">Java<em data-evernote-id="3505" class="js-evernote-checked">（42）</em></span>
                      <img class="arrow-down js-evernote-checked" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/arrow_triangle _down.jpg" style="display:inline;" data-evernote-id="3594" width="10" height="5">
                      <img class="arrow-up js-evernote-checked" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/arrow_triangle_up.jpg" style="display: none;" data-evernote-id="3595">
                        <div class="subItem js-evernote-checked" data-evernote-id="3509">
                            <div class="subItem_t js-evernote-checked" data-evernote-id="3510"><a href="http://blog.csdn.net/xunzaosiyecao/article/category/6238108" target="_blank" data-evernote-id="117" class="js-evernote-checked">作者同类文章</a><i class="J_close js-evernote-checked" data-evernote-id="3506">X</i></div>
                            <ul class="subItem_l js-evernote-checked" id="top_6238108" data-evernote-id="3511">                            
                            </ul>
                        </div>
                    </label>                    
        </div>
    </div>
        <div class="bog_copyright js-evernote-checked" data-evernote-id="3528">         
            <p class="copyright_p js-evernote-checked" data-evernote-id="7">版权声明：作者：jiankunking 出处：http://blog.csdn.net/jiankunking  本文版权归作者和CSDN共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接。</p>
        </div>

  

  
  
     


<div style="clear:both"></div><div style="border:solid 1px #ccc; background:#eee; float:left; min-width:200px;padding:4px 10px;"><p style="text-align:right;margin:0;" data-evernote-id="8" class="js-evernote-checked"><span style="float:left;">目录<a href="http://blog.csdn.net/jiankunking/article/details/52143504#" title="系统根据文章中H1到H6标签自动生成文章目录" data-evernote-id="118" class="js-evernote-checked">(?)</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" onclick="javascript:return openct(this);" title="展开" data-evernote-id="119" class="js-evernote-checked">[+]</a></p><ol style="display:none;margin-left:14px;padding-left:14px;line-height:160%;"><li><a href="http://blog.csdn.net/jiankunking/article/details/52143504#t0" data-evernote-id="120" class="js-evernote-checked">一什么是代理</a></li><li><a href="http://blog.csdn.net/jiankunking/article/details/52143504#t1" data-evernote-id="121" class="js-evernote-checked">二Java 动态代理类&nbsp;</a></li><li><a href="http://blog.csdn.net/jiankunking/article/details/52143504#t2" data-evernote-id="122" class="js-evernote-checked">三JDK的动态代理怎么使用</a></li><li><a href="http://blog.csdn.net/jiankunking/article/details/52143504#t3" data-evernote-id="123" class="js-evernote-checked">四动态代理怎么实现的</a></li><li><a href="http://blog.csdn.net/jiankunking/article/details/52143504#t4" data-evernote-id="124" class="js-evernote-checked">五结论</a></li></ol></div><div style="clear:both"></div><div id="article_content" class="article_content tracking-ad js-evernote-checked" data-mod="popu_307" data-dsm="post" data-evernote-id="752">
<h1 data-evernote-id="9" class="js-evernote-checked"><a name="t0" target="_blank" data-evernote-id="125" class="js-evernote-checked"></a>一、什么是代理？<br></h1><p data-evernote-id="10" class="js-evernote-checked"><span class="token p" style="box-sizing: border-box; color: rgb(90, 90, 90); font-family: &#39;microsoft yahei&#39;; font-size: 18px; line-height: 29.7px; white-space: pre-wrap; outline: none !important;">        代理是一种常用的设计模式，其目的就是为其他对象提供一个代理以控制对某个对象的访问。代理类负责为委托类预处理消息，过滤消息并转发消息，以及进行消息被委托类执行后的后续处理。</span></p><p data-evernote-id="11" class="js-evernote-checked"><span class="token lf" style="box-sizing: border-box; color: rgb(90, 90, 90); font-family: &#39;microsoft yahei&#39;; font-size: 18px; line-height: 29.7px; white-space: pre-wrap; outline: none !important;"></span><span class="token p" style="box-sizing: border-box; color: rgb(90, 90, 90); font-family: &#39;microsoft yahei&#39;; font-size: 18px; line-height: 29.7px; white-space: pre-wrap; outline: none !important;">代理模式UML图：</span></p><p data-evernote-id="12" class="js-evernote-checked"><span class="token p" style="box-sizing: border-box; color: rgb(90, 90, 90); font-family: &#39;microsoft yahei&#39;; font-size: 18px; line-height: 29.7px; white-space: pre-wrap; outline: none !important;"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160807170246461" alt="" data-evernote-id="753" class="js-evernote-checked" width="355" height="240"><br></span></p><p data-evernote-id="13" class="js-evernote-checked"><span style="font-size:14px;">简单结构示意图：</span><br></p><p data-evernote-id="14" class="js-evernote-checked"><span style="font-size:14px;"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160810080241992" alt="" data-evernote-id="754" class="js-evernote-checked" width="685" height="264"><br></span></p><p data-evernote-id="15" class="js-evernote-checked"><span class="token p" style="box-sizing: border-box; color: rgb(90, 90, 90); font-family: &#39;microsoft yahei&#39;; font-size: 18px; line-height: 29.7px; white-space: pre-wrap; outline: none !important;"><span style="color: rgb(90, 90, 90); font-family: &#39;microsoft yahei&#39;; font-size: 18px; line-height: 29.7px; white-space: pre-wrap;">        </span>为了保持行为的一致性，代理类和委托类通常会实现相同的接口，所以在访问者看来两者没有丝毫的区别。通过代理类这中间一层，能有效控制对委托类对象的直接访问，也可以很好地隐藏和保护委托类对象，同时也为实施不同控制策略预留了空间，从而在设计上获得了更大的灵活性。<a href="http://lib.csdn.net/base/java" class="replace_word js-evernote-checked" title="Java 知识库" target="_blank" style="color:#df3434; font-weight:bold;" data-evernote-id="126">Java</a> 动态代理机制以巧妙的方式近乎完美地实践了代理模式的设计理念。</span></p><h1 data-evernote-id="16" class="js-evernote-checked"><a name="t1" target="_blank" data-evernote-id="127" class="js-evernote-checked"></a>二、Java 动态代理类&nbsp;</h1><div><p data-evernote-id="17" class="js-evernote-checked"><span style="font-size:14px;">Java动态代理类位于java.lang.reflect包下，一般主要涉及到以下两个类：</span></p><p data-evernote-id="18" class="js-evernote-checked"><span style="font-size:14px;">(1)Interface InvocationHandler：该接口中仅定义了一个方法</span></p><div><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="759"><div class="bar js-evernote-checked" data-evernote-id="3213"><div class="tools js-evernote-checked" data-evernote-id="3230"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="128">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="129">copy</a><div style="position: absolute; left: 448px; top: 1371px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_1" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_1" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=1&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="130">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="131">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="833"><li class="alt js-evernote-checked" data-evernote-id="834"><span data-evernote-id="835" class="js-evernote-checked"><span data-evernote-id="836" class="js-evernote-checked">publicobject&nbsp;invoke(Object&nbsp;obj,Method&nbsp;method,&nbsp;Object[]&nbsp;args)&nbsp;&nbsp;</span></span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160916_1_6865191" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3609">publicobject invoke(Object obj,Method method, Object[] args)</pre></div><p data-evernote-id="19" class="js-evernote-checked"><span style="font-size:14px;">在实际使用时，<span style="color:#ff0000;">第一个参数obj一般是指代理类，method是被代理的方法，如上例中的request()，args为该方法的参数数组。</span>这个抽象方法在代理类中动态实现。 </span></p><p data-evernote-id="20" class="js-evernote-checked"><span style="font-size:14px;">(2)Proxy：<span style="color:#ff0000;">该类即为动态代理类</span>，其中主要包含以下内容：</span></p><p data-evernote-id="21" class="js-evernote-checked"><span style="font-size:14px;"></span></p><p data-evernote-id="22" class="js-evernote-checked"><span style="color:#1C1C1C;">protected Proxy(</span><span style="color:#1C1C1C;">InvocationHandler</span><span style="color:#1C1C1C;"> h)</span><span style="color:#1C1C1C;">：构造函数，用于给内部的</span><span style="color:#1C1C1C;">h</span><span style="color:#1C1C1C;">赋值。</span></p><p data-evernote-id="23" class="js-evernote-checked"><span style="color:#1C1C1C;">static Class </span><span style="color:#1C1C1C;">getProxyClass</span><span style="color:#1C1C1C;"> (</span><span style="color:#1C1C1C;">ClassLoader</span><span style="color:#1C1C1C;">loader, Class[] interfaces)</span><span style="color:#1C1C1C;">：获得一个代理类，其中</span><span style="color:#1C1C1C;">loader</span><span style="color:#1C1C1C;">是类装载器，</span><span style="color:#1C1C1C;">interfaces</span><span style="color:#1C1C1C;">是真实类所拥有的全部接口的数组。</span></p><p data-evernote-id="24" class="js-evernote-checked"><span style="color:#1C1C1C;">static Object </span><span style="color:#1C1C1C;">newProxyInstance</span><span style="color:#1C1C1C;">(</span><span style="color:#1C1C1C;">ClassLoader</span><span style="color:#1C1C1C;">loader, Class[] interfaces, </span><span style="color:#1C1C1C;">InvocationHandler</span><span style="color:#1C1C1C;"> h)</span><span style="color:#1C1C1C;">：</span><span style="color:red;">返回代理类的一个实例</span><span style="color:#1C1C1C;">，返回后的代理类可以当作被代理类使用</span><span style="color:#1C1C1C;">(</span><span style="color:#1C1C1C;">可使用被代理类的在</span><span style="color:#1C1C1C;">Subject</span><span style="color:#1C1C1C;">接口中声明过的方法</span><span style="color:#1C1C1C;">)</span></p><p data-evernote-id="25" class="js-evernote-checked"></p><p data-evernote-id="26" class="js-evernote-checked"><span style="font-size:14px;"><span style="color: rgb(28, 28, 28);">所谓</span><span style="color: rgb(28, 28, 28);">DynamicProxy</span><span style="color: rgb(28, 28, 28);">是这样一种</span><span style="color: rgb(28, 28, 28);">class</span><span style="color: rgb(28, 28, 28);">：它是在运行时生成的</span><span style="color: rgb(28, 28, 28);">class</span><span style="color: rgb(28, 28, 28);">，</span><span style="color: red;">在生成它时你必须提供一组</span><span style="color: red;">interface</span><span style="color: red;">给它，然后该</span><span style="color: red;">class</span><span style="color: red;">就宣称它实现了这些 </span><span style="color: red;">interface</span><span style="color: rgb(28, 28, 28);">。你当然可以把该</span><span style="color: rgb(28, 28, 28);">class</span><span style="color: rgb(28, 28, 28);">的实例当作这些</span><span style="color: rgb(28, 28, 28);">interface</span><span style="color: rgb(28, 28, 28);">中的任何一个来用。当然，这个</span><span style="color: rgb(28, 28, 28);">DynamicProxy</span><span style="color: rgb(28, 28, 28);">其实就是一个</span><span style="color: rgb(28, 28, 28);">Proxy</span><span style="color: rgb(28, 28, 28);">，它不会替你作实质性的工作，</span><span style="color: red;">在生成它的实例时你必须提供一个</span><span style="color: red;">handler</span><span style="color: red;">，由它接管实际的工作</span></span>。</p><p data-evernote-id="27" class="js-evernote-checked"></p><p data-evernote-id="28" class="js-evernote-checked"><span style="font-size:14px;"><span style="color:#1C1C1C;">在使用动态代理类时，我们必须实现</span><span style="color:red;">InvocationHandler</span><span style="color:#1C1C1C;">接口</span></span></p><p data-evernote-id="29" class="js-evernote-checked"><span style="font-size:14px;"><span style="color:#1C1C1C;"></span></span></p><p data-evernote-id="30" class="js-evernote-checked"><span style="color:#1C1C1C;">通过这种方式，被代理的对象</span><span style="color:#1C1C1C;">(</span><span style="color:#1C1C1C;">RealSubject</span><span style="color:#1C1C1C;">)</span><span style="color:#1C1C1C;">可以在运行时动态改变，需要控制的接口</span><span style="color:#1C1C1C;">(Subject</span><span style="color:#1C1C1C;">接口</span><span style="color:#1C1C1C;">)</span><span style="color:#1C1C1C;">可以在运行时改变，控制的方式</span><span style="color:#1C1C1C;">(</span><span style="color:#1C1C1C;">DynamicSubject</span><span style="color:#1C1C1C;">类</span><span style="color:#1C1C1C;">)</span><span style="color:#1C1C1C;">也可以动态改变，从而实现了非常灵活的动态代理关系。</span></p><p data-evernote-id="31" class="js-evernote-checked"><span style="color: rgb(28, 28, 28);"><span style="font-size:14px;"><strong>动态代理步骤</strong>：<br>1.创建一个实现接口InvocationHandler的类，它必须实现invoke方法<br>2.创建被代理的类以及接口<br>3.通过Proxy的静态方法<br>newProxyInstance(ClassLoaderloader, Class[] interfaces, InvocationHandler h)创建一个代理<br>4.通过代理调用方法</span><br></span></p><p data-evernote-id="32" class="js-evernote-checked"><span style="color: rgb(28, 28, 28);"><span style="font-size:14px;"><br></span></span></p></div><h1 data-evernote-id="33" class="js-evernote-checked"><a name="t2" target="_blank" data-evernote-id="132" class="js-evernote-checked"></a><span class="token p" style="box-sizing: border-box; outline: none !important;">三、JDK的动态代理怎么使用？</span></h1><div><span class="token p" style="box-sizing: border-box; outline: none !important;"><span style="font-size:14px;">1、需要动态代理的接口：</span><br></span></div><p data-evernote-id="34" class="js-evernote-checked"><span style="font-size:14px;"></span></p><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="760"><div class="bar js-evernote-checked" data-evernote-id="3214"><div class="tools js-evernote-checked" data-evernote-id="3231"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="133">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="134">copy</a><div style="position: absolute; left: 448px; top: 2256px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_2" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_2" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=2&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="135">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="136">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="837"><li class="alt js-evernote-checked" data-evernote-id="838"><span data-evernote-id="839" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="840">package</span><span data-evernote-id="841" class="js-evernote-checked">&nbsp;jiankunking;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="842"><span data-evernote-id="843" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="844"><span data-evernote-id="845" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="846">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="847"><span data-evernote-id="848" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="849">&nbsp;*&nbsp;需要动态代理的接口</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="850"><span data-evernote-id="851" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="852">&nbsp;*/</span><span data-evernote-id="853" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="854"><span data-evernote-id="855" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="856">public</span><span data-evernote-id="857" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="858">interface</span><span data-evernote-id="859" class="js-evernote-checked">&nbsp;Subject&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="860"><span data-evernote-id="861" class="js-evernote-checked">{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="862"><span data-evernote-id="863" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="864">/**</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="865"><span data-evernote-id="866" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="867">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;你好</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="868"><span data-evernote-id="869" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="870">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="871"><span data-evernote-id="872" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="873">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;name</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="874"><span data-evernote-id="875" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="876">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="877"><span data-evernote-id="878" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="879">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="880" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="881"><span data-evernote-id="882" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="883">public</span><span data-evernote-id="884" class="js-evernote-checked">&nbsp;String&nbsp;SayHello(String&nbsp;name);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="885"><span data-evernote-id="886" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="887"><span data-evernote-id="888" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="889">/**</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="890"><span data-evernote-id="891" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="892">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;再见</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="893"><span data-evernote-id="894" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="895">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="896"><span data-evernote-id="897" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="898">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="899"><span data-evernote-id="900" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="901">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="902" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="903"><span data-evernote-id="904" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="905">public</span><span data-evernote-id="906" class="js-evernote-checked">&nbsp;String&nbsp;SayGoodBye();&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="907"><span data-evernote-id="908" class="js-evernote-checked">}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_1_7950088" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3610">package jiankunking;

/**
 * 需要动态代理的接口
 */
public interface Subject
{
    /**
     * 你好
     *
     * @param name
     * @return
     */
    public String SayHello(String name);

    /**
     * 再见
     *
     * @return
     */
    public String SayGoodBye();
}</pre><br>2、需要代理的实际对象<p data-evernote-id="35" class="js-evernote-checked"></p><p data-evernote-id="36" class="js-evernote-checked"><span style="font-size:14px;"></span></p><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="761"><div class="bar js-evernote-checked" data-evernote-id="3215"><div class="tools js-evernote-checked" data-evernote-id="3232"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="137">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="138">copy</a><div style="position: absolute; left: 448px; top: 2791px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_3" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_3" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=3&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="139">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="140">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="909"><li class="alt js-evernote-checked" data-evernote-id="910"><span data-evernote-id="911" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="912">package</span><span data-evernote-id="913" class="js-evernote-checked">&nbsp;jiankunking;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="914"><span data-evernote-id="915" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="916"><span data-evernote-id="917" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="918">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="919"><span data-evernote-id="920" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="921">&nbsp;*&nbsp;实际对象</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="922"><span data-evernote-id="923" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="924">&nbsp;*/</span><span data-evernote-id="925" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="926"><span data-evernote-id="927" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="928">public</span><span data-evernote-id="929" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="930">class</span><span data-evernote-id="931" class="js-evernote-checked">&nbsp;RealSubject&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="932">implements</span><span data-evernote-id="933" class="js-evernote-checked">&nbsp;Subject&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="934"><span data-evernote-id="935" class="js-evernote-checked">{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="936"><span data-evernote-id="937" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="938"><span data-evernote-id="939" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="940">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="941"><span data-evernote-id="942" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="943">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;你好</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="944"><span data-evernote-id="945" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="946">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="947"><span data-evernote-id="948" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="949">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;name</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="950"><span data-evernote-id="951" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="952">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="953"><span data-evernote-id="954" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="955">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="956" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="957"><span data-evernote-id="958" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="959">public</span><span data-evernote-id="960" class="js-evernote-checked">&nbsp;String&nbsp;SayHello(String&nbsp;name)&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="961"><span data-evernote-id="962" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="963"><span data-evernote-id="964" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="965">return</span><span data-evernote-id="966" class="js-evernote-checked">&nbsp;</span><span class="string js-evernote-checked" data-evernote-id="967">"hello&nbsp;"</span><span data-evernote-id="968" class="js-evernote-checked">&nbsp;+&nbsp;name;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="969"><span data-evernote-id="970" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="971"><span data-evernote-id="972" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="973"><span data-evernote-id="974" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="975">/**</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="976"><span data-evernote-id="977" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="978">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;再见</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="979"><span data-evernote-id="980" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="981">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="982"><span data-evernote-id="983" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="984">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="985"><span data-evernote-id="986" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="987">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="988" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="989"><span data-evernote-id="990" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="991">public</span><span data-evernote-id="992" class="js-evernote-checked">&nbsp;String&nbsp;SayGoodBye()&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="993"><span data-evernote-id="994" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="995"><span data-evernote-id="996" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="997">return</span><span data-evernote-id="998" class="js-evernote-checked">&nbsp;</span><span class="string js-evernote-checked" data-evernote-id="999">"&nbsp;good&nbsp;bye&nbsp;"</span><span data-evernote-id="1000" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1001"><span data-evernote-id="1002" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1003"><span data-evernote-id="1004" class="js-evernote-checked">}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_2_2693598" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3611">package jiankunking;

/**
 * 实际对象
 */
public class RealSubject implements Subject
{

    /**
     * 你好
     *
     * @param name
     * @return
     */
    public String SayHello(String name)
    {
        return "hello " + name;
    }

    /**
     * 再见
     *
     * @return
     */
    public String SayGoodBye()
    {
        return " good bye ";
    }
}</pre><br>3、调用处理器实现类（有木有感觉这里就是传说中的AOP啊）<p data-evernote-id="37" class="js-evernote-checked"></p><p data-evernote-id="38" class="js-evernote-checked"><span style="font-size:14px;"></span></p><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="762"><div class="bar js-evernote-checked" data-evernote-id="3216"><div class="tools js-evernote-checked" data-evernote-id="3233"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="141">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="142">copy</a><div style="position: absolute; left: 448px; top: 3451px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_4" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_4" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=4&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="143">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="144">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="1005"><li class="alt js-evernote-checked" data-evernote-id="1006"><span data-evernote-id="1007" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="1008">package</span><span data-evernote-id="1009" class="js-evernote-checked">&nbsp;jiankunking;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1010"><span data-evernote-id="1011" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1012"><span data-evernote-id="1013" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="1014">import</span><span data-evernote-id="1015" class="js-evernote-checked">&nbsp;java.lang.reflect.InvocationHandler;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1016"><span data-evernote-id="1017" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="1018">import</span><span data-evernote-id="1019" class="js-evernote-checked">&nbsp;java.lang.reflect.Method;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1020"><span data-evernote-id="1021" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1022"><span data-evernote-id="1023" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1024"><span data-evernote-id="1025" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1026">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1027"><span data-evernote-id="1028" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1029">&nbsp;*&nbsp;调用处理器实现类</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1030"><span data-evernote-id="1031" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1032">&nbsp;*&nbsp;每次生成动态代理类对象时都需要指定一个实现了该接口的调用处理器对象</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1033"><span data-evernote-id="1034" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1035">&nbsp;*/</span><span data-evernote-id="1036" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1037"><span data-evernote-id="1038" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="1039">public</span><span data-evernote-id="1040" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1041">class</span><span data-evernote-id="1042" class="js-evernote-checked">&nbsp;InvocationHandlerImpl&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1043">implements</span><span data-evernote-id="1044" class="js-evernote-checked">&nbsp;InvocationHandler&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1045"><span data-evernote-id="1046" class="js-evernote-checked">{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1047"><span data-evernote-id="1048" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1049"><span data-evernote-id="1050" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1051">/**</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1052"><span data-evernote-id="1053" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1054">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;这个就是我们要代理的真实对象</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1055"><span data-evernote-id="1056" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1057">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="1058" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1059"><span data-evernote-id="1060" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1061">private</span><span data-evernote-id="1062" class="js-evernote-checked">&nbsp;Object&nbsp;subject;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1063"><span data-evernote-id="1064" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1065"><span data-evernote-id="1066" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1067">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1068"><span data-evernote-id="1069" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1070">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;构造方法，给我们要代理的真实对象赋初值</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1071"><span data-evernote-id="1072" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1073">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1074"><span data-evernote-id="1075" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1076">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;subject</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1077"><span data-evernote-id="1078" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1079">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="1080" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1081"><span data-evernote-id="1082" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1083">public</span><span data-evernote-id="1084" class="js-evernote-checked">&nbsp;InvocationHandlerImpl(Object&nbsp;subject)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1085"><span data-evernote-id="1086" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1087"><span data-evernote-id="1088" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1089">this</span><span data-evernote-id="1090" class="js-evernote-checked">.subject&nbsp;=&nbsp;subject;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1091"><span data-evernote-id="1092" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1093"><span data-evernote-id="1094" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1095"><span data-evernote-id="1096" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1097">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1098"><span data-evernote-id="1099" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1100">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;该方法负责集中处理动态代理类上的所有方法调用。</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1101"><span data-evernote-id="1102" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1103">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;调用处理器根据这三个参数进行预处理或分派到委托类实例上反射执行</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1104"><span data-evernote-id="1105" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1106">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1107"><span data-evernote-id="1108" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1109">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;proxy&nbsp;&nbsp;代理类实例</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1110"><span data-evernote-id="1111" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1112">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;method&nbsp;被调用的方法对象</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1113"><span data-evernote-id="1114" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1115">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;args&nbsp;&nbsp;&nbsp;调用参数</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1116"><span data-evernote-id="1117" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1118">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1119"><span data-evernote-id="1120" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1121">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;Throwable</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1122"><span data-evernote-id="1123" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1124">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="1125" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1126"><span data-evernote-id="1127" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1128">public</span><span data-evernote-id="1129" class="js-evernote-checked">&nbsp;Object&nbsp;invoke(Object&nbsp;proxy,&nbsp;Method&nbsp;method,&nbsp;Object[]&nbsp;args)&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1130">throws</span><span data-evernote-id="1131" class="js-evernote-checked">&nbsp;Throwable&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1132"><span data-evernote-id="1133" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1134"><span data-evernote-id="1135" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1136">//在代理真实对象前我们可以添加一些自己的操作</span><span data-evernote-id="1137" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1138"><span data-evernote-id="1139" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string js-evernote-checked" data-evernote-id="1140">"在调用之前，我要干点啥呢？"</span><span data-evernote-id="1141" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1142"><span data-evernote-id="1143" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1144"><span data-evernote-id="1145" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string js-evernote-checked" data-evernote-id="1146">"Method:"</span><span data-evernote-id="1147" class="js-evernote-checked">&nbsp;+&nbsp;method);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1148"><span data-evernote-id="1149" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1150"><span data-evernote-id="1151" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1152">//当代理对象调用真实对象的方法时，其会自动的跳转到代理对象关联的handler对象的invoke方法来进行调用</span><span data-evernote-id="1153" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1154"><span data-evernote-id="1155" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;returnValue&nbsp;=&nbsp;method.invoke(subject,&nbsp;args);&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1156"><span data-evernote-id="1157" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1158"><span data-evernote-id="1159" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1160">//在代理真实对象后我们也可以添加一些自己的操作</span><span data-evernote-id="1161" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1162"><span data-evernote-id="1163" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string js-evernote-checked" data-evernote-id="1164">"在调用之后，我要干点啥呢？"</span><span data-evernote-id="1165" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1166"><span data-evernote-id="1167" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1168"><span data-evernote-id="1169" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1170">return</span><span data-evernote-id="1171" class="js-evernote-checked">&nbsp;returnValue;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1172"><span data-evernote-id="1173" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1174"><span data-evernote-id="1175" class="js-evernote-checked">}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_3_8931607" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3612">package jiankunking;

import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;


/**
 * 调用处理器实现类
 * 每次生成动态代理类对象时都需要指定一个实现了该接口的调用处理器对象
 */
public class InvocationHandlerImpl implements InvocationHandler
{

    /**
     * 这个就是我们要代理的真实对象
     */
    private Object subject;

    /**
     * 构造方法，给我们要代理的真实对象赋初值
     *
     * @param subject
     */
    public InvocationHandlerImpl(Object subject)
    {
        this.subject = subject;
    }

    /**
     * 该方法负责集中处理动态代理类上的所有方法调用。
     * 调用处理器根据这三个参数进行预处理或分派到委托类实例上反射执行
     *
     * @param proxy  代理类实例
     * @param method 被调用的方法对象
     * @param args   调用参数
     * @return
     * @throws Throwable
     */
    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable
    {
        //在代理真实对象前我们可以添加一些自己的操作
        System.out.println("在调用之前，我要干点啥呢？");

        System.out.println("Method:" + method);

        //当代理对象调用真实对象的方法时，其会自动的跳转到代理对象关联的handler对象的invoke方法来进行调用
        Object returnValue = method.invoke(subject, args);

        //在代理真实对象后我们也可以添加一些自己的操作
        System.out.println("在调用之后，我要干点啥呢？");

        return returnValue;
    }
}</pre>4、测试<p data-evernote-id="39" class="js-evernote-checked"></p><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="763"><div class="bar js-evernote-checked" data-evernote-id="3217"><div class="tools js-evernote-checked" data-evernote-id="3234"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="145">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="146">copy</a><div style="position: absolute; left: 448px; top: 4527px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_5" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_5" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=5&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="147">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="148">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="1176"><li class="alt js-evernote-checked" data-evernote-id="1177"><span data-evernote-id="1178" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="1179">package</span><span data-evernote-id="1180" class="js-evernote-checked">&nbsp;jiankunking;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1181"><span data-evernote-id="1182" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1183"><span data-evernote-id="1184" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="1185">import</span><span data-evernote-id="1186" class="js-evernote-checked">&nbsp;java.lang.reflect.InvocationHandler;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1187"><span data-evernote-id="1188" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="1189">import</span><span data-evernote-id="1190" class="js-evernote-checked">&nbsp;java.lang.reflect.Proxy;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1191"><span data-evernote-id="1192" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1193"><span data-evernote-id="1194" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1195">/**</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1196"><span data-evernote-id="1197" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1198">&nbsp;*&nbsp;动态代理演示</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1199"><span data-evernote-id="1200" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1201">&nbsp;*/</span><span data-evernote-id="1202" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1203"><span data-evernote-id="1204" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="1205">public</span><span data-evernote-id="1206" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1207">class</span><span data-evernote-id="1208" class="js-evernote-checked">&nbsp;DynamicProxyDemonstration&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1209"><span data-evernote-id="1210" class="js-evernote-checked">{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1211"><span data-evernote-id="1212" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1213">public</span><span data-evernote-id="1214" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1215">static</span><span data-evernote-id="1216" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1217">void</span><span data-evernote-id="1218" class="js-evernote-checked">&nbsp;main(String[]&nbsp;args)&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1219"><span data-evernote-id="1220" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1221"><span data-evernote-id="1222" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1223">//代理的真实对象</span><span data-evernote-id="1224" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1225"><span data-evernote-id="1226" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject&nbsp;realSubject&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1227">new</span><span data-evernote-id="1228" class="js-evernote-checked">&nbsp;RealSubject();&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1229"><span data-evernote-id="1230" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1231"><span data-evernote-id="1232" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1233">/**</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1234"><span data-evernote-id="1235" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;InvocationHandlerImpl&nbsp;实现了&nbsp;InvocationHandler&nbsp;接口，并能实现方法调用从代理类到委托类的分派转发</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1237"><span data-evernote-id="1238" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1239">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;其内部通常包含指向委托类实例的引用，用于真正执行分派转发过来的方法调用.</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1240"><span data-evernote-id="1241" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1242">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;即：要代理哪个真实对象，就将该对象传进去，最后是通过该真实对象来调用其方法</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1243"><span data-evernote-id="1244" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1245">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="1246" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1247"><span data-evernote-id="1248" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InvocationHandler&nbsp;handler&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1249">new</span><span data-evernote-id="1250" class="js-evernote-checked">&nbsp;InvocationHandlerImpl(realSubject);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1251"><span data-evernote-id="1252" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1253"><span data-evernote-id="1254" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ClassLoader&nbsp;loader&nbsp;=&nbsp;realSubject.getClass().getClassLoader();&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1255"><span data-evernote-id="1256" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class[]&nbsp;interfaces&nbsp;=&nbsp;realSubject.getClass().getInterfaces();&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1257"><span data-evernote-id="1258" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1259">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1260"><span data-evernote-id="1261" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1262">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;该方法用于为指定类装载器、一组接口及调用处理器生成动态代理类实例</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1263"><span data-evernote-id="1264" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="1266" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1267"><span data-evernote-id="1268" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject&nbsp;subject&nbsp;=&nbsp;(Subject)&nbsp;Proxy.newProxyInstance(loader,&nbsp;interfaces,&nbsp;handler);&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1269"><span data-evernote-id="1270" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1271"><span data-evernote-id="1272" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string js-evernote-checked" data-evernote-id="1273">"动态代理对象的类型："</span><span data-evernote-id="1274" class="js-evernote-checked">+subject.getClass().getName());&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1275"><span data-evernote-id="1276" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1277"><span data-evernote-id="1278" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;hello&nbsp;=&nbsp;subject.SayHello(<span class="string js-evernote-checked" data-evernote-id="1279">"jiankunking"</span><span data-evernote-id="1280" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1281"><span data-evernote-id="1282" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(hello);&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1283"><span data-evernote-id="1284" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1285">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;goodbye&nbsp;=&nbsp;subject.SayGoodBye();</span><span data-evernote-id="1286" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1287"><span data-evernote-id="1288" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1289">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(goodbye);</span><span data-evernote-id="1290" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1291"><span data-evernote-id="1292" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1293"><span data-evernote-id="1294" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1295"><span data-evernote-id="1296" class="js-evernote-checked">}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20161030_5_1509937" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3613">package jiankunking;

import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Proxy;

/**
 * 动态代理演示
 */
public class DynamicProxyDemonstration
{
    public static void main(String[] args)
    {
        //代理的真实对象
        Subject realSubject = new RealSubject();
        
        /**
         * InvocationHandlerImpl 实现了 InvocationHandler 接口，并能实现方法调用从代理类到委托类的分派转发
         * 其内部通常包含指向委托类实例的引用，用于真正执行分派转发过来的方法调用.
         * 即：要代理哪个真实对象，就将该对象传进去，最后是通过该真实对象来调用其方法
         */
        InvocationHandler handler = new InvocationHandlerImpl(realSubject);

        ClassLoader loader = realSubject.getClass().getClassLoader();
        Class[] interfaces = realSubject.getClass().getInterfaces();
        /**
         * 该方法用于为指定类装载器、一组接口及调用处理器生成动态代理类实例
         */
        Subject subject = (Subject) Proxy.newProxyInstance(loader, interfaces, handler);

        System.out.println("动态代理对象的类型："+subject.getClass().getName());

        String hello = subject.SayHello("jiankunking");
        System.out.println(hello);
//        String goodbye = subject.SayGoodBye();
//        System.out.println(goodbye);
    }

}</pre><br><p data-evernote-id="40" class="js-evernote-checked"></p><p data-evernote-id="41" class="js-evernote-checked"><span style="font-size:14px;"></span></p>5、输出结果如下：<p data-evernote-id="42" class="js-evernote-checked"></p><p data-evernote-id="43" class="js-evernote-checked"><span style="font-size:14px;"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160807170853562" alt="" data-evernote-id="755" class="js-evernote-checked" width="590" height="183"><br></span></p><p data-evernote-id="44" class="js-evernote-checked"><span style="font-size:14px;">演示demo下载地址：<a target="_blank" href="http://download.csdn.net/detail/xunzaosiyecao/9597388" data-evernote-id="149" class="js-evernote-checked">http://download.csdn.net/detail/xunzaosiyecao/9597388</a></span></p><h1 data-evernote-id="45" class="js-evernote-checked"><a name="t3" target="_blank" data-evernote-id="150" class="js-evernote-checked"></a>四、动态代理怎么实现的？</h1><div><span style="font-size:14px;">从使用代码中可以看出，关键点在：</span></div><div><span style="font-size:14px;"></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="764"><div class="bar js-evernote-checked" data-evernote-id="3218"><div class="tools js-evernote-checked" data-evernote-id="3235"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="151">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="152">copy</a><div style="position: absolute; left: 448px; top: 5636px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_6" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_6" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=6&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="153">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="154">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="1297"><li class="alt js-evernote-checked" data-evernote-id="1298"><span data-evernote-id="1299" class="js-evernote-checked"><span data-evernote-id="1300" class="js-evernote-checked">Subject&nbsp;subject&nbsp;=&nbsp;(Subject)&nbsp;Proxy.newProxyInstance(loader,&nbsp;interfaces,&nbsp;handler);&nbsp;&nbsp;</span></span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_15_6544792" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3614">Subject subject = (Subject) Proxy.newProxyInstance(loader, interfaces, handler);</pre>通过跟踪提示代码可以看出：<span style="color: rgb(0, 130, 0); font-family: Consolas, &#39;Bitstream Vera Sans Mono&#39;, &#39;Courier New&#39;, Courier, monospace; line-height: 13.2px; white-space: pre;">当代理对象调用真实对象的方法时，其会自动的跳转到代理对象关联的handler对象的invoke方法来进行调用。</span></div><div><span style="font-size:14px;">也就是说，当代码执行到：</span></div><div><span style="font-size:14px;"><span style="font-family: 宋体;">subject.SayHello(</span><span style="font-family: 宋体; color: rgb(0, 128, 0); "><strong>"jiankunking"</strong></span><span style="font-family: 宋体;">)这句话时，会自动调用InvocationHandlerImpl的invoke方法。这是为啥呢？</span></span></div><div><span style="font-size:14px;"><span style="font-family:宋体;"><br></span></span></div><div><span style="font-size:14px;"><span style="font-family:宋体;">======================横线之间的是代码跟分析的过程，不想看的朋友可以直接看结论=====================================</span></span></div><div><span style="font-family:宋体;font-size:14px;">以下代码来自:JDK1.8.0_92</span></div><div><span style="font-size:14px;"><span style="font-family:宋体;">既然生成代理对象是用的Proxy类的静态方newProxyInstance，那么我们就去它的源码里看一下它到底都做了些什么？&nbsp;</span></span></div><div><span style="font-size:14px;"><span style="font-family:宋体;"></span></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="765"><div class="bar js-evernote-checked" data-evernote-id="3219"><div class="tools js-evernote-checked" data-evernote-id="3236"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="155">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="156">copy</a><div style="position: absolute; left: 448px; top: 6001px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_7" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_7" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=7&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="157">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="158">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="1301"><li class="alt js-evernote-checked" data-evernote-id="1302"><span data-evernote-id="1303" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1304">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1305"><span data-evernote-id="1306" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1307">&nbsp;*&nbsp;Returns&nbsp;an&nbsp;instance&nbsp;of&nbsp;a&nbsp;proxy&nbsp;class&nbsp;for&nbsp;the&nbsp;specified&nbsp;interfaces</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1308"><span data-evernote-id="1309" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1310">&nbsp;*&nbsp;that&nbsp;dispatches&nbsp;method&nbsp;invocations&nbsp;to&nbsp;the&nbsp;specified&nbsp;invocation</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1311"><span data-evernote-id="1312" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1313">&nbsp;*&nbsp;handler.</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1314"><span data-evernote-id="1315" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1316">&nbsp;*</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1317"><span data-evernote-id="1318" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1319">&nbsp;*&nbsp;&lt;p&gt;{@code&nbsp;Proxy.newProxyInstance}&nbsp;throws</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1320"><span data-evernote-id="1321" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1322">&nbsp;*&nbsp;{@code&nbsp;IllegalArgumentException}&nbsp;for&nbsp;the&nbsp;same&nbsp;reasons&nbsp;that</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1323"><span data-evernote-id="1324" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1325">&nbsp;*&nbsp;{@code&nbsp;Proxy.getProxyClass}&nbsp;does.</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1326"><span data-evernote-id="1327" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1328">&nbsp;*</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1329"><span data-evernote-id="1330" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1331">&nbsp;*&nbsp;@param&nbsp;&nbsp;&nbsp;loader&nbsp;the&nbsp;class&nbsp;loader&nbsp;to&nbsp;define&nbsp;the&nbsp;proxy&nbsp;class</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1332"><span data-evernote-id="1333" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1334">&nbsp;*&nbsp;@param&nbsp;&nbsp;&nbsp;interfaces&nbsp;the&nbsp;list&nbsp;of&nbsp;interfaces&nbsp;for&nbsp;the&nbsp;proxy&nbsp;class</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1335"><span data-evernote-id="1336" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1337">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;implement</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1338"><span data-evernote-id="1339" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1340">&nbsp;*&nbsp;@param&nbsp;&nbsp;&nbsp;h&nbsp;the&nbsp;invocation&nbsp;handler&nbsp;to&nbsp;dispatch&nbsp;method&nbsp;invocations&nbsp;to</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1341"><span data-evernote-id="1342" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1343">&nbsp;*&nbsp;@return&nbsp;&nbsp;a&nbsp;proxy&nbsp;instance&nbsp;with&nbsp;the&nbsp;specified&nbsp;invocation&nbsp;handler&nbsp;of&nbsp;a</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1344"><span data-evernote-id="1345" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1346">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxy&nbsp;class&nbsp;that&nbsp;is&nbsp;defined&nbsp;by&nbsp;the&nbsp;specified&nbsp;class&nbsp;loader</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1347"><span data-evernote-id="1348" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1349">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;that&nbsp;implements&nbsp;the&nbsp;specified&nbsp;interfaces</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1350"><span data-evernote-id="1351" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1352">&nbsp;*&nbsp;@throws&nbsp;&nbsp;IllegalArgumentException&nbsp;if&nbsp;any&nbsp;of&nbsp;the&nbsp;restrictions&nbsp;on&nbsp;the</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1353"><span data-evernote-id="1354" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1355">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parameters&nbsp;that&nbsp;may&nbsp;be&nbsp;passed&nbsp;to&nbsp;{@code&nbsp;getProxyClass}</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1356"><span data-evernote-id="1357" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1358">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;violated</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1359"><span data-evernote-id="1360" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1361">&nbsp;*&nbsp;@throws&nbsp;&nbsp;SecurityException&nbsp;if&nbsp;a&nbsp;security&nbsp;manager,&nbsp;&lt;em&gt;s&lt;/em&gt;,&nbsp;is&nbsp;present</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1362"><span data-evernote-id="1363" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1364">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;any&nbsp;of&nbsp;the&nbsp;following&nbsp;conditions&nbsp;is&nbsp;met:</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1365"><span data-evernote-id="1366" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1367">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1368"><span data-evernote-id="1369" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1370">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;&nbsp;the&nbsp;given&nbsp;{@code&nbsp;loader}&nbsp;is&nbsp;{@code&nbsp;null}&nbsp;and</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1371"><span data-evernote-id="1372" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1373">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;caller's&nbsp;class&nbsp;loader&nbsp;is&nbsp;not&nbsp;{@code&nbsp;null}&nbsp;and&nbsp;the</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1374"><span data-evernote-id="1375" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1376">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invocation&nbsp;of&nbsp;{@link&nbsp;SecurityManager#checkPermission</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1377"><span data-evernote-id="1378" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1379">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.checkPermission}&nbsp;with</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1380"><span data-evernote-id="1381" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1382">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{@code&nbsp;RuntimePermission("getClassLoader")}&nbsp;permission</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1383"><span data-evernote-id="1384" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1385">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;denies&nbsp;access;&lt;/li&gt;</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1386"><span data-evernote-id="1387" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1388">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;&nbsp;for&nbsp;each&nbsp;proxy&nbsp;interface,&nbsp;{@code&nbsp;intf},</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1389"><span data-evernote-id="1390" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1391">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;caller's&nbsp;class&nbsp;loader&nbsp;is&nbsp;not&nbsp;the&nbsp;same&nbsp;as&nbsp;or&nbsp;an</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1392"><span data-evernote-id="1393" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1394">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ancestor&nbsp;of&nbsp;the&nbsp;class&nbsp;loader&nbsp;for&nbsp;{@code&nbsp;intf}&nbsp;and</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1395"><span data-evernote-id="1396" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1397">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invocation&nbsp;of&nbsp;{@link&nbsp;SecurityManager#checkPackageAccess</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1398"><span data-evernote-id="1399" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1400">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.checkPackageAccess()}&nbsp;denies&nbsp;access&nbsp;to&nbsp;{@code&nbsp;intf};&lt;/li&gt;</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1401"><span data-evernote-id="1402" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1403">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;&nbsp;any&nbsp;of&nbsp;the&nbsp;given&nbsp;proxy&nbsp;interfaces&nbsp;is&nbsp;non-public&nbsp;and&nbsp;the</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1404"><span data-evernote-id="1405" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1406">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caller&nbsp;class&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;same&nbsp;{@linkplain&nbsp;Package&nbsp;runtime&nbsp;package}</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1407"><span data-evernote-id="1408" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1409">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;the&nbsp;non-public&nbsp;interface&nbsp;and&nbsp;the&nbsp;invocation&nbsp;of</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1410"><span data-evernote-id="1411" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1412">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{@link&nbsp;SecurityManager#checkPermission&nbsp;s.checkPermission}&nbsp;with</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1413"><span data-evernote-id="1414" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1415">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{@code&nbsp;ReflectPermission("newProxyInPackage.{package&nbsp;name}")}</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1416"><span data-evernote-id="1417" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1418">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;permission&nbsp;denies&nbsp;access.&lt;/li&gt;</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1419"><span data-evernote-id="1420" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1421">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1422"><span data-evernote-id="1423" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1424">&nbsp;*&nbsp;@throws&nbsp;&nbsp;NullPointerException&nbsp;if&nbsp;the&nbsp;{@code&nbsp;interfaces}&nbsp;array</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1425"><span data-evernote-id="1426" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1427">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument&nbsp;or&nbsp;any&nbsp;of&nbsp;its&nbsp;elements&nbsp;are&nbsp;{@code&nbsp;null},&nbsp;or</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1428"><span data-evernote-id="1429" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1430">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;the&nbsp;invocation&nbsp;handler,&nbsp;{@code&nbsp;h},&nbsp;is</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1431"><span data-evernote-id="1432" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1433">&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{@code&nbsp;null}</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1434"><span data-evernote-id="1435" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1436">&nbsp;*/</span><span data-evernote-id="1437" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1438"><span data-evernote-id="1439" class="js-evernote-checked"><span class="annotation js-evernote-checked" data-evernote-id="1440">@CallerSensitive</span><span data-evernote-id="1441" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1442"><span data-evernote-id="1443" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="1444">public</span><span data-evernote-id="1445" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1446">static</span><span data-evernote-id="1447" class="js-evernote-checked">&nbsp;Object&nbsp;newProxyInstance(ClassLoader&nbsp;loader,&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1448"><span data-evernote-id="1449" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class&lt;?&gt;[]&nbsp;interfaces,&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1450"><span data-evernote-id="1451" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InvocationHandler&nbsp;h)&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1452"><span data-evernote-id="1453" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1454">throws</span><span data-evernote-id="1455" class="js-evernote-checked">&nbsp;IllegalArgumentException&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1456"><span data-evernote-id="1457" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1458"><span data-evernote-id="1459" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1460">//检查h&nbsp;不为空，否则抛异常</span><span data-evernote-id="1461" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1462"><span data-evernote-id="1463" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Objects.requireNonNull(h);&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1464"><span data-evernote-id="1465" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1466"><span data-evernote-id="1467" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1468">final</span><span data-evernote-id="1469" class="js-evernote-checked">&nbsp;Class&lt;?&gt;[]&nbsp;intfs&nbsp;=&nbsp;interfaces.clone();&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1470"><span data-evernote-id="1471" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1472">final</span><span data-evernote-id="1473" class="js-evernote-checked">&nbsp;SecurityManager&nbsp;sm&nbsp;=&nbsp;System.getSecurityManager();&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1474"><span data-evernote-id="1475" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1476">if</span><span data-evernote-id="1477" class="js-evernote-checked">&nbsp;(sm&nbsp;!=&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1478">null</span><span data-evernote-id="1479" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1480"><span data-evernote-id="1481" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkProxyAccess(Reflection.getCallerClass(),&nbsp;loader,&nbsp;intfs);&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1482"><span data-evernote-id="1483" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1484"><span data-evernote-id="1485" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1486"><span data-evernote-id="1487" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1488">/*</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1489"><span data-evernote-id="1490" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1491">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;获得与指定类装载器和一组接口相关的代理类类型对象</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1492"><span data-evernote-id="1493" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1494">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="1495" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1496"><span data-evernote-id="1497" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class&lt;?&gt;&nbsp;cl&nbsp;=&nbsp;getProxyClass0(loader,&nbsp;intfs);&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1498"><span data-evernote-id="1499" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1500"><span data-evernote-id="1501" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1502">/*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1503"><span data-evernote-id="1504" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1505">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;通过反射获取构造函数对象并生成代理类实例</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1506"><span data-evernote-id="1507" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1508">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="1509" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1510"><span data-evernote-id="1511" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1512">try</span><span data-evernote-id="1513" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1514"><span data-evernote-id="1515" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1516">if</span><span data-evernote-id="1517" class="js-evernote-checked">&nbsp;(sm&nbsp;!=&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1518">null</span><span data-evernote-id="1519" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1520"><span data-evernote-id="1521" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checkNewProxyPermission(Reflection.getCallerClass(),&nbsp;cl);&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1522"><span data-evernote-id="1523" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1524"><span data-evernote-id="1525" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1526">//获取代理对象的构造方法（也就是$Proxy0(InvocationHandler&nbsp;h)）&nbsp;</span><span data-evernote-id="1527" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1528"><span data-evernote-id="1529" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1530">final</span><span data-evernote-id="1531" class="js-evernote-checked">&nbsp;Constructor&lt;?&gt;&nbsp;cons&nbsp;=&nbsp;cl.getConstructor(constructorParams);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1532"><span data-evernote-id="1533" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1534">final</span><span data-evernote-id="1535" class="js-evernote-checked">&nbsp;InvocationHandler&nbsp;ih&nbsp;=&nbsp;h;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1536"><span data-evernote-id="1537" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1538">if</span><span data-evernote-id="1539" class="js-evernote-checked">&nbsp;(!Modifier.isPublic(cl.getModifiers()))&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1540"><span data-evernote-id="1541" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AccessController.doPrivileged(<span class="keyword js-evernote-checked" data-evernote-id="1542">new</span><span data-evernote-id="1543" class="js-evernote-checked">&nbsp;PrivilegedAction&lt;Void&gt;()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1544"><span data-evernote-id="1545" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1546">public</span><span data-evernote-id="1547" class="js-evernote-checked">&nbsp;Void&nbsp;run()&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1548"><span data-evernote-id="1549" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cons.setAccessible(<span class="keyword js-evernote-checked" data-evernote-id="1550">true</span><span data-evernote-id="1551" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1552"><span data-evernote-id="1553" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1554">return</span><span data-evernote-id="1555" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1556">null</span><span data-evernote-id="1557" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1558"><span data-evernote-id="1559" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1560"><span data-evernote-id="1561" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1562"><span data-evernote-id="1563" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1564"><span data-evernote-id="1565" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1566">//生成代理类的实例并把InvocationHandlerImpl的实例传给它的构造方法</span><span data-evernote-id="1567" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1568"><span data-evernote-id="1569" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1570">return</span><span data-evernote-id="1571" class="js-evernote-checked">&nbsp;cons.newInstance(</span><span class="keyword js-evernote-checked" data-evernote-id="1572">new</span><span data-evernote-id="1573" class="js-evernote-checked">&nbsp;Object[]{h});&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1574"><span data-evernote-id="1575" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1576">catch</span><span data-evernote-id="1577" class="js-evernote-checked">&nbsp;(IllegalAccessException|InstantiationException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1578"><span data-evernote-id="1579" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1580">throw</span><span data-evernote-id="1581" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1582">new</span><span data-evernote-id="1583" class="js-evernote-checked">&nbsp;InternalError(e.toString(),&nbsp;e);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1584"><span data-evernote-id="1585" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1586">catch</span><span data-evernote-id="1587" class="js-evernote-checked">&nbsp;(InvocationTargetException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1588"><span data-evernote-id="1589" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Throwable&nbsp;t&nbsp;=&nbsp;e.getCause();&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1590"><span data-evernote-id="1591" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1592">if</span><span data-evernote-id="1593" class="js-evernote-checked">&nbsp;(t&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1594">instanceof</span><span data-evernote-id="1595" class="js-evernote-checked">&nbsp;RuntimeException)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1596"><span data-evernote-id="1597" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1598">throw</span><span data-evernote-id="1599" class="js-evernote-checked">&nbsp;(RuntimeException)&nbsp;t;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1600"><span data-evernote-id="1601" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1602">else</span><span data-evernote-id="1603" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1604"><span data-evernote-id="1605" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1606">throw</span><span data-evernote-id="1607" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1608">new</span><span data-evernote-id="1609" class="js-evernote-checked">&nbsp;InternalError(t.toString(),&nbsp;t);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1610"><span data-evernote-id="1611" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1612"><span data-evernote-id="1613" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1614">catch</span><span data-evernote-id="1615" class="js-evernote-checked">&nbsp;(NoSuchMethodException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1616"><span data-evernote-id="1617" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1618">throw</span><span data-evernote-id="1619" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1620">new</span><span data-evernote-id="1621" class="js-evernote-checked">&nbsp;InternalError(e.toString(),&nbsp;e);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1622"><span data-evernote-id="1623" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1624"><span data-evernote-id="1625" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20161030_7_2305542" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3615">/**
 * Returns an instance of a proxy class for the specified interfaces
 * that dispatches method invocations to the specified invocation
 * handler.
 *
 * &lt;p&gt;{@code Proxy.newProxyInstance} throws
 * {@code IllegalArgumentException} for the same reasons that
 * {@code Proxy.getProxyClass} does.
 *
 * @param   loader the class loader to define the proxy class
 * @param   interfaces the list of interfaces for the proxy class
 *          to implement
 * @param   h the invocation handler to dispatch method invocations to
 * @return  a proxy instance with the specified invocation handler of a
 *          proxy class that is defined by the specified class loader
 *          and that implements the specified interfaces
 * @throws  IllegalArgumentException if any of the restrictions on the
 *          parameters that may be passed to {@code getProxyClass}
 *          are violated
 * @throws  SecurityException if a security manager, &lt;em&gt;s&lt;/em&gt;, is present
 *          and any of the following conditions is met:
 *          &lt;ul&gt;
 *          &lt;li&gt; the given {@code loader} is {@code null} and
 *               the caller's class loader is not {@code null} and the
 *               invocation of {@link SecurityManager#checkPermission
 *               s.checkPermission} with
 *               {@code RuntimePermission("getClassLoader")} permission
 *               denies access;&lt;/li&gt;
 *          &lt;li&gt; for each proxy interface, {@code intf},
 *               the caller's class loader is not the same as or an
 *               ancestor of the class loader for {@code intf} and
 *               invocation of {@link SecurityManager#checkPackageAccess
 *               s.checkPackageAccess()} denies access to {@code intf};&lt;/li&gt;
 *          &lt;li&gt; any of the given proxy interfaces is non-public and the
 *               caller class is not in the same {@linkplain Package runtime package}
 *               as the non-public interface and the invocation of
 *               {@link SecurityManager#checkPermission s.checkPermission} with
 *               {@code ReflectPermission("newProxyInPackage.{package name}")}
 *               permission denies access.&lt;/li&gt;
 *          &lt;/ul&gt;
 * @throws  NullPointerException if the {@code interfaces} array
 *          argument or any of its elements are {@code null}, or
 *          if the invocation handler, {@code h}, is
 *          {@code null}
 */
@CallerSensitive 
public static Object newProxyInstance(ClassLoader loader,
                                          Class&lt;?&gt;[] interfaces,
                                          InvocationHandler h)
        throws IllegalArgumentException
    {
		//检查h 不为空，否则抛异常
        Objects.requireNonNull(h);

        final Class&lt;?&gt;[] intfs = interfaces.clone();
        final SecurityManager sm = System.getSecurityManager();
        if (sm != null) {
            checkProxyAccess(Reflection.getCallerClass(), loader, intfs);
        }

        /*
         * 获得与指定类装载器和一组接口相关的代理类类型对象
         */
        Class&lt;?&gt; cl = getProxyClass0(loader, intfs);

        /*
         * 通过反射获取构造函数对象并生成代理类实例
         */
        try {
            if (sm != null) {
                checkNewProxyPermission(Reflection.getCallerClass(), cl);
            }
			//获取代理对象的构造方法（也就是$Proxy0(InvocationHandler h)） 
            final Constructor&lt;?&gt; cons = cl.getConstructor(constructorParams);
            final InvocationHandler ih = h;
            if (!Modifier.isPublic(cl.getModifiers())) {
                AccessController.doPrivileged(new PrivilegedAction&lt;Void&gt;() {
                    public Void run() {
                        cons.setAccessible(true);
                        return null;
                    }
                });
            }
			//生成代理类的实例并把InvocationHandlerImpl的实例传给它的构造方法
            return cons.newInstance(new Object[]{h});
        } catch (IllegalAccessException|InstantiationException e) {
            throw new InternalError(e.toString(), e);
        } catch (InvocationTargetException e) {
            Throwable t = e.getCause();
            if (t instanceof RuntimeException) {
                throw (RuntimeException) t;
            } else {
                throw new InternalError(t.toString(), t);
            }
        } catch (NoSuchMethodException e) {
            throw new InternalError(e.toString(), e);
        }
    }</pre><br><br></div><div><span style="font-size: 14px;"><span style="font-family:宋体;">我们再进去getProxyClass0方法看一下：</span></span></div><div><span style="font-size:14px;"><span style="font-family:宋体;"></span></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="766"><div class="bar js-evernote-checked" data-evernote-id="3220"><div class="tools js-evernote-checked" data-evernote-id="3237"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="159">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="160">copy</a><div style="position: absolute; left: 448px; top: 7937px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_8" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_8" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=8&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="161">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="162">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="1626"><li class="alt js-evernote-checked" data-evernote-id="1627"><span data-evernote-id="1628" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1629">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1630"><span data-evernote-id="1631" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1632">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Generate&nbsp;a&nbsp;proxy&nbsp;class.&nbsp;&nbsp;Must&nbsp;call&nbsp;the&nbsp;checkProxyAccess&nbsp;method</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1633"><span data-evernote-id="1634" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1635">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;to&nbsp;perform&nbsp;permission&nbsp;checks&nbsp;before&nbsp;calling&nbsp;this.</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1636"><span data-evernote-id="1637" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1638">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="1639" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1640"><span data-evernote-id="1641" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1642">private</span><span data-evernote-id="1643" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1644">static</span><span data-evernote-id="1645" class="js-evernote-checked">&nbsp;Class&lt;?&gt;&nbsp;getProxyClass0(ClassLoader&nbsp;loader,&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1646"><span data-evernote-id="1647" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class&lt;?&gt;...&nbsp;interfaces)&nbsp;{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1648"><span data-evernote-id="1649" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1650">if</span><span data-evernote-id="1651" class="js-evernote-checked">&nbsp;(interfaces.length&nbsp;&gt;&nbsp;</span><span class="number js-evernote-checked" data-evernote-id="1652">65535</span><span data-evernote-id="1653" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1654"><span data-evernote-id="1655" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1656">throw</span><span data-evernote-id="1657" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1658">new</span><span data-evernote-id="1659" class="js-evernote-checked">&nbsp;IllegalArgumentException(</span><span class="string js-evernote-checked" data-evernote-id="1660">"interface&nbsp;limit&nbsp;exceeded"</span><span data-evernote-id="1661" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1662"><span data-evernote-id="1663" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1664"><span data-evernote-id="1665" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1666"><span data-evernote-id="1667" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1668">//&nbsp;If&nbsp;the&nbsp;proxy&nbsp;class&nbsp;defined&nbsp;by&nbsp;the&nbsp;given&nbsp;loader&nbsp;implementing</span><span data-evernote-id="1669" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1670"><span data-evernote-id="1671" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1672">//&nbsp;the&nbsp;given&nbsp;interfaces&nbsp;exists,&nbsp;this&nbsp;will&nbsp;simply&nbsp;return&nbsp;the&nbsp;cached&nbsp;copy;</span><span data-evernote-id="1673" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1674"><span data-evernote-id="1675" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1676">//&nbsp;otherwise,&nbsp;it&nbsp;will&nbsp;create&nbsp;the&nbsp;proxy&nbsp;class&nbsp;via&nbsp;the&nbsp;ProxyClassFactory</span><span data-evernote-id="1677" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1678"><span data-evernote-id="1679" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1680">return</span><span data-evernote-id="1681" class="js-evernote-checked">&nbsp;proxyClassCache.get(loader,&nbsp;interfaces);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1682"><span data-evernote-id="1683" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_7_3119493" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3616"> /**
     * Generate a proxy class.  Must call the checkProxyAccess method
     * to perform permission checks before calling this.
     */
    private static Class&lt;?&gt; getProxyClass0(ClassLoader loader,
                                           Class&lt;?&gt;... interfaces) {
        if (interfaces.length &gt; 65535) {
            throw new IllegalArgumentException("interface limit exceeded");
        }

        // If the proxy class defined by the given loader implementing
        // the given interfaces exists, this will simply return the cached copy;
        // otherwise, it will create the proxy class via the ProxyClassFactory
        return proxyClassCache.get(loader, interfaces);
    }</pre>真相还是没有来到，继续，看一下proxyClassCache</div><div><span style="font-size:14px;"><span style="font-family:宋体;"></span></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="767"><div class="bar js-evernote-checked" data-evernote-id="3221"><div class="tools js-evernote-checked" data-evernote-id="3238"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="163">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="164">copy</a><div style="position: absolute; left: 448px; top: 8311px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_9" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_9" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=9&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="165">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="166">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="1684"><li class="alt js-evernote-checked" data-evernote-id="1685"><span data-evernote-id="1686" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1687">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1688"><span data-evernote-id="1689" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1690">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;a&nbsp;cache&nbsp;of&nbsp;proxy&nbsp;classes</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1691"><span data-evernote-id="1692" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1693">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="1694" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1695"><span data-evernote-id="1696" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1697">private</span><span data-evernote-id="1698" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1699">static</span><span data-evernote-id="1700" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1701">final</span><span data-evernote-id="1702" class="js-evernote-checked">&nbsp;WeakCache&lt;ClassLoader,&nbsp;Class&lt;?&gt;[],&nbsp;Class&lt;?&gt;&gt;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1703"><span data-evernote-id="1704" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxyClassCache&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1705">new</span><span data-evernote-id="1706" class="js-evernote-checked">&nbsp;WeakCache&lt;&gt;(</span><span class="keyword js-evernote-checked" data-evernote-id="1707">new</span><span data-evernote-id="1708" class="js-evernote-checked">&nbsp;KeyFactory(),&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1709">new</span><span data-evernote-id="1710" class="js-evernote-checked">&nbsp;ProxyClassFactory());&nbsp;&nbsp;</span></span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_8_4374011" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3617">/**
     * a cache of proxy classes
     */
    private static final WeakCache&lt;ClassLoader, Class&lt;?&gt;[], Class&lt;?&gt;&gt;
        proxyClassCache = new WeakCache&lt;&gt;(new KeyFactory(), new ProxyClassFactory());</pre><div>奥，原来用了一下缓存啊</div>那么它对应的get方法啥样呢？</div><div><span style="font-size:14px;"><span style="font-family:宋体;"></span></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="768"><div class="bar js-evernote-checked" data-evernote-id="3222"><div class="tools js-evernote-checked" data-evernote-id="3239"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="167">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="168">copy</a><div style="position: absolute; left: 448px; top: 8539px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_10" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_10" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=10&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="169">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="170">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="1711"><li class="alt js-evernote-checked" data-evernote-id="1712"><span data-evernote-id="1713" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1714">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1715"><span data-evernote-id="1716" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1717">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Look-up&nbsp;the&nbsp;value&nbsp;through&nbsp;the&nbsp;cache.&nbsp;This&nbsp;always&nbsp;evaluates&nbsp;the</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1718"><span data-evernote-id="1719" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1720">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;{@code&nbsp;subKeyFactory}&nbsp;function&nbsp;and&nbsp;optionally&nbsp;evaluates</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1721"><span data-evernote-id="1722" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1723">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;{@code&nbsp;valueFactory}&nbsp;function&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;entry&nbsp;in&nbsp;the&nbsp;cache&nbsp;for&nbsp;given</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1724"><span data-evernote-id="1725" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1726">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;pair&nbsp;of&nbsp;(key,&nbsp;subKey)&nbsp;or&nbsp;the&nbsp;entry&nbsp;has&nbsp;already&nbsp;been&nbsp;cleared.</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1727"><span data-evernote-id="1728" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1729">&nbsp;&nbsp;&nbsp;&nbsp;*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1730"><span data-evernote-id="1731" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1732">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;key&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possibly&nbsp;null&nbsp;key</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1733"><span data-evernote-id="1734" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1735">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@param&nbsp;parameter&nbsp;parameter&nbsp;used&nbsp;together&nbsp;with&nbsp;key&nbsp;to&nbsp;create&nbsp;sub-key&nbsp;and</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1736"><span data-evernote-id="1737" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1738">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;(should&nbsp;not&nbsp;be&nbsp;null)</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1739"><span data-evernote-id="1740" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1741">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@return&nbsp;the&nbsp;cached&nbsp;value&nbsp;(never&nbsp;null)</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1742"><span data-evernote-id="1743" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1744">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;@throws&nbsp;NullPointerException&nbsp;if&nbsp;{@code&nbsp;parameter}&nbsp;passed&nbsp;in&nbsp;or</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1745"><span data-evernote-id="1746" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1747">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{@code&nbsp;sub-key}&nbsp;calculated&nbsp;by</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1748"><span data-evernote-id="1749" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1750">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{@code&nbsp;subKeyFactory}&nbsp;or&nbsp;{@code&nbsp;value}</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1751"><span data-evernote-id="1752" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1753">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calculated&nbsp;by&nbsp;{@code&nbsp;valueFactory}&nbsp;is&nbsp;null.</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1754"><span data-evernote-id="1755" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="1756">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="1757" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1758"><span data-evernote-id="1759" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1760">public</span><span data-evernote-id="1761" class="js-evernote-checked">&nbsp;V&nbsp;get(K&nbsp;key,&nbsp;P&nbsp;parameter)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1762"><span data-evernote-id="1763" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Objects.requireNonNull(parameter);&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1764"><span data-evernote-id="1765" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1766"><span data-evernote-id="1767" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expungeStaleEntries();&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1768"><span data-evernote-id="1769" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1770"><span data-evernote-id="1771" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;cacheKey&nbsp;=&nbsp;CacheKey.valueOf(key,&nbsp;refQueue);&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1772"><span data-evernote-id="1773" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1774"><span data-evernote-id="1775" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1776">//&nbsp;lazily&nbsp;install&nbsp;the&nbsp;2nd&nbsp;level&nbsp;valuesMap&nbsp;for&nbsp;the&nbsp;particular&nbsp;cacheKey</span><span data-evernote-id="1777" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1778"><span data-evernote-id="1779" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ConcurrentMap&lt;Object,&nbsp;Supplier&lt;V&gt;&gt;&nbsp;valuesMap&nbsp;=&nbsp;map.get(cacheKey);&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1780"><span data-evernote-id="1781" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1782">if</span><span data-evernote-id="1783" class="js-evernote-checked">&nbsp;(valuesMap&nbsp;==&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1784">null</span><span data-evernote-id="1785" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1786"><span data-evernote-id="1787" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1788">//putIfAbsent这个方法在key不存在的时候加入一个值,如果key存在就不放入</span><span data-evernote-id="1789" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1790"><span data-evernote-id="1791" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ConcurrentMap&lt;Object,&nbsp;Supplier&lt;V&gt;&gt;&nbsp;oldValuesMap&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1792"><span data-evernote-id="1793" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;map.putIfAbsent(cacheKey,&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1794"><span data-evernote-id="1795" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valuesMap&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1796">new</span><span data-evernote-id="1797" class="js-evernote-checked">&nbsp;ConcurrentHashMap&lt;&gt;());&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1798"><span data-evernote-id="1799" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1800">if</span><span data-evernote-id="1801" class="js-evernote-checked">&nbsp;(oldValuesMap&nbsp;!=&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1802">null</span><span data-evernote-id="1803" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1804"><span data-evernote-id="1805" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valuesMap&nbsp;=&nbsp;oldValuesMap;&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1806"><span data-evernote-id="1807" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1808"><span data-evernote-id="1809" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1810"><span data-evernote-id="1811" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1812"><span data-evernote-id="1813" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1814">//&nbsp;create&nbsp;subKey&nbsp;and&nbsp;retrieve&nbsp;the&nbsp;possible&nbsp;Supplier&lt;V&gt;&nbsp;stored&nbsp;by&nbsp;that</span><span data-evernote-id="1815" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1816"><span data-evernote-id="1817" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1818">//&nbsp;subKey&nbsp;from&nbsp;valuesMap</span><span data-evernote-id="1819" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1820"><span data-evernote-id="1821" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object&nbsp;subKey&nbsp;=&nbsp;Objects.requireNonNull(subKeyFactory.apply(key,&nbsp;parameter));&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1822"><span data-evernote-id="1823" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Supplier&lt;V&gt;&nbsp;supplier&nbsp;=&nbsp;valuesMap.get(subKey);&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1824"><span data-evernote-id="1825" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Factory&nbsp;factory&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1826">null</span><span data-evernote-id="1827" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1828"><span data-evernote-id="1829" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1830"><span data-evernote-id="1831" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1832">while</span><span data-evernote-id="1833" class="js-evernote-checked">&nbsp;(</span><span class="keyword js-evernote-checked" data-evernote-id="1834">true</span><span data-evernote-id="1835" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1836"><span data-evernote-id="1837" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1838">if</span><span data-evernote-id="1839" class="js-evernote-checked">&nbsp;(supplier&nbsp;!=&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1840">null</span><span data-evernote-id="1841" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1842"><span data-evernote-id="1843" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1844">//&nbsp;supplier&nbsp;might&nbsp;be&nbsp;a&nbsp;Factory&nbsp;or&nbsp;a&nbsp;CacheValue&lt;V&gt;&nbsp;instance</span><span data-evernote-id="1845" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1846"><span data-evernote-id="1847" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;value&nbsp;=&nbsp;supplier.get();&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1848"><span data-evernote-id="1849" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1850">if</span><span data-evernote-id="1851" class="js-evernote-checked">&nbsp;(value&nbsp;!=&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1852">null</span><span data-evernote-id="1853" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1854"><span data-evernote-id="1855" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1856">return</span><span data-evernote-id="1857" class="js-evernote-checked">&nbsp;value;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1858"><span data-evernote-id="1859" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1860"><span data-evernote-id="1861" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1862"><span data-evernote-id="1863" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1864">//&nbsp;else&nbsp;no&nbsp;supplier&nbsp;in&nbsp;cache</span><span data-evernote-id="1865" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1866"><span data-evernote-id="1867" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1868">//&nbsp;or&nbsp;a&nbsp;supplier&nbsp;that&nbsp;returned&nbsp;null&nbsp;(could&nbsp;be&nbsp;a&nbsp;cleared&nbsp;CacheValue</span><span data-evernote-id="1869" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1870"><span data-evernote-id="1871" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1872">//&nbsp;or&nbsp;a&nbsp;Factory&nbsp;that&nbsp;wasn't&nbsp;successful&nbsp;in&nbsp;installing&nbsp;the&nbsp;CacheValue)</span><span data-evernote-id="1873" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1874"><span data-evernote-id="1875" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1876"><span data-evernote-id="1877" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1878">//&nbsp;lazily&nbsp;construct&nbsp;a&nbsp;Factory</span><span data-evernote-id="1879" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1880"><span data-evernote-id="1881" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1882">if</span><span data-evernote-id="1883" class="js-evernote-checked">&nbsp;(factory&nbsp;==&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1884">null</span><span data-evernote-id="1885" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1886"><span data-evernote-id="1887" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1888">new</span><span data-evernote-id="1889" class="js-evernote-checked">&nbsp;Factory(key,&nbsp;parameter,&nbsp;subKey,&nbsp;valuesMap);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1890"><span data-evernote-id="1891" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1892"><span data-evernote-id="1893" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1894"><span data-evernote-id="1895" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1896">if</span><span data-evernote-id="1897" class="js-evernote-checked">&nbsp;(supplier&nbsp;==&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1898">null</span><span data-evernote-id="1899" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1900"><span data-evernote-id="1901" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;supplier&nbsp;=&nbsp;valuesMap.putIfAbsent(subKey,&nbsp;factory);&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1902"><span data-evernote-id="1903" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1904">if</span><span data-evernote-id="1905" class="js-evernote-checked">&nbsp;(supplier&nbsp;==&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1906">null</span><span data-evernote-id="1907" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1908"><span data-evernote-id="1909" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1910">//&nbsp;successfully&nbsp;installed&nbsp;Factory</span><span data-evernote-id="1911" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1912"><span data-evernote-id="1913" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;supplier&nbsp;=&nbsp;factory;&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1914"><span data-evernote-id="1915" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1916"><span data-evernote-id="1917" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1918">//&nbsp;else&nbsp;retry&nbsp;with&nbsp;winning&nbsp;supplier</span><span data-evernote-id="1919" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1920"><span data-evernote-id="1921" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1922">else</span><span data-evernote-id="1923" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1924"><span data-evernote-id="1925" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1926">if</span><span data-evernote-id="1927" class="js-evernote-checked">&nbsp;(valuesMap.replace(subKey,&nbsp;supplier,&nbsp;factory))&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1928"><span data-evernote-id="1929" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1930">//&nbsp;successfully&nbsp;replaced</span><span data-evernote-id="1931" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1932"><span data-evernote-id="1933" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1934">//&nbsp;cleared&nbsp;CacheEntry&nbsp;/&nbsp;unsuccessful&nbsp;Factory</span><span data-evernote-id="1935" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1936"><span data-evernote-id="1937" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1938">//&nbsp;with&nbsp;our&nbsp;Factory</span><span data-evernote-id="1939" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1940"><span data-evernote-id="1941" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;supplier&nbsp;=&nbsp;factory;&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1942"><span data-evernote-id="1943" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1944">else</span><span data-evernote-id="1945" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1946"><span data-evernote-id="1947" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1948">//&nbsp;retry&nbsp;with&nbsp;current&nbsp;supplier</span><span data-evernote-id="1949" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1950"><span data-evernote-id="1951" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;supplier&nbsp;=&nbsp;valuesMap.get(subKey);&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1952"><span data-evernote-id="1953" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1954"><span data-evernote-id="1955" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1956"><span data-evernote-id="1957" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="1958"><span data-evernote-id="1959" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_9_3992327" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3618"> /**
     * Look-up the value through the cache. This always evaluates the
     * {@code subKeyFactory} function and optionally evaluates
     * {@code valueFactory} function if there is no entry in the cache for given
     * pair of (key, subKey) or the entry has already been cleared.
     *
     * @param key       possibly null key
     * @param parameter parameter used together with key to create sub-key and
     *                  value (should not be null)
     * @return the cached value (never null)
     * @throws NullPointerException if {@code parameter} passed in or
     *                              {@code sub-key} calculated by
     *                              {@code subKeyFactory} or {@code value}
     *                              calculated by {@code valueFactory} is null.
     */
    public V get(K key, P parameter) {
        Objects.requireNonNull(parameter);

        expungeStaleEntries();

        Object cacheKey = CacheKey.valueOf(key, refQueue);

        // lazily install the 2nd level valuesMap for the particular cacheKey
        ConcurrentMap&lt;Object, Supplier&lt;V&gt;&gt; valuesMap = map.get(cacheKey);
        if (valuesMap == null) {
			//putIfAbsent这个方法在key不存在的时候加入一个值,如果key存在就不放入
            ConcurrentMap&lt;Object, Supplier&lt;V&gt;&gt; oldValuesMap
                = map.putIfAbsent(cacheKey,
                                  valuesMap = new ConcurrentHashMap&lt;&gt;());
            if (oldValuesMap != null) {
                valuesMap = oldValuesMap;
            }
        }

        // create subKey and retrieve the possible Supplier&lt;V&gt; stored by that
        // subKey from valuesMap
        Object subKey = Objects.requireNonNull(subKeyFactory.apply(key, parameter));
        Supplier&lt;V&gt; supplier = valuesMap.get(subKey);
        Factory factory = null;

        while (true) {
            if (supplier != null) {
                // supplier might be a Factory or a CacheValue&lt;V&gt; instance
                V value = supplier.get();
                if (value != null) {
                    return value;
                }
            }
            // else no supplier in cache
            // or a supplier that returned null (could be a cleared CacheValue
            // or a Factory that wasn't successful in installing the CacheValue)

            // lazily construct a Factory
            if (factory == null) {
                factory = new Factory(key, parameter, subKey, valuesMap);
            }

            if (supplier == null) {				
                supplier = valuesMap.putIfAbsent(subKey, factory);
                if (supplier == null) {
                    // successfully installed Factory
                    supplier = factory;
                }
                // else retry with winning supplier
            } else {
                if (valuesMap.replace(subKey, supplier, factory)) {
                    // successfully replaced
                    // cleared CacheEntry / unsuccessful Factory
                    // with our Factory
                    supplier = factory;
                } else {
                    // retry with current supplier
                    supplier = valuesMap.get(subKey);
                }
            }
        }
    }</pre><br>我们可以看到它调用了 supplier.get(); 获取动态代理类，其中supplier是Factory,这个类定义在WeakCach的内部。<br></div><div><span style="font-family:宋体;font-size:14px;">来瞅瞅，get里面又做了什么？</span></div><div><span style="font-family:宋体;font-size:14px;"></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="769"><div class="bar js-evernote-checked" data-evernote-id="3223"><div class="tools js-evernote-checked" data-evernote-id="3240"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="171">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="172">copy</a><div style="position: absolute; left: 448px; top: 10099px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_11" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_11" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=11&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="173">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="174">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="1960"><li class="alt js-evernote-checked" data-evernote-id="1961"><span data-evernote-id="1962" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="1963">public</span><span data-evernote-id="1964" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1965">synchronized</span><span data-evernote-id="1966" class="js-evernote-checked">&nbsp;V&nbsp;get()&nbsp;{&nbsp;</span><span class="comment js-evernote-checked" data-evernote-id="1967">//&nbsp;serialize&nbsp;access</span><span data-evernote-id="1968" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1969"><span data-evernote-id="1970" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1971">//&nbsp;re-check</span><span data-evernote-id="1972" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1973"><span data-evernote-id="1974" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Supplier&lt;V&gt;&nbsp;supplier&nbsp;=&nbsp;valuesMap.get(subKey);&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="1975"><span data-evernote-id="1976" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="1977">if</span><span data-evernote-id="1978" class="js-evernote-checked">&nbsp;(supplier&nbsp;!=&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="1979">this</span><span data-evernote-id="1980" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1981"><span data-evernote-id="1982" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1983">//&nbsp;something&nbsp;changed&nbsp;while&nbsp;we&nbsp;were&nbsp;waiting:</span><span data-evernote-id="1984" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1985"><span data-evernote-id="1986" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1987">//&nbsp;might&nbsp;be&nbsp;that&nbsp;we&nbsp;were&nbsp;replaced&nbsp;by&nbsp;a&nbsp;CacheValue</span><span data-evernote-id="1988" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1989"><span data-evernote-id="1990" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1991">//&nbsp;or&nbsp;were&nbsp;removed&nbsp;because&nbsp;of&nbsp;failure&nbsp;-&gt;</span><span data-evernote-id="1992" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="1993"><span data-evernote-id="1994" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1995">//&nbsp;return&nbsp;null&nbsp;to&nbsp;signal&nbsp;WeakCache.get()&nbsp;to&nbsp;retry</span><span data-evernote-id="1996" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="1997"><span data-evernote-id="1998" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="1999">//&nbsp;the&nbsp;loop</span><span data-evernote-id="2000" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2001"><span data-evernote-id="2002" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2003">return</span><span data-evernote-id="2004" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2005">null</span><span data-evernote-id="2006" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2007"><span data-evernote-id="2008" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2009"><span data-evernote-id="2010" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2011">//&nbsp;else&nbsp;still&nbsp;us&nbsp;(supplier&nbsp;==&nbsp;this)</span><span data-evernote-id="2012" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2013"><span data-evernote-id="2014" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2015"><span data-evernote-id="2016" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2017">//&nbsp;create&nbsp;new&nbsp;value</span><span data-evernote-id="2018" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2019"><span data-evernote-id="2020" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;value&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2021">null</span><span data-evernote-id="2022" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2023"><span data-evernote-id="2024" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2025">try</span><span data-evernote-id="2026" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2027"><span data-evernote-id="2028" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;Objects.requireNonNull(valueFactory.apply(key,&nbsp;parameter));&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2029"><span data-evernote-id="2030" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2031">finally</span><span data-evernote-id="2032" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2033"><span data-evernote-id="2034" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2035">if</span><span data-evernote-id="2036" class="js-evernote-checked">&nbsp;(value&nbsp;==&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2037">null</span><span data-evernote-id="2038" class="js-evernote-checked">)&nbsp;{&nbsp;</span><span class="comment js-evernote-checked" data-evernote-id="2039">//&nbsp;remove&nbsp;us&nbsp;on&nbsp;failure</span><span data-evernote-id="2040" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2041"><span data-evernote-id="2042" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valuesMap.remove(subKey,&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2043">this</span><span data-evernote-id="2044" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2045"><span data-evernote-id="2046" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2047"><span data-evernote-id="2048" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2049"><span data-evernote-id="2050" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2051">//&nbsp;the&nbsp;only&nbsp;path&nbsp;to&nbsp;reach&nbsp;here&nbsp;is&nbsp;with&nbsp;non-null&nbsp;value</span><span data-evernote-id="2052" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2053"><span data-evernote-id="2054" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2055">assert</span><span data-evernote-id="2056" class="js-evernote-checked">&nbsp;value&nbsp;!=&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2057">null</span><span data-evernote-id="2058" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2059"><span data-evernote-id="2060" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2061"><span data-evernote-id="2062" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2063">//&nbsp;wrap&nbsp;value&nbsp;with&nbsp;CacheValue&nbsp;(WeakReference)</span><span data-evernote-id="2064" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2065"><span data-evernote-id="2066" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CacheValue&lt;V&gt;&nbsp;cacheValue&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2067">new</span><span data-evernote-id="2068" class="js-evernote-checked">&nbsp;CacheValue&lt;&gt;(value);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2069"><span data-evernote-id="2070" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2071"><span data-evernote-id="2072" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2073">//&nbsp;try&nbsp;replacing&nbsp;us&nbsp;with&nbsp;CacheValue&nbsp;(this&nbsp;should&nbsp;always&nbsp;succeed)</span><span data-evernote-id="2074" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2075"><span data-evernote-id="2076" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2077">if</span><span data-evernote-id="2078" class="js-evernote-checked">&nbsp;(valuesMap.replace(subKey,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2079">this</span><span data-evernote-id="2080" class="js-evernote-checked">,&nbsp;cacheValue))&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2081"><span data-evernote-id="2082" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2083">//&nbsp;put&nbsp;also&nbsp;in&nbsp;reverseMap</span><span data-evernote-id="2084" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2085"><span data-evernote-id="2086" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reverseMap.put(cacheValue,&nbsp;Boolean.TRUE);&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2087"><span data-evernote-id="2088" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2089">else</span><span data-evernote-id="2090" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2091"><span data-evernote-id="2092" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2093">throw</span><span data-evernote-id="2094" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2095">new</span><span data-evernote-id="2096" class="js-evernote-checked">&nbsp;AssertionError(</span><span class="string js-evernote-checked" data-evernote-id="2097">"Should&nbsp;not&nbsp;reach&nbsp;here"</span><span data-evernote-id="2098" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2099"><span data-evernote-id="2100" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2101"><span data-evernote-id="2102" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2103"><span data-evernote-id="2104" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2105">//&nbsp;successfully&nbsp;replaced&nbsp;us&nbsp;with&nbsp;new&nbsp;CacheValue&nbsp;-&gt;&nbsp;return&nbsp;the&nbsp;value</span><span data-evernote-id="2106" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2107"><span data-evernote-id="2108" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2109">//&nbsp;wrapped&nbsp;by&nbsp;it</span><span data-evernote-id="2110" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2111"><span data-evernote-id="2112" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2113">return</span><span data-evernote-id="2114" class="js-evernote-checked">&nbsp;value;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2115"><span data-evernote-id="2116" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2117"><span data-evernote-id="2118" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_10_1658796" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3619"> public synchronized V get() { // serialize access
            // re-check
            Supplier&lt;V&gt; supplier = valuesMap.get(subKey);
            if (supplier != this) {
                // something changed while we were waiting:
                // might be that we were replaced by a CacheValue
                // or were removed because of failure -&gt;
                // return null to signal WeakCache.get() to retry
                // the loop
                return null;
            }
            // else still us (supplier == this)

            // create new value
            V value = null;
            try {
                value = Objects.requireNonNull(valueFactory.apply(key, parameter));
            } finally {
                if (value == null) { // remove us on failure
                    valuesMap.remove(subKey, this);
                }
            }
            // the only path to reach here is with non-null value
            assert value != null;

            // wrap value with CacheValue (WeakReference)
            CacheValue&lt;V&gt; cacheValue = new CacheValue&lt;&gt;(value);

            // try replacing us with CacheValue (this should always succeed)
            if (valuesMap.replace(subKey, this, cacheValue)) {
                // put also in reverseMap
                reverseMap.put(cacheValue, Boolean.TRUE);
            } else {
                throw new AssertionError("Should not reach here");
            }

            // successfully replaced us with new CacheValue -&gt; return the value
            // wrapped by it
            return value;
        }
    }</pre><br>发现重点还是木有出现，但我们可<span style="text-indent: 28px;"><span style="font-size:14px;">以看到它调用了valueFactory.apply(key, parameter)方法：</span></span><span style="font-family:宋体;font-size:14px;"></span></div><div><span style="text-indent: 28px;"><span style="font-size:14px;"></span></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="770"><div class="bar js-evernote-checked" data-evernote-id="3224"><div class="tools js-evernote-checked" data-evernote-id="3241"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="175">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="176">copy</a><div style="position: absolute; left: 448px; top: 10975px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_12" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_12" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=12&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="177">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="178">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="2119"><li class="alt js-evernote-checked" data-evernote-id="2120"><span data-evernote-id="2121" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2122">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2123"><span data-evernote-id="2124" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2125">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;A&nbsp;factory&nbsp;function&nbsp;that&nbsp;generates,&nbsp;defines&nbsp;and&nbsp;returns&nbsp;the&nbsp;proxy&nbsp;class&nbsp;given</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2126"><span data-evernote-id="2127" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2128">&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;the&nbsp;ClassLoader&nbsp;and&nbsp;array&nbsp;of&nbsp;interfaces.</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2129"><span data-evernote-id="2130" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2131">&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="2132" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2133"><span data-evernote-id="2134" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2135">private</span><span data-evernote-id="2136" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2137">static</span><span data-evernote-id="2138" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2139">final</span><span data-evernote-id="2140" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2141">class</span><span data-evernote-id="2142" class="js-evernote-checked">&nbsp;ProxyClassFactory&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2143"><span data-evernote-id="2144" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2145">implements</span><span data-evernote-id="2146" class="js-evernote-checked">&nbsp;BiFunction&lt;ClassLoader,&nbsp;Class&lt;?&gt;[],&nbsp;Class&lt;?&gt;&gt;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2147"><span data-evernote-id="2148" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2149"><span data-evernote-id="2150" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2151">//&nbsp;prefix&nbsp;for&nbsp;all&nbsp;proxy&nbsp;class&nbsp;names</span><span data-evernote-id="2152" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2153"><span data-evernote-id="2154" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2155">private</span><span data-evernote-id="2156" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2157">static</span><span data-evernote-id="2158" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2159">final</span><span data-evernote-id="2160" class="js-evernote-checked">&nbsp;String&nbsp;proxyClassNamePrefix&nbsp;=&nbsp;</span><span class="string js-evernote-checked" data-evernote-id="2161">"$Proxy"</span><span data-evernote-id="2162" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2163"><span data-evernote-id="2164" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2165"><span data-evernote-id="2166" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2167">//&nbsp;next&nbsp;number&nbsp;to&nbsp;use&nbsp;for&nbsp;generation&nbsp;of&nbsp;unique&nbsp;proxy&nbsp;class&nbsp;names</span><span data-evernote-id="2168" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2169"><span data-evernote-id="2170" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2171">private</span><span data-evernote-id="2172" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2173">static</span><span data-evernote-id="2174" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2175">final</span><span data-evernote-id="2176" class="js-evernote-checked">&nbsp;AtomicLong&nbsp;nextUniqueNumber&nbsp;=&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2177">new</span><span data-evernote-id="2178" class="js-evernote-checked">&nbsp;AtomicLong();&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2179"><span data-evernote-id="2180" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2181"><span data-evernote-id="2182" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="annotation js-evernote-checked" data-evernote-id="2183">@Override</span><span data-evernote-id="2184" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2185"><span data-evernote-id="2186" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2187">public</span><span data-evernote-id="2188" class="js-evernote-checked">&nbsp;Class&lt;?&gt;&nbsp;apply(ClassLoader&nbsp;loader,&nbsp;Class&lt;?&gt;[]&nbsp;interfaces)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2189"><span data-evernote-id="2190" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2191"><span data-evernote-id="2192" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;Class&lt;?&gt;,&nbsp;Boolean&gt;&nbsp;interfaceSet&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2193">new</span><span data-evernote-id="2194" class="js-evernote-checked">&nbsp;IdentityHashMap&lt;&gt;(interfaces.length);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2195"><span data-evernote-id="2196" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2197">for</span><span data-evernote-id="2198" class="js-evernote-checked">&nbsp;(Class&lt;?&gt;&nbsp;intf&nbsp;:&nbsp;interfaces)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2199"><span data-evernote-id="2200" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2201">/*</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2202"><span data-evernote-id="2203" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2204">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Verify&nbsp;that&nbsp;the&nbsp;class&nbsp;loader&nbsp;resolves&nbsp;the&nbsp;name&nbsp;of&nbsp;this</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2205"><span data-evernote-id="2206" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2207">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;interface&nbsp;to&nbsp;the&nbsp;same&nbsp;Class&nbsp;object.</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2208"><span data-evernote-id="2209" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2210">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="2211" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2212"><span data-evernote-id="2213" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class&lt;?&gt;&nbsp;interfaceClass&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2214">null</span><span data-evernote-id="2215" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2216"><span data-evernote-id="2217" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2218">try</span><span data-evernote-id="2219" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2220"><span data-evernote-id="2221" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interfaceClass&nbsp;=&nbsp;Class.forName(intf.getName(),&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2222">false</span><span data-evernote-id="2223" class="js-evernote-checked">,&nbsp;loader);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2224"><span data-evernote-id="2225" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2226">catch</span><span data-evernote-id="2227" class="js-evernote-checked">&nbsp;(ClassNotFoundException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2228"><span data-evernote-id="2229" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2230"><span data-evernote-id="2231" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2232">if</span><span data-evernote-id="2233" class="js-evernote-checked">&nbsp;(interfaceClass&nbsp;!=&nbsp;intf)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2234"><span data-evernote-id="2235" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2236">throw</span><span data-evernote-id="2237" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2238">new</span><span data-evernote-id="2239" class="js-evernote-checked">&nbsp;IllegalArgumentException(&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2240"><span data-evernote-id="2241" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intf&nbsp;+&nbsp;<span class="string js-evernote-checked" data-evernote-id="2242">"&nbsp;is&nbsp;not&nbsp;visible&nbsp;from&nbsp;class&nbsp;loader"</span><span data-evernote-id="2243" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2244"><span data-evernote-id="2245" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2246"><span data-evernote-id="2247" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2248">/*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2249"><span data-evernote-id="2250" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2251">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Verify&nbsp;that&nbsp;the&nbsp;Class&nbsp;object&nbsp;actually&nbsp;represents&nbsp;an</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2252"><span data-evernote-id="2253" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2254">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;interface.</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2255"><span data-evernote-id="2256" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2257">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="2258" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2259"><span data-evernote-id="2260" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2261">if</span><span data-evernote-id="2262" class="js-evernote-checked">&nbsp;(!interfaceClass.isInterface())&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2263"><span data-evernote-id="2264" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2265">throw</span><span data-evernote-id="2266" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2267">new</span><span data-evernote-id="2268" class="js-evernote-checked">&nbsp;IllegalArgumentException(&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2269"><span data-evernote-id="2270" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interfaceClass.getName()&nbsp;+&nbsp;<span class="string js-evernote-checked" data-evernote-id="2271">"&nbsp;is&nbsp;not&nbsp;an&nbsp;interface"</span><span data-evernote-id="2272" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2273"><span data-evernote-id="2274" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2275"><span data-evernote-id="2276" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2277">/*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2278"><span data-evernote-id="2279" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2280">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Verify&nbsp;that&nbsp;this&nbsp;interface&nbsp;is&nbsp;not&nbsp;a&nbsp;duplicate.</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2281"><span data-evernote-id="2282" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2283">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="2284" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2285"><span data-evernote-id="2286" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2287">if</span><span data-evernote-id="2288" class="js-evernote-checked">&nbsp;(interfaceSet.put(interfaceClass,&nbsp;Boolean.TRUE)&nbsp;!=&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2289">null</span><span data-evernote-id="2290" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2291"><span data-evernote-id="2292" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2293">throw</span><span data-evernote-id="2294" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2295">new</span><span data-evernote-id="2296" class="js-evernote-checked">&nbsp;IllegalArgumentException(&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2297"><span data-evernote-id="2298" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string js-evernote-checked" data-evernote-id="2299">"repeated&nbsp;interface:&nbsp;"</span><span data-evernote-id="2300" class="js-evernote-checked">&nbsp;+&nbsp;interfaceClass.getName());&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2301"><span data-evernote-id="2302" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2303"><span data-evernote-id="2304" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2305"><span data-evernote-id="2306" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2307"><span data-evernote-id="2308" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;proxyPkg&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2309">null</span><span data-evernote-id="2310" class="js-evernote-checked">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment js-evernote-checked" data-evernote-id="2311">//&nbsp;package&nbsp;to&nbsp;define&nbsp;proxy&nbsp;class&nbsp;in</span><span data-evernote-id="2312" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2313"><span data-evernote-id="2314" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2315">int</span><span data-evernote-id="2316" class="js-evernote-checked">&nbsp;accessFlags&nbsp;=&nbsp;Modifier.PUBLIC&nbsp;|&nbsp;Modifier.FINAL;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2317"><span data-evernote-id="2318" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2319"><span data-evernote-id="2320" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2321">/*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2322"><span data-evernote-id="2323" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2324">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Record&nbsp;the&nbsp;package&nbsp;of&nbsp;a&nbsp;non-public&nbsp;proxy&nbsp;interface&nbsp;so&nbsp;that&nbsp;the</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2325"><span data-evernote-id="2326" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2327">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;proxy&nbsp;class&nbsp;will&nbsp;be&nbsp;defined&nbsp;in&nbsp;the&nbsp;same&nbsp;package.&nbsp;&nbsp;Verify&nbsp;that</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2328"><span data-evernote-id="2329" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2330">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;all&nbsp;non-public&nbsp;proxy&nbsp;interfaces&nbsp;are&nbsp;in&nbsp;the&nbsp;same&nbsp;package.</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2331"><span data-evernote-id="2332" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="2334" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2335"><span data-evernote-id="2336" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2337">for</span><span data-evernote-id="2338" class="js-evernote-checked">&nbsp;(Class&lt;?&gt;&nbsp;intf&nbsp;:&nbsp;interfaces)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2339"><span data-evernote-id="2340" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2341">int</span><span data-evernote-id="2342" class="js-evernote-checked">&nbsp;flags&nbsp;=&nbsp;intf.getModifiers();&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2343"><span data-evernote-id="2344" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2345">if</span><span data-evernote-id="2346" class="js-evernote-checked">&nbsp;(!Modifier.isPublic(flags))&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2347"><span data-evernote-id="2348" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accessFlags&nbsp;=&nbsp;Modifier.FINAL;&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2349"><span data-evernote-id="2350" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;name&nbsp;=&nbsp;intf.getName();&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2351"><span data-evernote-id="2352" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2353">int</span><span data-evernote-id="2354" class="js-evernote-checked">&nbsp;n&nbsp;=&nbsp;name.lastIndexOf(</span><span class="string js-evernote-checked" data-evernote-id="2355">'.'</span><span data-evernote-id="2356" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2357"><span data-evernote-id="2358" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;pkg&nbsp;=&nbsp;((n&nbsp;==&nbsp;-<span class="number js-evernote-checked" data-evernote-id="2359">1</span><span data-evernote-id="2360" class="js-evernote-checked">)&nbsp;?&nbsp;</span><span class="string js-evernote-checked" data-evernote-id="2361">""</span><span data-evernote-id="2362" class="js-evernote-checked">&nbsp;:&nbsp;name.substring(</span><span class="number js-evernote-checked" data-evernote-id="2363">0</span><span data-evernote-id="2364" class="js-evernote-checked">,&nbsp;n&nbsp;+&nbsp;</span><span class="number js-evernote-checked" data-evernote-id="2365">1</span><span data-evernote-id="2366" class="js-evernote-checked">));&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2367"><span data-evernote-id="2368" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2369">if</span><span data-evernote-id="2370" class="js-evernote-checked">&nbsp;(proxyPkg&nbsp;==&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2371">null</span><span data-evernote-id="2372" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2373"><span data-evernote-id="2374" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxyPkg&nbsp;=&nbsp;pkg;&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2375"><span data-evernote-id="2376" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2377">else</span><span data-evernote-id="2378" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2379">if</span><span data-evernote-id="2380" class="js-evernote-checked">&nbsp;(!pkg.equals(proxyPkg))&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2381"><span data-evernote-id="2382" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2383">throw</span><span data-evernote-id="2384" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2385">new</span><span data-evernote-id="2386" class="js-evernote-checked">&nbsp;IllegalArgumentException(&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2387"><span data-evernote-id="2388" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string js-evernote-checked" data-evernote-id="2389">"non-public&nbsp;interfaces&nbsp;from&nbsp;different&nbsp;packages"</span><span data-evernote-id="2390" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2391"><span data-evernote-id="2392" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2393"><span data-evernote-id="2394" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2395"><span data-evernote-id="2396" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2397"><span data-evernote-id="2398" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2399"><span data-evernote-id="2400" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2401">if</span><span data-evernote-id="2402" class="js-evernote-checked">&nbsp;(proxyPkg&nbsp;==&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2403">null</span><span data-evernote-id="2404" class="js-evernote-checked">)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2405"><span data-evernote-id="2406" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2407">//&nbsp;if&nbsp;no&nbsp;non-public&nbsp;proxy&nbsp;interfaces,&nbsp;use&nbsp;com.sun.proxy&nbsp;package</span><span data-evernote-id="2408" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2409"><span data-evernote-id="2410" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxyPkg&nbsp;=&nbsp;ReflectUtil.PROXY_PACKAGE&nbsp;+&nbsp;<span class="string js-evernote-checked" data-evernote-id="2411">"."</span><span data-evernote-id="2412" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2413"><span data-evernote-id="2414" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2415"><span data-evernote-id="2416" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2417"><span data-evernote-id="2418" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2419">/*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2420"><span data-evernote-id="2421" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2422">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Choose&nbsp;a&nbsp;name&nbsp;for&nbsp;the&nbsp;proxy&nbsp;class&nbsp;to&nbsp;generate.</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2423"><span data-evernote-id="2424" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2425">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="2426" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2427"><span data-evernote-id="2428" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2429">long</span><span data-evernote-id="2430" class="js-evernote-checked">&nbsp;num&nbsp;=&nbsp;nextUniqueNumber.getAndIncrement();&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2431"><span data-evernote-id="2432" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;proxyName&nbsp;=&nbsp;proxyPkg&nbsp;+&nbsp;proxyClassNamePrefix&nbsp;+&nbsp;num;&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2433"><span data-evernote-id="2434" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2435"><span data-evernote-id="2436" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2437">/*</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2438"><span data-evernote-id="2439" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2440">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Generate&nbsp;the&nbsp;specified&nbsp;proxy&nbsp;class.</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2441"><span data-evernote-id="2442" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2443">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="2444" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2445"><span data-evernote-id="2446" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2447">byte</span><span data-evernote-id="2448" class="js-evernote-checked">[]&nbsp;proxyClassFile&nbsp;=&nbsp;ProxyGenerator.generateProxyClass(&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2449"><span data-evernote-id="2450" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxyName,&nbsp;interfaces,&nbsp;accessFlags);&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2451"><span data-evernote-id="2452" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2453">try</span><span data-evernote-id="2454" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2455"><span data-evernote-id="2456" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2457">return</span><span data-evernote-id="2458" class="js-evernote-checked">&nbsp;defineClass0(loader,&nbsp;proxyName,&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2459"><span data-evernote-id="2460" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxyClassFile,&nbsp;<span class="number js-evernote-checked" data-evernote-id="2461">0</span><span data-evernote-id="2462" class="js-evernote-checked">,&nbsp;proxyClassFile.length);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2463"><span data-evernote-id="2464" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2465">catch</span><span data-evernote-id="2466" class="js-evernote-checked">&nbsp;(ClassFormatError&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2467"><span data-evernote-id="2468" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2469">/*</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2470"><span data-evernote-id="2471" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2472">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;A&nbsp;ClassFormatError&nbsp;here&nbsp;means&nbsp;that&nbsp;(barring&nbsp;bugs&nbsp;in&nbsp;the</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2473"><span data-evernote-id="2474" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2475">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;proxy&nbsp;class&nbsp;generation&nbsp;code)&nbsp;there&nbsp;was&nbsp;some&nbsp;other</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2476"><span data-evernote-id="2477" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2478">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;invalid&nbsp;aspect&nbsp;of&nbsp;the&nbsp;arguments&nbsp;supplied&nbsp;to&nbsp;the&nbsp;proxy</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2479"><span data-evernote-id="2480" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2481">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;class&nbsp;creation&nbsp;(such&nbsp;as&nbsp;virtual&nbsp;machine&nbsp;limitations</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2482"><span data-evernote-id="2483" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2484">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;exceeded).</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2485"><span data-evernote-id="2486" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2487">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="2488" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2489"><span data-evernote-id="2490" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2491">throw</span><span data-evernote-id="2492" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2493">new</span><span data-evernote-id="2494" class="js-evernote-checked">&nbsp;IllegalArgumentException(e.toString());&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2495"><span data-evernote-id="2496" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2497"><span data-evernote-id="2498" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2499"><span data-evernote-id="2500" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_11_7689061" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3620"> /**
     * A factory function that generates, defines and returns the proxy class given
     * the ClassLoader and array of interfaces.
     */
    private static final class ProxyClassFactory
        implements BiFunction&lt;ClassLoader, Class&lt;?&gt;[], Class&lt;?&gt;&gt;
    {
        // prefix for all proxy class names
        private static final String proxyClassNamePrefix = "$Proxy";

        // next number to use for generation of unique proxy class names
        private static final AtomicLong nextUniqueNumber = new AtomicLong();

        @Override
        public Class&lt;?&gt; apply(ClassLoader loader, Class&lt;?&gt;[] interfaces) {

            Map&lt;Class&lt;?&gt;, Boolean&gt; interfaceSet = new IdentityHashMap&lt;&gt;(interfaces.length);
            for (Class&lt;?&gt; intf : interfaces) {
                /*
                 * Verify that the class loader resolves the name of this
                 * interface to the same Class object.
                 */
                Class&lt;?&gt; interfaceClass = null;
                try {
                    interfaceClass = Class.forName(intf.getName(), false, loader);
                } catch (ClassNotFoundException e) {
                }
                if (interfaceClass != intf) {
                    throw new IllegalArgumentException(
                        intf + " is not visible from class loader");
                }
                /*
                 * Verify that the Class object actually represents an
                 * interface.
                 */
                if (!interfaceClass.isInterface()) {
                    throw new IllegalArgumentException(
                        interfaceClass.getName() + " is not an interface");
                }
                /*
                 * Verify that this interface is not a duplicate.
                 */
                if (interfaceSet.put(interfaceClass, Boolean.TRUE) != null) {
                    throw new IllegalArgumentException(
                        "repeated interface: " + interfaceClass.getName());
                }
            }

            String proxyPkg = null;     // package to define proxy class in
            int accessFlags = Modifier.PUBLIC | Modifier.FINAL;

            /*
             * Record the package of a non-public proxy interface so that the
             * proxy class will be defined in the same package.  Verify that
             * all non-public proxy interfaces are in the same package.
             */
            for (Class&lt;?&gt; intf : interfaces) {
                int flags = intf.getModifiers();
                if (!Modifier.isPublic(flags)) {
                    accessFlags = Modifier.FINAL;
                    String name = intf.getName();
                    int n = name.lastIndexOf('.');
                    String pkg = ((n == -1) ? "" : name.substring(0, n + 1));
                    if (proxyPkg == null) {
                        proxyPkg = pkg;
                    } else if (!pkg.equals(proxyPkg)) {
                        throw new IllegalArgumentException(
                            "non-public interfaces from different packages");
                    }
                }
            }

            if (proxyPkg == null) {
                // if no non-public proxy interfaces, use com.sun.proxy package
                proxyPkg = ReflectUtil.PROXY_PACKAGE + ".";
            }

            /*
             * Choose a name for the proxy class to generate.
             */
            long num = nextUniqueNumber.getAndIncrement();
            String proxyName = proxyPkg + proxyClassNamePrefix + num;

            /*
             * Generate the specified proxy class.
             */
            byte[] proxyClassFile = ProxyGenerator.generateProxyClass(
                proxyName, interfaces, accessFlags);
            try {
                return defineClass0(loader, proxyName,
                                    proxyClassFile, 0, proxyClassFile.length);
            } catch (ClassFormatError e) {
                /*
                 * A ClassFormatError here means that (barring bugs in the
                 * proxy class generation code) there was some other
                 * invalid aspect of the arguments supplied to the proxy
                 * class creation (such as virtual machine limitations
                 * exceeded).
                 */
                throw new IllegalArgumentException(e.toString());
            }
        }
    }</pre>通过看代码终于找到了重点：</div><div><span style="text-indent: 28px;"><span style="font-size:14px;"></span></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="771"><div class="bar js-evernote-checked" data-evernote-id="3225"><div class="tools js-evernote-checked" data-evernote-id="3242"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="179">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="180">copy</a><div style="position: absolute; left: 448px; top: 12933px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_13" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_13" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=13&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="181">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="182">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="2501"><li class="alt js-evernote-checked" data-evernote-id="2502"><span data-evernote-id="2503" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2504">//生成字节码</span><span data-evernote-id="2505" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2506"><span data-evernote-id="2507" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2508">byte</span><span data-evernote-id="2509" class="js-evernote-checked">[]&nbsp;proxyClassFile&nbsp;=&nbsp;ProxyGenerator.generateProxyClass(proxyName,&nbsp;interfaces,&nbsp;accessFlags);&nbsp;&nbsp;</span></span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_12_4483478" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3621">//生成字节码
byte[] proxyClassFile = ProxyGenerator.generateProxyClass(proxyName, interfaces, accessFlags);</pre><span style="text-indent: 28px;"><span style="font-size:14px;">那么接下来我们也使用测试一下，使用这个方法生成的字节码是个什么样子：</span></span><span style="font-size:14px;"><br></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="772"><div class="bar js-evernote-checked" data-evernote-id="3226"><div class="tools js-evernote-checked" data-evernote-id="3243"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="183">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="184">copy</a><div style="position: absolute; left: 448px; top: 13073px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_14" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_14" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=14&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="185">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="186">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="2510"><li class="alt js-evernote-checked" data-evernote-id="2511"><span data-evernote-id="2512" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2513">package</span><span data-evernote-id="2514" class="js-evernote-checked">&nbsp;jiankunking;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2515"><span data-evernote-id="2516" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2517"><span data-evernote-id="2518" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2519">import</span><span data-evernote-id="2520" class="js-evernote-checked">&nbsp;sun.misc.ProxyGenerator;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2521"><span data-evernote-id="2522" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2523"><span data-evernote-id="2524" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2525">import</span><span data-evernote-id="2526" class="js-evernote-checked">&nbsp;java.io.File;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2527"><span data-evernote-id="2528" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2529">import</span><span data-evernote-id="2530" class="js-evernote-checked">&nbsp;java.io.FileNotFoundException;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2531"><span data-evernote-id="2532" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2533">import</span><span data-evernote-id="2534" class="js-evernote-checked">&nbsp;java.io.FileOutputStream;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2535"><span data-evernote-id="2536" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2537">import</span><span data-evernote-id="2538" class="js-evernote-checked">&nbsp;java.io.IOException;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2539"><span data-evernote-id="2540" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2541">import</span><span data-evernote-id="2542" class="js-evernote-checked">&nbsp;java.lang.reflect.InvocationHandler;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2543"><span data-evernote-id="2544" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2545">import</span><span data-evernote-id="2546" class="js-evernote-checked">&nbsp;java.lang.reflect.Proxy;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2547"><span data-evernote-id="2548" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2549"><span data-evernote-id="2550" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2551">/**</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2552"><span data-evernote-id="2553" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2554">&nbsp;*&nbsp;动态代理演示</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2555"><span data-evernote-id="2556" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2557">&nbsp;*/</span><span data-evernote-id="2558" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2559"><span data-evernote-id="2560" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2561">public</span><span data-evernote-id="2562" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2563">class</span><span data-evernote-id="2564" class="js-evernote-checked">&nbsp;DynamicProxyDemonstration&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2565"><span data-evernote-id="2566" class="js-evernote-checked">{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2567"><span data-evernote-id="2568" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2569">public</span><span data-evernote-id="2570" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2571">static</span><span data-evernote-id="2572" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2573">void</span><span data-evernote-id="2574" class="js-evernote-checked">&nbsp;main(String[]&nbsp;args)&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2575"><span data-evernote-id="2576" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2577"><span data-evernote-id="2578" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2579">//代理的真实对象</span><span data-evernote-id="2580" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2581"><span data-evernote-id="2582" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject&nbsp;realSubject&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2583">new</span><span data-evernote-id="2584" class="js-evernote-checked">&nbsp;RealSubject();&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2585"><span data-evernote-id="2586" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2587"><span data-evernote-id="2588" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2589">/**</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2590"><span data-evernote-id="2591" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2592">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;InvocationHandlerImpl&nbsp;实现了&nbsp;InvocationHandler&nbsp;接口，并能实现方法调用从代理类到委托类的分派转发</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2593"><span data-evernote-id="2594" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2595">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;其内部通常包含指向委托类实例的引用，用于真正执行分派转发过来的方法调用.</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2596"><span data-evernote-id="2597" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2598">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;即：要代理哪个真实对象，就将该对象传进去，最后是通过该真实对象来调用其方法</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2599"><span data-evernote-id="2600" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2601">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="2602" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2603"><span data-evernote-id="2604" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InvocationHandler&nbsp;handler&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2605">new</span><span data-evernote-id="2606" class="js-evernote-checked">&nbsp;InvocationHandlerImpl(realSubject);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2607"><span data-evernote-id="2608" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2609"><span data-evernote-id="2610" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ClassLoader&nbsp;loader&nbsp;=&nbsp;handler.getClass().getClassLoader();&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2611"><span data-evernote-id="2612" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class[]&nbsp;interfaces&nbsp;=&nbsp;realSubject.getClass().getInterfaces();&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2613"><span data-evernote-id="2614" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2615">/**</span>&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2616"><span data-evernote-id="2617" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2618">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;该方法用于为指定类装载器、一组接口及调用处理器生成动态代理类实例</span>&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2619"><span data-evernote-id="2620" class="js-evernote-checked"><span class="comment js-evernote-checked" data-evernote-id="2621">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/</span><span data-evernote-id="2622" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2623"><span data-evernote-id="2624" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subject&nbsp;subject&nbsp;=&nbsp;(Subject)&nbsp;Proxy.newProxyInstance(loader,&nbsp;interfaces,&nbsp;handler);&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2625"><span data-evernote-id="2626" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2627"><span data-evernote-id="2628" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(<span class="string js-evernote-checked" data-evernote-id="2629">"动态代理对象的类型："</span><span data-evernote-id="2630" class="js-evernote-checked">+subject.getClass().getName());&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2631"><span data-evernote-id="2632" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2633"><span data-evernote-id="2634" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;hello&nbsp;=&nbsp;subject.SayHello(<span class="string js-evernote-checked" data-evernote-id="2635">"jiankunking"</span><span data-evernote-id="2636" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2637"><span data-evernote-id="2638" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(hello);&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2639"><span data-evernote-id="2640" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment js-evernote-checked" data-evernote-id="2641">//&nbsp;将生成的字节码保存到本地，</span><span data-evernote-id="2642" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2643"><span data-evernote-id="2644" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createProxyClassFile();&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2645"><span data-evernote-id="2646" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2647"><span data-evernote-id="2648" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2649">private</span><span data-evernote-id="2650" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2651">static</span><span data-evernote-id="2652" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2653">void</span><span data-evernote-id="2654" class="js-evernote-checked">&nbsp;createProxyClassFile(){&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2655"><span data-evernote-id="2656" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;name&nbsp;=&nbsp;<span class="string js-evernote-checked" data-evernote-id="2657">"ProxySubject"</span><span data-evernote-id="2658" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2659"><span data-evernote-id="2660" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2661">byte</span><span data-evernote-id="2662" class="js-evernote-checked">[]&nbsp;data&nbsp;=&nbsp;ProxyGenerator.generateProxyClass(name,</span><span class="keyword js-evernote-checked" data-evernote-id="2663">new</span><span data-evernote-id="2664" class="js-evernote-checked">&nbsp;Class[]{Subject.</span><span class="keyword js-evernote-checked" data-evernote-id="2665">class</span><span data-evernote-id="2666" class="js-evernote-checked">});&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2667"><span data-evernote-id="2668" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FileOutputStream&nbsp;out&nbsp;=<span class="keyword js-evernote-checked" data-evernote-id="2669">null</span><span data-evernote-id="2670" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2671"><span data-evernote-id="2672" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2673">try</span><span data-evernote-id="2674" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2675"><span data-evernote-id="2676" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out&nbsp;=&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2677">new</span><span data-evernote-id="2678" class="js-evernote-checked">&nbsp;FileOutputStream(name+</span><span class="string js-evernote-checked" data-evernote-id="2679">".class"</span><span data-evernote-id="2680" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2681"><span data-evernote-id="2682" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println((<span class="keyword js-evernote-checked" data-evernote-id="2683">new</span><span data-evernote-id="2684" class="js-evernote-checked">&nbsp;File(</span><span class="string js-evernote-checked" data-evernote-id="2685">"hello"</span><span data-evernote-id="2686" class="js-evernote-checked">)).getAbsolutePath());&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2687"><span data-evernote-id="2688" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.write(data);&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2689"><span data-evernote-id="2690" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2691">catch</span><span data-evernote-id="2692" class="js-evernote-checked">&nbsp;(FileNotFoundException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2693"><span data-evernote-id="2694" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2695"><span data-evernote-id="2696" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2697">catch</span><span data-evernote-id="2698" class="js-evernote-checked">&nbsp;(IOException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2699"><span data-evernote-id="2700" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2701"><span data-evernote-id="2702" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<span class="keyword js-evernote-checked" data-evernote-id="2703">finally</span><span data-evernote-id="2704" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2705"><span data-evernote-id="2706" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2707">if</span><span data-evernote-id="2708" class="js-evernote-checked">(</span><span class="keyword js-evernote-checked" data-evernote-id="2709">null</span><span data-evernote-id="2710" class="js-evernote-checked">!=out)&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2711">try</span><span data-evernote-id="2712" class="js-evernote-checked">&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2713"><span data-evernote-id="2714" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out.close();&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2715"><span data-evernote-id="2716" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2717">catch</span><span data-evernote-id="2718" class="js-evernote-checked">&nbsp;(IOException&nbsp;e)&nbsp;{&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2719"><span data-evernote-id="2720" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2721"><span data-evernote-id="2722" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2723"><span data-evernote-id="2724" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2725"><span data-evernote-id="2726" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2727"><span data-evernote-id="2728" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2729"><span data-evernote-id="2730" class="js-evernote-checked">}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_13_4068775" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3622">package jiankunking;

import sun.misc.ProxyGenerator;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Proxy;

/**
 * 动态代理演示
 */
public class DynamicProxyDemonstration
{
    public static void main(String[] args)
    {
        //代理的真实对象
        Subject realSubject = new RealSubject();

        /**
         * InvocationHandlerImpl 实现了 InvocationHandler 接口，并能实现方法调用从代理类到委托类的分派转发
         * 其内部通常包含指向委托类实例的引用，用于真正执行分派转发过来的方法调用.
         * 即：要代理哪个真实对象，就将该对象传进去，最后是通过该真实对象来调用其方法
         */
        InvocationHandler handler = new InvocationHandlerImpl(realSubject);

        ClassLoader loader = handler.getClass().getClassLoader();
        Class[] interfaces = realSubject.getClass().getInterfaces();
        /**
         * 该方法用于为指定类装载器、一组接口及调用处理器生成动态代理类实例
         */
        Subject subject = (Subject) Proxy.newProxyInstance(loader, interfaces, handler);

        System.out.println("动态代理对象的类型："+subject.getClass().getName());

        String hello = subject.SayHello("jiankunking");
        System.out.println(hello);
        // 将生成的字节码保存到本地，
        createProxyClassFile();
    }
    private static void createProxyClassFile(){
        String name = "ProxySubject";
        byte[] data = ProxyGenerator.generateProxyClass(name,new Class[]{Subject.class});
        FileOutputStream out =null;
        try {
            out = new FileOutputStream(name+".class");
            System.out.println((new File("hello")).getAbsolutePath());
            out.write(data);
        } catch (FileNotFoundException e) {
            e.printStackTrace();
        } catch (IOException e) {
            e.printStackTrace();
        }finally {
            if(null!=out) try {
                out.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }

}</pre><span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(249, 249, 249);">可以看一下这里代理对象的类型：</span></div><div><span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(249, 249, 249);"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20161224233544058" alt="" data-evernote-id="756" class="js-evernote-checked" width="893" height="474"><br></span></div><div><span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 14px; line-height: 28px; text-indent: 28px; background-color: rgb(249, 249, 249);">我们用jd-jui 工具将生成的字节码反编译：</span></div><div><span style="text-indent: 28px;"><span style="font-family:宋体;color:#333333;"><span style="font-size: 14px; line-height: 28px;"></span></span></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="773"><div class="bar js-evernote-checked" data-evernote-id="3227"><div class="tools js-evernote-checked" data-evernote-id="3244"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="187">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="188">copy</a><div style="position: absolute; left: 448px; top: 14824px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_15" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_15" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=15&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="189">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="190">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="2731"><li class="alt js-evernote-checked" data-evernote-id="2732"><span data-evernote-id="2733" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2734">import</span><span data-evernote-id="2735" class="js-evernote-checked">&nbsp;java.lang.reflect.InvocationHandler;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2736"><span data-evernote-id="2737" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2738">import</span><span data-evernote-id="2739" class="js-evernote-checked">&nbsp;java.lang.reflect.Method;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2740"><span data-evernote-id="2741" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2742">import</span><span data-evernote-id="2743" class="js-evernote-checked">&nbsp;java.lang.reflect.Proxy;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2744"><span data-evernote-id="2745" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2746">import</span><span data-evernote-id="2747" class="js-evernote-checked">&nbsp;java.lang.reflect.UndeclaredThrowableException;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2748"><span data-evernote-id="2749" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2750">import</span><span data-evernote-id="2751" class="js-evernote-checked">&nbsp;jiankunking.Subject;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2752"><span data-evernote-id="2753" class="js-evernote-checked">&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2754"><span data-evernote-id="2755" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="2756">public</span><span data-evernote-id="2757" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2758">final</span><span data-evernote-id="2759" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2760">class</span><span data-evernote-id="2761" class="js-evernote-checked">&nbsp;ProxySubject&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2762"><span data-evernote-id="2763" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2764">extends</span><span data-evernote-id="2765" class="js-evernote-checked">&nbsp;Proxy&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2766"><span data-evernote-id="2767" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2768">implements</span><span data-evernote-id="2769" class="js-evernote-checked">&nbsp;Subject&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2770"><span data-evernote-id="2771" class="js-evernote-checked">{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2772"><span data-evernote-id="2773" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2774">private</span><span data-evernote-id="2775" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2776">static</span><span data-evernote-id="2777" class="js-evernote-checked">&nbsp;Method&nbsp;m1;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2778"><span data-evernote-id="2779" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2780">private</span><span data-evernote-id="2781" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2782">static</span><span data-evernote-id="2783" class="js-evernote-checked">&nbsp;Method&nbsp;m3;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2784"><span data-evernote-id="2785" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2786">private</span><span data-evernote-id="2787" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2788">static</span><span data-evernote-id="2789" class="js-evernote-checked">&nbsp;Method&nbsp;m4;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2790"><span data-evernote-id="2791" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2792">private</span><span data-evernote-id="2793" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2794">static</span><span data-evernote-id="2795" class="js-evernote-checked">&nbsp;Method&nbsp;m2;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2796"><span data-evernote-id="2797" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2798">private</span><span data-evernote-id="2799" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2800">static</span><span data-evernote-id="2801" class="js-evernote-checked">&nbsp;Method&nbsp;m0;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2802"><span data-evernote-id="2803" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2804"><span data-evernote-id="2805" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2806">public</span><span data-evernote-id="2807" class="js-evernote-checked">&nbsp;ProxySubject(InvocationHandler&nbsp;paramInvocationHandler)&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2808"><span data-evernote-id="2809" class="js-evernote-checked">&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2810"><span data-evernote-id="2811" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2812">super</span><span data-evernote-id="2813" class="js-evernote-checked">(paramInvocationHandler);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="2814"><span data-evernote-id="2815" class="js-evernote-checked">&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2816"><span data-evernote-id="2817" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2818"><span data-evernote-id="2819" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2820">public</span><span data-evernote-id="2821" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2822">final</span><span data-evernote-id="2823" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2824">boolean</span><span data-evernote-id="2825" class="js-evernote-checked">&nbsp;equals(Object&nbsp;paramObject)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2826"><span data-evernote-id="2827" class="js-evernote-checked">&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2828"><span data-evernote-id="2829" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2830">try</span><span data-evernote-id="2831" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2832"><span data-evernote-id="2833" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2834"><span data-evernote-id="2835" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2836">return</span><span data-evernote-id="2837" class="js-evernote-checked">&nbsp;((Boolean)</span><span class="keyword js-evernote-checked" data-evernote-id="2838">this</span><span data-evernote-id="2839" class="js-evernote-checked">.h.invoke(</span><span class="keyword js-evernote-checked" data-evernote-id="2840">this</span><span data-evernote-id="2841" class="js-evernote-checked">,&nbsp;m1,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2842">new</span><span data-evernote-id="2843" class="js-evernote-checked">&nbsp;Object[]&nbsp;{&nbsp;paramObject&nbsp;})).booleanValue();&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2844"><span data-evernote-id="2845" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2846"><span data-evernote-id="2847" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2848">catch</span><span data-evernote-id="2849" class="js-evernote-checked">&nbsp;(Error|RuntimeException&nbsp;localError)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2850"><span data-evernote-id="2851" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2852"><span data-evernote-id="2853" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2854">throw</span><span data-evernote-id="2855" class="js-evernote-checked">&nbsp;localError;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2856"><span data-evernote-id="2857" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2858"><span data-evernote-id="2859" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2860">catch</span><span data-evernote-id="2861" class="js-evernote-checked">&nbsp;(Throwable&nbsp;localThrowable)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2862"><span data-evernote-id="2863" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2864"><span data-evernote-id="2865" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2866">throw</span><span data-evernote-id="2867" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2868">new</span><span data-evernote-id="2869" class="js-evernote-checked">&nbsp;UndeclaredThrowableException(localThrowable);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2870"><span data-evernote-id="2871" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2872"><span data-evernote-id="2873" class="js-evernote-checked">&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2874"><span data-evernote-id="2875" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2876"><span data-evernote-id="2877" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2878">public</span><span data-evernote-id="2879" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2880">final</span><span data-evernote-id="2881" class="js-evernote-checked">&nbsp;String&nbsp;SayGoodBye()&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2882"><span data-evernote-id="2883" class="js-evernote-checked">&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2884"><span data-evernote-id="2885" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2886">try</span><span data-evernote-id="2887" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2888"><span data-evernote-id="2889" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2890"><span data-evernote-id="2891" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2892">return</span><span data-evernote-id="2893" class="js-evernote-checked">&nbsp;(String)</span><span class="keyword js-evernote-checked" data-evernote-id="2894">this</span><span data-evernote-id="2895" class="js-evernote-checked">.h.invoke(</span><span class="keyword js-evernote-checked" data-evernote-id="2896">this</span><span data-evernote-id="2897" class="js-evernote-checked">,&nbsp;m3,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2898">null</span><span data-evernote-id="2899" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2900"><span data-evernote-id="2901" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2902"><span data-evernote-id="2903" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2904">catch</span><span data-evernote-id="2905" class="js-evernote-checked">&nbsp;(Error|RuntimeException&nbsp;localError)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2906"><span data-evernote-id="2907" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2908"><span data-evernote-id="2909" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2910">throw</span><span data-evernote-id="2911" class="js-evernote-checked">&nbsp;localError;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2912"><span data-evernote-id="2913" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2914"><span data-evernote-id="2915" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2916">catch</span><span data-evernote-id="2917" class="js-evernote-checked">&nbsp;(Throwable&nbsp;localThrowable)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2918"><span data-evernote-id="2919" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2920"><span data-evernote-id="2921" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2922">throw</span><span data-evernote-id="2923" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2924">new</span><span data-evernote-id="2925" class="js-evernote-checked">&nbsp;UndeclaredThrowableException(localThrowable);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2926"><span data-evernote-id="2927" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2928"><span data-evernote-id="2929" class="js-evernote-checked">&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2930"><span data-evernote-id="2931" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2932"><span data-evernote-id="2933" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2934">public</span><span data-evernote-id="2935" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2936">final</span><span data-evernote-id="2937" class="js-evernote-checked">&nbsp;String&nbsp;SayHello(String&nbsp;paramString)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2938"><span data-evernote-id="2939" class="js-evernote-checked">&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2940"><span data-evernote-id="2941" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2942">try</span><span data-evernote-id="2943" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2944"><span data-evernote-id="2945" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2946"><span data-evernote-id="2947" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2948">return</span><span data-evernote-id="2949" class="js-evernote-checked">&nbsp;(String)</span><span class="keyword js-evernote-checked" data-evernote-id="2950">this</span><span data-evernote-id="2951" class="js-evernote-checked">.h.invoke(</span><span class="keyword js-evernote-checked" data-evernote-id="2952">this</span><span data-evernote-id="2953" class="js-evernote-checked">,&nbsp;m4,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2954">new</span><span data-evernote-id="2955" class="js-evernote-checked">&nbsp;Object[]&nbsp;{&nbsp;paramString&nbsp;});&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2956"><span data-evernote-id="2957" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2958"><span data-evernote-id="2959" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2960">catch</span><span data-evernote-id="2961" class="js-evernote-checked">&nbsp;(Error|RuntimeException&nbsp;localError)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2962"><span data-evernote-id="2963" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2964"><span data-evernote-id="2965" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2966">throw</span><span data-evernote-id="2967" class="js-evernote-checked">&nbsp;localError;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2968"><span data-evernote-id="2969" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2970"><span data-evernote-id="2971" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2972">catch</span><span data-evernote-id="2973" class="js-evernote-checked">&nbsp;(Throwable&nbsp;localThrowable)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2974"><span data-evernote-id="2975" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2976"><span data-evernote-id="2977" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2978">throw</span><span data-evernote-id="2979" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2980">new</span><span data-evernote-id="2981" class="js-evernote-checked">&nbsp;UndeclaredThrowableException(localThrowable);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2982"><span data-evernote-id="2983" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2984"><span data-evernote-id="2985" class="js-evernote-checked">&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="2986"><span data-evernote-id="2987" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2988"><span data-evernote-id="2989" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2990">public</span><span data-evernote-id="2991" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="2992">final</span><span data-evernote-id="2993" class="js-evernote-checked">&nbsp;String&nbsp;toString()&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="2994"><span data-evernote-id="2995" class="js-evernote-checked">&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="2996"><span data-evernote-id="2997" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="2998">try</span><span data-evernote-id="2999" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3000"><span data-evernote-id="3001" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3002"><span data-evernote-id="3003" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3004">return</span><span data-evernote-id="3005" class="js-evernote-checked">&nbsp;(String)</span><span class="keyword js-evernote-checked" data-evernote-id="3006">this</span><span data-evernote-id="3007" class="js-evernote-checked">.h.invoke(</span><span class="keyword js-evernote-checked" data-evernote-id="3008">this</span><span data-evernote-id="3009" class="js-evernote-checked">,&nbsp;m2,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3010">null</span><span data-evernote-id="3011" class="js-evernote-checked">);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3012"><span data-evernote-id="3013" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3014"><span data-evernote-id="3015" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3016">catch</span><span data-evernote-id="3017" class="js-evernote-checked">&nbsp;(Error|RuntimeException&nbsp;localError)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3018"><span data-evernote-id="3019" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3020"><span data-evernote-id="3021" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3022">throw</span><span data-evernote-id="3023" class="js-evernote-checked">&nbsp;localError;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3024"><span data-evernote-id="3025" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3026"><span data-evernote-id="3027" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3028">catch</span><span data-evernote-id="3029" class="js-evernote-checked">&nbsp;(Throwable&nbsp;localThrowable)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3030"><span data-evernote-id="3031" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3032"><span data-evernote-id="3033" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3034">throw</span><span data-evernote-id="3035" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3036">new</span><span data-evernote-id="3037" class="js-evernote-checked">&nbsp;UndeclaredThrowableException(localThrowable);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3038"><span data-evernote-id="3039" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3040"><span data-evernote-id="3041" class="js-evernote-checked">&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="3042"><span data-evernote-id="3043" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3044"><span data-evernote-id="3045" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3046">public</span><span data-evernote-id="3047" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3048">final</span><span data-evernote-id="3049" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3050">int</span><span data-evernote-id="3051" class="js-evernote-checked">&nbsp;hashCode()&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3052"><span data-evernote-id="3053" class="js-evernote-checked">&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3054"><span data-evernote-id="3055" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3056">try</span><span data-evernote-id="3057" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3058"><span data-evernote-id="3059" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3060"><span data-evernote-id="3061" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3062">return</span><span data-evernote-id="3063" class="js-evernote-checked">&nbsp;((Integer)</span><span class="keyword js-evernote-checked" data-evernote-id="3064">this</span><span data-evernote-id="3065" class="js-evernote-checked">.h.invoke(</span><span class="keyword js-evernote-checked" data-evernote-id="3066">this</span><span data-evernote-id="3067" class="js-evernote-checked">,&nbsp;m0,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3068">null</span><span data-evernote-id="3069" class="js-evernote-checked">)).intValue();&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3070"><span data-evernote-id="3071" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3072"><span data-evernote-id="3073" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3074">catch</span><span data-evernote-id="3075" class="js-evernote-checked">&nbsp;(Error|RuntimeException&nbsp;localError)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3076"><span data-evernote-id="3077" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3078"><span data-evernote-id="3079" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3080">throw</span><span data-evernote-id="3081" class="js-evernote-checked">&nbsp;localError;&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3082"><span data-evernote-id="3083" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3084"><span data-evernote-id="3085" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3086">catch</span><span data-evernote-id="3087" class="js-evernote-checked">&nbsp;(Throwable&nbsp;localThrowable)&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3088"><span data-evernote-id="3089" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3090"><span data-evernote-id="3091" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3092">throw</span><span data-evernote-id="3093" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3094">new</span><span data-evernote-id="3095" class="js-evernote-checked">&nbsp;UndeclaredThrowableException(localThrowable);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3096"><span data-evernote-id="3097" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3098"><span data-evernote-id="3099" class="js-evernote-checked">&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="3100"><span data-evernote-id="3101" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3102"><span data-evernote-id="3103" class="js-evernote-checked">&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3104">static</span><span data-evernote-id="3105" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3106"><span data-evernote-id="3107" class="js-evernote-checked">&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3108"><span data-evernote-id="3109" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3110">try</span><span data-evernote-id="3111" class="js-evernote-checked">&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3112"><span data-evernote-id="3113" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3114"><span data-evernote-id="3115" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m1&nbsp;=&nbsp;Class.forName(<span class="string js-evernote-checked" data-evernote-id="3116">"java.lang.Object"</span><span data-evernote-id="3117" class="js-evernote-checked">).getMethod(</span><span class="string js-evernote-checked" data-evernote-id="3118">"equals"</span><span data-evernote-id="3119" class="js-evernote-checked">,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3120">new</span><span data-evernote-id="3121" class="js-evernote-checked">&nbsp;Class[]&nbsp;{&nbsp;Class.forName(</span><span class="string js-evernote-checked" data-evernote-id="3122">"java.lang.Object"</span><span data-evernote-id="3123" class="js-evernote-checked">)&nbsp;});&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3124"><span data-evernote-id="3125" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m3&nbsp;=&nbsp;Class.forName(<span class="string js-evernote-checked" data-evernote-id="3126">"jiankunking.Subject"</span><span data-evernote-id="3127" class="js-evernote-checked">).getMethod(</span><span class="string js-evernote-checked" data-evernote-id="3128">"SayGoodBye"</span><span data-evernote-id="3129" class="js-evernote-checked">,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3130">new</span><span data-evernote-id="3131" class="js-evernote-checked">&nbsp;Class[</span><span class="number js-evernote-checked" data-evernote-id="3132">0</span><span data-evernote-id="3133" class="js-evernote-checked">]);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="3134"><span data-evernote-id="3135" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m4&nbsp;=&nbsp;Class.forName(<span class="string js-evernote-checked" data-evernote-id="3136">"jiankunking.Subject"</span><span data-evernote-id="3137" class="js-evernote-checked">).getMethod(</span><span class="string js-evernote-checked" data-evernote-id="3138">"SayHello"</span><span data-evernote-id="3139" class="js-evernote-checked">,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3140">new</span><span data-evernote-id="3141" class="js-evernote-checked">&nbsp;Class[]&nbsp;{&nbsp;Class.forName(</span><span class="string js-evernote-checked" data-evernote-id="3142">"java.lang.String"</span><span data-evernote-id="3143" class="js-evernote-checked">)&nbsp;});&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3144"><span data-evernote-id="3145" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m2&nbsp;=&nbsp;Class.forName(<span class="string js-evernote-checked" data-evernote-id="3146">"java.lang.Object"</span><span data-evernote-id="3147" class="js-evernote-checked">).getMethod(</span><span class="string js-evernote-checked" data-evernote-id="3148">"toString"</span><span data-evernote-id="3149" class="js-evernote-checked">,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3150">new</span><span data-evernote-id="3151" class="js-evernote-checked">&nbsp;Class[</span><span class="number js-evernote-checked" data-evernote-id="3152">0</span><span data-evernote-id="3153" class="js-evernote-checked">]);&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="3154"><span data-evernote-id="3155" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m0&nbsp;=&nbsp;Class.forName(<span class="string js-evernote-checked" data-evernote-id="3156">"java.lang.Object"</span><span data-evernote-id="3157" class="js-evernote-checked">).getMethod(</span><span class="string js-evernote-checked" data-evernote-id="3158">"hashCode"</span><span data-evernote-id="3159" class="js-evernote-checked">,&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3160">new</span><span data-evernote-id="3161" class="js-evernote-checked">&nbsp;Class[</span><span class="number js-evernote-checked" data-evernote-id="3162">0</span><span data-evernote-id="3163" class="js-evernote-checked">]);&nbsp;&nbsp;</span></span></li><li class="alt js-evernote-checked" data-evernote-id="3164"><span data-evernote-id="3165" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3166">return</span><span data-evernote-id="3167" class="js-evernote-checked">;&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="3168"><span data-evernote-id="3169" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="3170"><span data-evernote-id="3171" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3172">catch</span><span data-evernote-id="3173" class="js-evernote-checked">&nbsp;(NoSuchMethodException&nbsp;localNoSuchMethodException)&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="3174"><span data-evernote-id="3175" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="3176"><span data-evernote-id="3177" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3178">throw</span><span data-evernote-id="3179" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3180">new</span><span data-evernote-id="3181" class="js-evernote-checked">&nbsp;NoSuchMethodError(localNoSuchMethodException.getMessage());&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="3182"><span data-evernote-id="3183" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="3184"><span data-evernote-id="3185" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3186">catch</span><span data-evernote-id="3187" class="js-evernote-checked">&nbsp;(ClassNotFoundException&nbsp;localClassNotFoundException)&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="3188"><span data-evernote-id="3189" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="3190"><span data-evernote-id="3191" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword js-evernote-checked" data-evernote-id="3192">throw</span><span data-evernote-id="3193" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3194">new</span><span data-evernote-id="3195" class="js-evernote-checked">&nbsp;NoClassDefFoundError(localClassNotFoundException.getMessage());&nbsp;&nbsp;</span></span></li><li class="js-evernote-checked" data-evernote-id="3196"><span data-evernote-id="3197" class="js-evernote-checked">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt js-evernote-checked" data-evernote-id="3198"><span data-evernote-id="3199" class="js-evernote-checked">&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="js-evernote-checked" data-evernote-id="3200"><span data-evernote-id="3201" class="js-evernote-checked">}&nbsp;&nbsp;</span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_14_9750375" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3623">import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;
import java.lang.reflect.Proxy;
import java.lang.reflect.UndeclaredThrowableException;
import jiankunking.Subject;

public final class ProxySubject
  extends Proxy
  implements Subject
{
  private static Method m1;
  private static Method m3;
  private static Method m4;
  private static Method m2;
  private static Method m0;
  
  public ProxySubject(InvocationHandler paramInvocationHandler)
  {
    super(paramInvocationHandler);
  }
  
  public final boolean equals(Object paramObject)
  {
    try
    {
      return ((Boolean)this.h.invoke(this, m1, new Object[] { paramObject })).booleanValue();
    }
    catch (Error|RuntimeException localError)
    {
      throw localError;
    }
    catch (Throwable localThrowable)
    {
      throw new UndeclaredThrowableException(localThrowable);
    }
  }
  
  public final String SayGoodBye()
  {
    try
    {
      return (String)this.h.invoke(this, m3, null);
    }
    catch (Error|RuntimeException localError)
    {
      throw localError;
    }
    catch (Throwable localThrowable)
    {
      throw new UndeclaredThrowableException(localThrowable);
    }
  }
  
  public final String SayHello(String paramString)
  {
    try
    {
      return (String)this.h.invoke(this, m4, new Object[] { paramString });
    }
    catch (Error|RuntimeException localError)
    {
      throw localError;
    }
    catch (Throwable localThrowable)
    {
      throw new UndeclaredThrowableException(localThrowable);
    }
  }
  
  public final String toString()
  {
    try
    {
      return (String)this.h.invoke(this, m2, null);
    }
    catch (Error|RuntimeException localError)
    {
      throw localError;
    }
    catch (Throwable localThrowable)
    {
      throw new UndeclaredThrowableException(localThrowable);
    }
  }
  
  public final int hashCode()
  {
    try
    {
      return ((Integer)this.h.invoke(this, m0, null)).intValue();
    }
    catch (Error|RuntimeException localError)
    {
      throw localError;
    }
    catch (Throwable localThrowable)
    {
      throw new UndeclaredThrowableException(localThrowable);
    }
  }
  
  static
  {
    try
    {
      m1 = Class.forName("java.lang.Object").getMethod("equals", new Class[] { Class.forName("java.lang.Object") });
      m3 = Class.forName("jiankunking.Subject").getMethod("SayGoodBye", new Class[0]);
      m4 = Class.forName("jiankunking.Subject").getMethod("SayHello", new Class[] { Class.forName("java.lang.String") });
      m2 = Class.forName("java.lang.Object").getMethod("toString", new Class[0]);
      m0 = Class.forName("java.lang.Object").getMethod("hashCode", new Class[0]);
      return;
    }
    catch (NoSuchMethodException localNoSuchMethodException)
    {
      throw new NoSuchMethodError(localNoSuchMethodException.getMessage());
    }
    catch (ClassNotFoundException localClassNotFoundException)
    {
      throw new NoClassDefFoundError(localClassNotFoundException.getMessage());
    }
  }
}</pre><br>这就是最终真正的代理类，它继承自Proxy并实现了我们定义的Subject接口<br>也就是说<span style="line-height: 28px; font-size: 13.0667px;">：</span></div><div><span style="text-indent: 28px;"><span style="font-family:宋体;color:#333333;"><span style="line-height: 28px; font-size: 13.0667px;"></span></span></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="774"><div class="bar js-evernote-checked" data-evernote-id="3228"><div class="tools js-evernote-checked" data-evernote-id="3245"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="191">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="192">copy</a><div style="position: absolute; left: 448px; top: 17193px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_16" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_16" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=16&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="193">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="194">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="3202"><li class="alt js-evernote-checked" data-evernote-id="3203"><span data-evernote-id="3204" class="js-evernote-checked"><span data-evernote-id="3205" class="js-evernote-checked">Subject&nbsp;subject&nbsp;=&nbsp;(Subject)&nbsp;Proxy.newProxyInstance(loader,&nbsp;interfaces,&nbsp;handler);&nbsp;&nbsp;</span></span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_15_6544792" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3624">Subject subject = (Subject) Proxy.newProxyInstance(loader, interfaces, handler);</pre></div><div><span style="font-family:宋体;color:#333333;"><span style="font-size: 14px; line-height: 28px;">这里的</span></span><span style="font-family: 宋体; font-size: 9.8pt; line-height: 28px; color: rgb(51, 51, 51); background-color: rgb(255, 228, 255);">subject</span><span style="font-family:宋体;color:#333333;"><span style="font-size: 14px; line-height: 28px;">实际是这个类的一个实例，那么我们调用它的：</span></span></div><div><span style="font-family:宋体;color:#333333;"><span style="font-size: 14px; line-height: 28px;"></span></span><div class="dp-highlighter bg_java js-evernote-checked" data-evernote-id="775"><div class="bar js-evernote-checked" data-evernote-id="3229"><div class="tools js-evernote-checked" data-evernote-id="3246"><b>[java]</b> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="ViewSource js-evernote-checked" title="view plain" onclick="dp.sh.Toolbar.Command(&#39;ViewSource&#39;,this);return false;" target="_blank" data-evernote-id="195">view plain</a><span data-mod="popu_168"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="CopyToClipboard js-evernote-checked" title="copy" onclick="dp.sh.Toolbar.Command(&#39;CopyToClipboard&#39;,this);return false;" target="_blank" data-evernote-id="196">copy</a><div style="position: absolute; left: 448px; top: 17308px; width: 18px; height: 18px; z-index: 99;"><embed id="ZeroClipboardMovie_17" src="http://static.blog.csdn.net/scripts/ZeroClipboard/ZeroClipboard.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="18" height="18" name="ZeroClipboardMovie_17" align="middle" allowscriptaccess="always" allowfullscreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="id=17&amp;width=18&amp;height=18" wmode="transparent" style="background-color: rgb(255, 255, 255);"></div></span><span data-mod="popu_169"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="PrintSource js-evernote-checked" title="print" onclick="dp.sh.Toolbar.Command(&#39;PrintSource&#39;,this);return false;" target="_blank" data-evernote-id="197">print</a></span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="About js-evernote-checked" title="?" onclick="dp.sh.Toolbar.Command(&#39;About&#39;,this);return false;" target="_blank" data-evernote-id="198">?</a></div></div><ol start="1" class="dp-j js-evernote-checked" data-evernote-id="3206"><li class="alt js-evernote-checked" data-evernote-id="3207"><span data-evernote-id="3208" class="js-evernote-checked"><span class="keyword js-evernote-checked" data-evernote-id="3209">public</span><span data-evernote-id="3210" class="js-evernote-checked">&nbsp;</span><span class="keyword js-evernote-checked" data-evernote-id="3211">final</span><span data-evernote-id="3212" class="js-evernote-checked">&nbsp;String&nbsp;SayHello(String&nbsp;paramString)&nbsp;&nbsp;</span></span></li></ol></div><pre code_snippet_id="1814751" snippet_file_name="blog_20160807_16_5814444" name="code" class="java js-evernote-checked" style="display: none;" data-evernote-id="3625">public final String SayHello(String paramString)</pre></div><div><span style="font-family:宋体;color:#333333;"><span style="font-size: 14px; line-height: 28px;">就是调用我们定义的InvocationHandlerImpl的 invoke方法：</span></span></div><div><span style="font-family:宋体;color:#333333;"><span style="line-height: 28px; font-size: 14px;"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160807195202428" alt="" data-evernote-id="757" class="js-evernote-checked" width="539" height="237"></span></span></div><div><span style="font-family:宋体;color:#333333;"><span style="font-size: 14px; line-height: 28px;">======================横线之间的是代码跟分析的过程，不想看的朋友可以直接看结论=====================================<br></span></span><h1 data-evernote-id="46" class="js-evernote-checked"><a name="t4" target="_blank" data-evernote-id="199" class="js-evernote-checked"></a>五、结论</h1><pre style="line-height: 28px; font-family: 宋体; background-color: rgb(255, 255, 255);" data-evernote-id="3626" class="js-evernote-checked"><span style="font-size:14px;">到了这里，终于解答了：</span></pre><pre style="line-height: 28px; font-family: 宋体; background-color: rgb(255, 255, 255);" data-evernote-id="3627" class="js-evernote-checked"><span style="font-size:14px;"><span style="font-size:14px; font-family: 宋体;">subject.SayHello(</span><span style="font-size:14px; font-family: 宋体; color: rgb(0, 128, 0); "><strong>"jiankunking"</strong></span><span style="font-size:14px; font-family: 宋体;">)这句话时，为什么会自动调用InvocationHandlerImpl的invoke方法？</span>
</span></pre><pre style="line-height: 28px; font-family: 宋体; background-color: rgb(255, 255, 255);" data-evernote-id="3628" class="js-evernote-checked"><span style="font-size:14px;"><span style="font-size:14px; font-family: 宋体;">
</span></span></pre><pre data-evernote-id="3629" class="js-evernote-checked"><span style="font-family:宋体;color:#333333;"><strong><span style="font-size:14px;"><span style="font-family: 宋体; line-height: 28px; background-color: rgb(255, 255, 255);">因为JDK生成的最终真正的代理类，它继承自Proxy并实现了我们定义的Subject接口，在实现</span><span style="font-family: 宋体; line-height: 28px; background-color: rgb(255, 255, 255);">Subject接口方法的内部，通过反射调用了</span></span></strong></span><pre style="font-family: 宋体; line-height: 28px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);" data-evernote-id="3630" class="js-evernote-checked"><strong><span style="font-size:14px;">InvocationHandlerImpl的invoke方法。</span></strong></pre><pre style="font-family: 宋体; line-height: 28px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);" data-evernote-id="3631" class="js-evernote-checked"><strong><span style="font-size:14px;">
</span></strong></pre><pre style="font-family: 宋体; line-height: 28px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);" data-evernote-id="3632" class="js-evernote-checked"><span style="font-size: 14px;">包含生成本地class文件的demo：</span></pre><pre style="font-family: 宋体; line-height: 28px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);" data-evernote-id="3633" class="js-evernote-checked"><span style="font-size: 14px;"><a target="_blank" href="http://download.csdn.net/detail/xunzaosiyecao/9597474" data-evernote-id="200" class="js-evernote-checked">http://download.csdn.net/detail/xunzaosiyecao/9597474</a></span></pre><pre style="font-family: 宋体; line-height: 28px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);" data-evernote-id="3634" class="js-evernote-checked"><a target="_blank" href="https://github.com/JianKunKing/DynamicProxyDemo" data-evernote-id="201" class="js-evernote-checked">https://github.com/JianKunKing/DynamicProxyDemo</a>
</pre><pre style="font-family: 宋体; line-height: 28px; color: rgb(51, 51, 51); background-color: rgb(255, 255, 255);" data-evernote-id="3635" class="js-evernote-checked"></pre></pre></div><div><pre data-evernote-id="3636" class="js-evernote-checked"><span style="font-size:14px;">通过分析代码可以看出Java 动态代理，具体有如下四步骤：
</span><ol><li><span style="font-family: Arial, Helvetica, sans-serif;">通过实现 InvocationHandler 接口创建自己的调用处理器；</span></li><li><span style="font-family: Arial, Helvetica, sans-serif;">通过为 Proxy 类指定 ClassLoader 对象和一组 interface 来创建动态代理类；</span></li><li><span style="font-family: Arial, Helvetica, sans-serif;">通过反射机制获得动态代理类的构造函数，其唯一参数类型是调用处理器接口类型；</span></li><li><span style="font-family: Arial, Helvetica, sans-serif;">通过构造函数创建动态代理类实例，构造时调用处理器对象作为参数被传入。</span></li></ol></pre></div><p data-evernote-id="47" class="js-evernote-checked"></p><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote style="margin: 0 0 0 40px; border: none; padding: 0px;"><p data-evernote-id="48" class="js-evernote-checked"></p><div><span style="color: rgb(85, 85, 85); font-family: &#39;microsoft yahei&#39;; font-size: 18px; line-height: 27px; text-align: center; white-space: pre-wrap;"><strong><span style="line-height: 17.5px; background-color: rgba(128, 128, 128, 0.0470588);">作者：jiankunking 出处：</span><a target="_blank" href="http://blog.csdn.net/jiankunking" style="text-decoration: none; color: rgb(12, 137, 207); box-sizing: border-box; line-height: 17.5px; background-color: rgba(128, 128, 128, 0.0470588);" data-evernote-id="202" class="js-evernote-checked">http://blog.csdn.net/jiankunking</a></strong></span></div><div><span style="color: rgb(85, 85, 85); font-family: &#39;microsoft yahei&#39;; font-size: 18px; line-height: 27px; text-align: center; white-space: pre-wrap;"><span class="token p" style="box-sizing: border-box; color: rgb(90, 90, 90); font-family: &#39;microsoft yahei&#39;; font-size: 18px; line-height: 29.7px; white-space: pre-wrap; outline: none !important;">个人微信公众号：</span></span></div><div><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20170722212725206" alt="" data-evernote-id="758" class="js-evernote-checked" width="258" height="258"><br></div><p data-evernote-id="49" class="js-evernote-checked"></p></blockquote></blockquote></blockquote><p data-evernote-id="50" class="js-evernote-checked"></p><div><span style="font-family:宋体;color:#000080;"><span style="font-size: 13.0667px;"><strong><br></strong></span></span></div><div><span style="font-family:宋体;color:#000080;"><span style="font-size: 13.0667px;"><strong>本文参考过：</strong></span></span></div><div><span style="font-family:宋体;color:#000080;"><span style="font-size: 13.0667px;"><strong><a target="_blank" href="http://www.2cto.com/kf/201608/533663.html" data-evernote-id="203" class="js-evernote-checked">http://www.2cto.com/kf/201608/533663.html</a><br></strong></span></span></div><div><span style="font-family:宋体;color:#000080;"><span style="font-size: 13.0667px;"><a target="_blank" href="http://www.ibm.com/developerworks/cn/java/j-lo-proxy1/index.html" data-evernote-id="204" class="js-evernote-checked">http://www.ibm.com/developerworks/cn/java/j-lo-proxy1/index.html</a><br></span></span></div><div><span style="font-family:宋体;"><span style="font-size: 13.0667px;"><br></span></span><br><br></div><div><span style="font-size:14px;"><span style="font-family:宋体;"><br><br>&nbsp;<br><br></span><span style="font-family:Consolas, Bitstream Vera Sans Mono, Courier New, Courier, monospace;color:#008200;"><br></span><br></span></div><div><br></div><p data-evernote-id="51" class="js-evernote-checked"></p><span class="token lf" style="box-sizing: border-box; color: rgb(90, 90, 90); font-family: &#39;microsoft yahei&#39;; font-size: 18px; line-height: 29.7px; white-space: pre-wrap; outline: none !important;"></span>   
</div>




<!-- Baidu Button BEGIN -->




<div class="bdsharebuttonbox tracking-ad bdshare-button-style0-16 js-evernote-checked" style="float: right;" data-mod="popu_172" data-bd-bind="1502615879185" data-evernote-id="3565">
<a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="bds_more js-evernote-checked" data-cmd="more" style="background-position:0 0 !important; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png) !important" target="_blank" data-evernote-id="205"></a>
<a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="bds_qzone js-evernote-checked" data-cmd="qzone" title="分享到QQ空间" style="background-position:0 -52px !important" target="_blank" data-evernote-id="206"></a>
<a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="bds_tsina js-evernote-checked" data-cmd="tsina" title="分享到新浪微博" style="background-position:0 -104px !important" target="_blank" data-evernote-id="207"></a>
<a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="bds_tqq js-evernote-checked" data-cmd="tqq" title="分享到腾讯微博" style="background-position:0 -260px !important" target="_blank" data-evernote-id="208"></a>
<a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="bds_renren js-evernote-checked" data-cmd="renren" title="分享到人人网" style="background-position:0 -208px !important" target="_blank" data-evernote-id="209"></a>
<a href="http://blog.csdn.net/jiankunking/article/details/52143504#" class="bds_weixin js-evernote-checked" data-cmd="weixin" title="分享到微信" style="background-position:0 -1612px !important" target="_blank" data-evernote-id="210"></a>
</div>
<script>window._bd_share_config = { "common": { "bdSnsKey": {}, "bdText": "", "bdMini": "1", "bdMiniList": false, "bdPic": "", "bdStyle": "0", "bdSize": "16" }, "share": {} }; with (document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];</script>
<!-- Baidu Button END -->

   

<!--172.16.140.11-->

<!-- Baidu Button BEGIN -->
<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=1536434" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/bds_s_v2.js.下载"></script>

<script type="text/javascript">
    document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->



 


        <div id="digg" articleid="52143504" data-evernote-id="779" class="js-evernote-checked">
            <dl id="btnDigg" class="digg digg_disable js-evernote-checked" onclick="btndigga();" data-evernote-id="780">
               
                 <dt data-evernote-id="782" class="js-evernote-checked">顶</dt>
                <dd data-evernote-id="784" class="js-evernote-checked">4</dd>
            </dl>
           
              
            <dl id="btnBury" class="digg digg_disable js-evernote-checked" onclick="btnburya();" data-evernote-id="781">
              
                  <dt data-evernote-id="783" class="js-evernote-checked">踩</dt>
                <dd data-evernote-id="785" class="js-evernote-checked">1</dd>               
            </dl>
            
        </div>
     <div class="tracking-ad" data-mod="popu_222"><a href="javascript:void(0);" target="_blank" data-evernote-id="211" class="js-evernote-checked">&nbsp;</a>   </div>
    <div class="tracking-ad" data-mod="popu_223"> <a href="javascript:void(0);" target="_blank" data-evernote-id="212" class="js-evernote-checked">&nbsp;</a></div>
    <script type="text/javascript">
        function btndigga() {
            $(".tracking-ad[data-mod='popu_222'] a").click();
        }
        function btnburya() {
            $(".tracking-ad[data-mod='popu_223'] a").click();
        }
            </script>

   <ul class="article_next_prev js-evernote-checked" data-evernote-id="3694">
                <li class="prev_article js-evernote-checked" data-evernote-id="778"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_shangyipian&#39;]);location.href=&#39;http://blog.csdn.net/xunzaosiyecao/article/details/52078189&#39;;" data-evernote-id="776" class="js-evernote-checked">上一篇</span><a href="http://blog.csdn.net/xunzaosiyecao/article/details/52078189" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_shangyipian&#39;])" data-evernote-id="213" class="js-evernote-checked">Java API学习笔记（一）</a></li>
                <li class="next_article"><span onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_xiayipian&#39;]);location.href=&#39;http://blog.csdn.net/xunzaosiyecao/article/details/52184761&#39;;" data-evernote-id="777" class="js-evernote-checked">下一篇</span><a href="http://blog.csdn.net/xunzaosiyecao/article/details/52184761" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_xiayipian&#39;])" data-evernote-id="214" class="js-evernote-checked">mybatis Parameter index out of range (1 &gt; number of parameters, which is 0)</a></li>
    </ul>

    <div style="clear:both; height:10px;"></div>


            <div class="similar_article js-evernote-checked" data-evernote-id="3512">
                    <h4 data-evernote-id="52" class="js-evernote-checked"></h4>
                    <div class="similar_c js-evernote-checked" style="margin:20px 0px 0px 0px" data-evernote-id="3513">
                        <div class="similar_c_t js-evernote-checked" data-evernote-id="3514">
                          &nbsp;&nbsp;相关文章推荐
                        </div>
                   
                        <div class="similar_wrap tracking-ad js-evernote-checked" data-mod="popu_36" data-evernote-id="3517">                       
                            <ul class="similar_list fl js-evernote-checked" data-evernote-id="3515">    
                                   <li data-evernote-id="3518" class="js-evernote-checked">
                                       <em data-evernote-id="3492" class="js-evernote-checked">•</em>
                                       <a href="http://blog.csdn.net/mhmyqn/article/details/48474815" title="细说JDK动态代理的实现原理" strategy="BlogCommendFromBaidu" target="_blank" data-evernote-id="215" class="js-evernote-checked">细说JDK动态代理的实现原理</a>
                                   </li>
                                   <li data-evernote-id="3519" class="js-evernote-checked">
                                       <em data-evernote-id="3493" class="js-evernote-checked">•</em>
                                       <a href="http://blog.csdn.net/cckevincyh/article/details/54962920" title="Spring的两种代理方式：JDK动态代理和CGLIB动态代理" strategy="BlogCommendFromBaidu" target="_blank" data-evernote-id="216" class="js-evernote-checked">Spring的两种代理方式：JDK动态代理和CGLIB动态代理</a>
                                   </li>
                                   <li data-evernote-id="3520" class="js-evernote-checked">
                                       <em data-evernote-id="3494" class="js-evernote-checked">•</em>
                                       <a href="http://blog.csdn.net/ray890206/article/details/70146029" title="jdk动态代理为什么要接口" strategy="BlogCommendFromBaidu" target="_blank" data-evernote-id="217" class="js-evernote-checked">jdk动态代理为什么要接口</a>
                                   </li>
                                   <li data-evernote-id="3521" class="js-evernote-checked">
                                       <em data-evernote-id="3495" class="js-evernote-checked">•</em>
                                       <a href="http://blog.csdn.net/PKWind/article/details/53538162" title="jdk动态代理示例以及代码原理分析" strategy="BlogCommendFromBaidu" target="_blank" data-evernote-id="218" class="js-evernote-checked">jdk动态代理示例以及代码原理分析</a>
                                   </li>
                                   <li data-evernote-id="3522" class="js-evernote-checked">
                                       <em data-evernote-id="3496" class="js-evernote-checked">•</em>
                                       <a href="http://blog.csdn.net/u012410733/article/details/52205562" title="Java JDK 动态代理" strategy="BlogCommendFromBaidu" target="_blank" data-evernote-id="219" class="js-evernote-checked">Java JDK 动态代理</a>
                                   </li>
                            </ul>
                              <ul class="similar_list fr js-evernote-checked" data-evernote-id="3516">      
                                   <li data-evernote-id="3523" class="js-evernote-checked">
                                       <em data-evernote-id="3497" class="js-evernote-checked">•</em>
                                       <a href="http://blog.csdn.net/bluetjs/article/details/52263410" title="Java JDK 动态代理使用及实现原理分析" strategy="BlogCommendFromBaidu" target="_blank" data-evernote-id="220" class="js-evernote-checked">Java JDK 动态代理使用及实现原理分析</a>
                                   </li>
                                   <li data-evernote-id="3524" class="js-evernote-checked">
                                       <em data-evernote-id="3498" class="js-evernote-checked">•</em>
                                       <a href="http://blog.csdn.net/wangyongxia921/article/details/46125379" title="谈谈java代理模式的认识二——动态代理（JDK)" strategy="BlogCommendFromBaidu" target="_blank" data-evernote-id="221" class="js-evernote-checked">谈谈java代理模式的认识二——动态代理（JDK)</a>
                                   </li>
                                   <li data-evernote-id="3525" class="js-evernote-checked">
                                       <em data-evernote-id="3499" class="js-evernote-checked">•</em>
                                       <a href="http://blog.csdn.net/MoreeVan/article/details/11642445" title="jdk动态代理实现原理" strategy="BlogCommendFromBaidu" target="_blank" data-evernote-id="222" class="js-evernote-checked">jdk动态代理实现原理</a>
                                   </li>
                                   <li data-evernote-id="3526" class="js-evernote-checked">
                                       <em data-evernote-id="3500" class="js-evernote-checked">•</em>
                                       <a href="http://blog.csdn.net/qq1004642027/article/details/52092730" title="JAVA动态代理用法与实现过程" strategy="BlogCommendFromBaidu" target="_blank" data-evernote-id="223" class="js-evernote-checked">JAVA动态代理用法与实现过程</a>
                                   </li>
                                   <li data-evernote-id="3527" class="js-evernote-checked">
                                       <em data-evernote-id="3501" class="js-evernote-checked">•</em>
                                       <a href="http://blog.csdn.net/HEYUTAO007/article/details/49738887" title="Java动态代理的两种实现方法" strategy="BlogCommendFromBaidu" target="_blank" data-evernote-id="224" class="js-evernote-checked">Java动态代理的两种实现方法</a>
                                   </li>
                            </ul>
                        </div>
                    </div>
                </div>   
      
</div>


<div id="suggest">

</div>
         <script language="javascript" type="text/javascript">     
             $(function(){
                 $.get("/xunzaosiyecao/svc/GetSuggestContent/52143504",function(data){
                     $("#suggest").html(data);
                 });     
             });             
         </script>  

        <dl class="blog-ass-articl tracking-ad js-evernote-checked" id="res-relatived" data-mod="popu_84" data-evernote-id="786"> 
             <dt data-evernote-id="621" class="js-evernote-checked"><span data-evernote-id="787" class="js-evernote-checked">猜你在找</span></dt>    
           
    
           

                        <dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;" data-evernote-id="788" class="js-evernote-checked">
                             <a href="http://edu.csdn.net/huiyiCourse/series_detail/54?utm_source=blog7" title="【直播】机器学习&amp;数据挖掘7周实训--韦玮" strategy="undefined" target="_blank" data-evernote-id="225" class="js-evernote-checked">【直播】机器学习&amp;数据挖掘7周实训--韦玮</a>
                        </dd>
                        <dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;" data-evernote-id="789" class="js-evernote-checked">
                             <a href="http://edu.csdn.net/combo/detail/471?utm_source=blog7" title="【套餐】系统集成项目管理工程师顺利通关--徐朋" strategy="undefined" target="_blank" data-evernote-id="226" class="js-evernote-checked">【套餐】系统集成项目管理工程师顺利通关--徐朋</a>
                        </dd>
                        <dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;" data-evernote-id="790" class="js-evernote-checked">
                             <a href="http://edu.csdn.net/huiyiCourse/series_detail/55?utm_source=blog7" title="【直播】3小时掌握Docker最佳实战-徐西宁" strategy="undefined" target="_blank" data-evernote-id="227" class="js-evernote-checked">【直播】3小时掌握Docker最佳实战-徐西宁</a>
                        </dd>
                        <dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;" data-evernote-id="791" class="js-evernote-checked">
                             <a href="http://edu.csdn.net/combo/detail/505?utm_source=blog7" title="【套餐】机器学习系列套餐（算法+实战）--唐宇迪" strategy="undefined" target="_blank" data-evernote-id="228" class="js-evernote-checked">【套餐】机器学习系列套餐（算法+实战）--唐宇迪</a>
                        </dd>
                        <dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;" data-evernote-id="792" class="js-evernote-checked">
                             <a href="http://edu.csdn.net/huiyiCourse/series_detail/52?utm_source=blog7" title="【直播】计算机视觉原理及实战--屈教授" strategy="undefined" target="_blank" data-evernote-id="229" class="js-evernote-checked">【直播】计算机视觉原理及实战--屈教授</a>
                        </dd>
                        <dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;" data-evernote-id="793" class="js-evernote-checked">
                             <a href="http://edu.csdn.net/combo/detail/178?utm_source=blog7" title="【套餐】微信订阅号+服务号Java版 v2.0--翟东平" strategy="undefined" target="_blank" data-evernote-id="230" class="js-evernote-checked">【套餐】微信订阅号+服务号Java版 v2.0--翟东平</a>
                        </dd>
                        <dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;" data-evernote-id="794" class="js-evernote-checked">
                             <a href="http://edu.csdn.net/huiyiCourse/series_detail/47?utm_source=blog7" title="【直播】机器学习之矩阵--黄博士" strategy="undefined" target="_blank" data-evernote-id="231" class="js-evernote-checked">【直播】机器学习之矩阵--黄博士</a>
                        </dd>
                        <dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;" data-evernote-id="795" class="js-evernote-checked">
                             <a href="http://edu.csdn.net/combo/detail/178?utm_source=blog7" title="【套餐】微信订阅号+服务号Java版 v2.0--翟东平" strategy="undefined" target="_blank" data-evernote-id="232" class="js-evernote-checked">【套餐】微信订阅号+服务号Java版 v2.0--翟东平</a>
                        </dd>
                        <dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;" data-evernote-id="796" class="js-evernote-checked">
                             <a href="http://edu.csdn.net/huiyiCourse/series_detail/48?utm_source=blog7" title="【直播】机器学习之凸优化--马博士" strategy="undefined" target="_blank" data-evernote-id="233" class="js-evernote-checked">【直播】机器学习之凸优化--马博士</a>
                        </dd>
                        <dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px; white-space: nowrap;" data-evernote-id="797" class="js-evernote-checked">
                             <a href="http://edu.csdn.net/combo/detail/484?utm_source=blog7" title="【套餐】Javascript 设计模式实战--曾亮" strategy="undefined" target="_blank" data-evernote-id="234" class="js-evernote-checked">【套餐】Javascript 设计模式实战--曾亮</a>
                        </dd>

                  
              
                 
        </dl>




            
                                    
            
                                    

        <!-- 广告位开始 -->
        <!-- 广告位结束 -->


<div class="comment_class js-evernote-checked" data-evernote-id="798">
    <div id="comment_title" class="panel_head js-evernote-checked" data-evernote-id="622">
        <span class="see_comment js-evernote-checked" data-evernote-id="799">查看评论</span><a name="comments" data-evernote-id="235" class="js-evernote-checked"></a></div>
    <div id="comment_list" data-evernote-id="800" class="js-evernote-checked"><dl class="comment_item comment_topic js-evernote-checked" id="comment_item_7055175" data-evernote-id="801"><dt class="comment_head js-evernote-checked" floor="5" data-evernote-id="808">5楼 <span class="user js-evernote-checked" data-evernote-id="3637"><a class="username js-evernote-checked" href="http://blog.csdn.net/happy_horse" target="_blank" data-evernote-id="236">快乐的kuai小马</a> <span class="ptime">2017-08-02 12:21发表</span>  <a href="http://blog.csdn.net/jiankunking/article/details/52143504#reply" class="cmt_btn reply js-evernote-checked" title="回复" data-evernote-id="237">[回复]</a> <span class="comment_manage" style="display:none;" commentid="7055175" username="happy_horse"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#quote" class="cmt_btn quote js-evernote-checked" title="引用" data-evernote-id="238">[引用]</a> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#report" class="cmt_btn report js-evernote-checked" title="举报" data-evernote-id="239">[举报]</a></span></span></dt><dd class="comment_userface js-evernote-checked" data-evernote-id="815"><a href="http://blog.csdn.net/happy_horse" target="_blank" data-evernote-id="240" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/3_happy_horse.jpg" width="40" height="40" data-evernote-id="3596" class="js-evernote-checked"></a></dd><dd class="comment_body js-evernote-checked" data-evernote-id="816">您好，请问class 文件是怎么生成的呢？</dd><dl class="comment_item comment_reply js-evernote-checked" id="comment_item_7056475" data-evernote-id="802"><dt class="comment_head js-evernote-checked" floor="5" data-evernote-id="809">Re: <span class="user js-evernote-checked" data-evernote-id="3638"><a class="username js-evernote-checked" href="http://blog.csdn.net/xunzaosiyecao" target="_blank" data-evernote-id="241">衣舞晨风</a> <span class="ptime">2017-08-02 16:56发表</span>  <a href="http://blog.csdn.net/jiankunking/article/details/52143504#reply" class="cmt_btn reply js-evernote-checked" title="回复" data-evernote-id="242">[回复]</a> <span class="comment_manage" style="display:none;" commentid="7056475" username="xunzaosiyecao"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#quote" class="cmt_btn quote js-evernote-checked" title="引用" data-evernote-id="243">[引用]</a> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#report" class="cmt_btn report js-evernote-checked" title="举报" data-evernote-id="244">[举报]</a></span></span></dt><dd class="comment_userface js-evernote-checked" data-evernote-id="817"><a href="http://blog.csdn.net/xunzaosiyecao" target="_blank" data-evernote-id="245" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/3_xunzaosiyecao.jpg" width="40" height="40" data-evernote-id="3597" class="js-evernote-checked"></a></dd><dd class="comment_body js-evernote-checked" data-evernote-id="818">回复happy_horse：// 将生成的字节码保存到本地，  <br>        createProxyClassFile();</dd></dl></dl><dl class="comment_item comment_topic js-evernote-checked" id="comment_item_6743438" data-evernote-id="803"><dt class="comment_head js-evernote-checked" floor="4" data-evernote-id="810">4楼 <span class="user js-evernote-checked" data-evernote-id="3639"><a class="username js-evernote-checked" href="http://blog.csdn.net/erlian1992" target="_blank" data-evernote-id="246">丿木呈广予口贝</a> <span class="ptime">2017-04-11 00:18发表</span>  <a href="http://blog.csdn.net/jiankunking/article/details/52143504#reply" class="cmt_btn reply js-evernote-checked" title="回复" data-evernote-id="247">[回复]</a> <span class="comment_manage" style="display: none;" commentid="6743438" username="erlian1992"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#quote" class="cmt_btn quote js-evernote-checked" title="引用" data-evernote-id="248">[引用]</a> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#report" class="cmt_btn report js-evernote-checked" title="举报" data-evernote-id="249">[举报]</a></span></span></dt><dd class="comment_userface js-evernote-checked" data-evernote-id="819"><a href="http://blog.csdn.net/erlian1992" target="_blank" data-evernote-id="250" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/3_erlian1992.jpg" width="40" height="40" data-evernote-id="3598" class="js-evernote-checked"></a></dd><dd class="comment_body js-evernote-checked" data-evernote-id="820">强大，好好看了一遍</dd></dl><dl class="comment_item comment_topic js-evernote-checked" id="comment_item_6723970" data-evernote-id="804"><dt class="comment_head js-evernote-checked" floor="3" data-evernote-id="811">3楼 <span class="user js-evernote-checked" data-evernote-id="3640"><a class="username js-evernote-checked" href="http://blog.csdn.net/u011026779" target="_blank" data-evernote-id="251">Kerwin555</a> <span class="ptime">2017-03-31 22:13发表</span>  <a href="http://blog.csdn.net/jiankunking/article/details/52143504#reply" class="cmt_btn reply js-evernote-checked" title="回复" data-evernote-id="252">[回复]</a> <span class="comment_manage" style="display: none;" commentid="6723970" username="u011026779"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#quote" class="cmt_btn quote js-evernote-checked" title="引用" data-evernote-id="253">[引用]</a> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#report" class="cmt_btn report js-evernote-checked" title="举报" data-evernote-id="254">[举报]</a></span></span></dt><dd class="comment_userface js-evernote-checked" data-evernote-id="821"><a href="http://blog.csdn.net/u011026779" target="_blank" data-evernote-id="255" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/3_u011026779.jpg" width="40" height="40" data-evernote-id="3599" class="js-evernote-checked"></a></dd><dd class="comment_body js-evernote-checked" data-evernote-id="822">这篇文章是相当棒的，目前看到的讲动态代理讲的最细致的！</dd></dl><dl class="comment_item comment_topic js-evernote-checked" id="comment_item_6349182" data-evernote-id="805"><dt class="comment_head js-evernote-checked" floor="2" data-evernote-id="812">2楼 <span class="user js-evernote-checked" data-evernote-id="3641"><a class="username js-evernote-checked" href="http://blog.csdn.net/jdsjlzx" target="_blank" data-evernote-id="256">一叶飘舟</a> <span class="ptime">2016-10-20 23:04发表</span>  <a href="http://blog.csdn.net/jiankunking/article/details/52143504#reply" class="cmt_btn reply js-evernote-checked" title="回复" data-evernote-id="257">[回复]</a> <span class="comment_manage" style="display: none;" commentid="6349182" username="jdsjlzx"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#quote" class="cmt_btn quote js-evernote-checked" title="引用" data-evernote-id="258">[引用]</a> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#report" class="cmt_btn report js-evernote-checked" title="举报" data-evernote-id="259">[举报]</a></span></span></dt><dd class="comment_userface js-evernote-checked" data-evernote-id="823"><a href="http://blog.csdn.net/jdsjlzx" target="_blank" data-evernote-id="260" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/3_jdsjlzx.jpg" width="40" height="40" data-evernote-id="3600" class="js-evernote-checked"></a></dd><dd class="comment_body js-evernote-checked" data-evernote-id="824">你好，DynamicProxyDemonstration中下面代码是不是应该修改为下面所示呢？<br>ClassLoader loader = realSubject.getClass().getClassLoader();  <br>Class[] interfaces = realSubject.getClass().getInterfaces();</dd><dl class="comment_item comment_reply js-evernote-checked" id="comment_item_6373061" data-evernote-id="806"><dt class="comment_head js-evernote-checked" floor="2" data-evernote-id="813">Re: <span class="user js-evernote-checked" data-evernote-id="3642"><a class="username js-evernote-checked" href="http://blog.csdn.net/xunzaosiyecao" target="_blank" data-evernote-id="261">衣舞晨风</a> <span class="ptime">2016-10-30 04:34发表</span>  <a href="http://blog.csdn.net/jiankunking/article/details/52143504#reply" class="cmt_btn reply js-evernote-checked" title="回复" data-evernote-id="262">[回复]</a> <span class="comment_manage" style="display: none;" commentid="6373061" username="xunzaosiyecao"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#quote" class="cmt_btn quote js-evernote-checked" title="引用" data-evernote-id="263">[引用]</a> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#report" class="cmt_btn report js-evernote-checked" title="举报" data-evernote-id="264">[举报]</a></span></span></dt><dd class="comment_userface js-evernote-checked" data-evernote-id="825"><a href="http://blog.csdn.net/xunzaosiyecao" target="_blank" data-evernote-id="265" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/3_xunzaosiyecao.jpg" width="40" height="40" data-evernote-id="3601" class="js-evernote-checked"></a></dd><dd class="comment_body js-evernote-checked" data-evernote-id="826">回复jdsjlzx：谢谢指正，已修改</dd></dl></dl><dl class="comment_item comment_topic js-evernote-checked" id="comment_item_6284018" data-evernote-id="807"><dt class="comment_head js-evernote-checked" floor="1" data-evernote-id="814">1楼 <span class="user js-evernote-checked" data-evernote-id="3643"><a class="username js-evernote-checked" href="http://blog.csdn.net/NewMoons" target="_blank" data-evernote-id="266">NewMoons</a> <span class="ptime">2016-09-22 08:49发表</span>  <a href="http://blog.csdn.net/jiankunking/article/details/52143504#reply" class="cmt_btn reply js-evernote-checked" title="回复" data-evernote-id="267">[回复]</a> <span class="comment_manage" style="display:none;" commentid="6284018" username="NewMoons"> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#quote" class="cmt_btn quote js-evernote-checked" title="引用" data-evernote-id="268">[引用]</a> <a href="http://blog.csdn.net/jiankunking/article/details/52143504#report" class="cmt_btn report js-evernote-checked" title="举报" data-evernote-id="269">[举报]</a></span></span></dt><dd class="comment_userface js-evernote-checked" data-evernote-id="827"><a href="http://blog.csdn.net/NewMoons" target="_blank" data-evernote-id="270" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/3_newmoons.jpg" width="40" height="40" data-evernote-id="3602" class="js-evernote-checked"></a></dd><dd class="comment_body js-evernote-checked" data-evernote-id="828">好文，先收藏之。</dd></dl><div class="clear"></div></div>
    <div id="comment_bar" style="display: none;">
    </div>
    <div id="comment_form"><div class="guest_link js-evernote-checked" data-evernote-id="829">您还没有登录,请<a href="javascript:void(0);" onclick="javascript:loginbox();" data-evernote-id="271" class="js-evernote-checked">[登录]</a>或<a href="http://passport.csdn.net/account/register?from=http%3A%2F%2Fblog.csdn.net%2Fjiankunking%2Farticle%2Fdetails%2F52143504%23" data-evernote-id="272" class="js-evernote-checked">[注册]</a></div></div>
    <div class="announce js-evernote-checked" data-evernote-id="830">
        * 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply" data-evernote-id="273" class="js-evernote-checked"></a><a name="quote" data-evernote-id="274" class="js-evernote-checked"></a></div>
</div>

<script type="text/javascript">
    var fileName = '52143504';
    var commentscount = 7;
    var islock = false
</script>

    <div id="ad_bot">
    </div>
<div id="report_dialog" data-evernote-id="3644" class="js-evernote-checked">
</div>

<div id="d-top" style="bottom:60px;" data-evernote-id="831" class="js-evernote-checked">

        <a id="quick-reply" class="btn btn-top q-reply js-evernote-checked" title="快速回复" style="display:none;" data-evernote-id="275">
            <img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/blog-icon-reply.png" alt="快速回复" data-evernote-id="3603" class="js-evernote-checked">
        </a>    
    <a id="d-top-a" class="btn btn-top backtop js-evernote-checked" style="display: none;" title="返回顶部" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_huidaodingbu&#39;])" data-evernote-id="276">         
         <img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/top.png" alt="TOP" data-evernote-id="3604" class="js-evernote-checked">
    </a>
</div>
<script type="text/javascript">
    $(function ()
    {
        $("#ad_frm_0").height("90px");
        
        setTimeout(function(){
            $("#ad_frm_2").height("200px");
        },1000);    
    });
  
</script>
<style type="text/css">
    .tag_list
    {
        background: none repeat scroll 0 0 #FFFFFF;
        border: 1px solid #D7CBC1;
        color: #000000;
        font-size: 12px;
        line-height: 20px;
        list-style: none outside none;
        margin: 10px 2% 0 1%;
        padding: 1px;
    }
    .tag_list h5
    {
        background: none repeat scroll 0 0 #E0DBD3;
        color: #47381C;
        font-size: 12px;
        height: 24px;
        line-height: 24px;
        padding: 0 5px;
        margin: 0;
    }
    .tag_list h5 a
    {
        color: #47381C;
    }
    .classify
    {
        margin: 10px 0;
        padding: 4px 12px 8px;
    }
    .classify a
    {
        margin-right: 20px;
        white-space: nowrap;
    }
</style>





<div id="pop_win" style="display:none ;position: absolute; z-index: 10000; border: 1px solid rgb(220, 220, 220); top: 222.5px; left: 630px; opacity: 1; background: none 0px 0px repeat scroll rgb(255, 255, 255);">
    
</div>
<div id="popup_mask" data-evernote-id="3566" class="js-evernote-checked"></div>
<style>
    #popup_mask
    {
        position: absolute;
        width: 100%;
        height: 100%;
        background: #000;
        z-index: 9999;
        left: 0px;
        top: 0px;
        opacity: 0.3;
        filter: alpha(opacity=30);
        display: none;
    }

</style>




<script type="text/javascript">
    $(function(){        
        
        setTimeout(function(){
            $(".comment_body:contains('回复')").each(function(index,item){
                var u=$(this).text().split('：')[0].toString().replace("回复","")
                var thisComment=$(this);
                if(u)
                {
                    $.getJSON("https://passport.csdn.net/get/nick?callback=?", {users: u}, function(a) {
                        if(a!=null&&a.data!=null&&a.data.length>0)
                        {
                            nick=a.data[0].n; 
                            if(u!=nick)
                            {
                                thisComment.text(thisComment.text().replace(u,nick));  
                            }
                        }       
                    });  
                }
            });         

        },200);  

        setTimeout(function(){
            $(".math").each(function(index,value){$(this).find("span").last().css("color","#fff"); })
        },5000);

        setTimeout(function(){
            $(".math").each(function(index,value){$(this).find("span").last().css("color","#fff"); })
        },10000);

        setTimeout(function(){
            $(".math").each(function(index,value){$(this).find("span").last().css("color","#fff"); })
        },15000);
        
        setTimeout(function(){
            $("a img[src='http://js.tongji.linezing.com/stats.gif']").parent().css({"position":"absolute","left":"50%"});
        },300);
    });

    function loginbox(){
        var $logpop=$("#pop_win");
        $logpop.html('<iframe src="https://passport.csdn.net/account/loginbox?service=http://static.blog.csdn.net/callback.htm" frameborder="0" height="600" width="400" scrolling="no"></iframe>');

        $('#popup_mask').css({
            opacity: 0.5,
            width: $( document ).width() + 'px',
            height:  $( document ).height() + 'px'
        });
        $('#popup_mask').css("display","block");
 
        $logpop.css( {
            top: ($( window ).height() - $logpop.height())/ 2  + $( window 
       ).scrollTop() + 'px',
            left:($( window ).width() - $logpop.width())/ 2
        } );
 
        setTimeout( function () {
            $logpop.show();
            $logpop.css( {
                opacity: 1
            } );
        }, 200 );
 
        $('#popup_mask').unbind("click");
        $('#popup_mask').bind("click", function(){
            $('#popup_mask').hide();
            var $clopop = $("#pop_win");
            $("#common_ask_div_sc").css("display","none");
            $clopop.css( {
                opacity: 0
            } );
            setTimeout( function () {
                $clopop.hide();
            }, 350 );
            return false;
        });
    }   

    var articletitle='Java JDK 动态代理（AOP）使用及实现原理分析';

</script>










                        <div class="clear">
                        </div>
                    </div>                   
                
            </div>
                   
           <div id="side" data-evernote-id="623" class="js-evernote-checked">
               
    <div class="side">
<div id="panel_Profile" class="panel js-evernote-checked" data-evernote-id="624">
<ul class="panel_head js-evernote-checked" data-evernote-id="469"><span>个人资料</span></ul>
<ul class="panel_body profile js-evernote-checked" data-evernote-id="470">
<div id="blog_userface" data-evernote-id="635" class="js-evernote-checked">
    <a href="http://my.csdn.net/xunzaosiyecao" target="_blank" data-evernote-id="277" class="js-evernote-checked">
    <img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/1_xunzaosiyecao.jpg" title="访问我的空间" style="max-width:90%" data-evernote-id="3605" class="js-evernote-checked">
    </a>
    <br>
    <span data-evernote-id="636" class="js-evernote-checked"><a href="http://my.csdn.net/xunzaosiyecao" class="user_name js-evernote-checked" target="_blank" data-evernote-id="278">衣舞晨风</a></span>
</div>
<div class="interact js-evernote-checked" data-evernote-id="637">

    <a href="javascript:void(0);" class="attent js-evernote-checked" id="span_add_follow" title="[加关注]" data-evernote-id="279"></a>

 <a href="javascript:void(0);" class="letter js-evernote-checked" title="[发私信]" onclick="window.open(&#39;http://msg.csdn.net/letters/model?receiver=xunzaosiyecao&#39;,&#39;_blank&#39;,&#39;height=350,width=700&#39;);_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_sixin&#39;])" data-evernote-id="280"></a>  
</div>
<div id="blog_medal" data-evernote-id="638" class="js-evernote-checked">
                       <div class="ico_expert js-evernote-checked" onclick="javascript:location=&#39;http://blog.csdn.net/experts/rule.html&#39;" title="CSDN认证专家" style="cursor:pointer;width:60px;height:60px;background:url(&#39;http://c.csdnimg.cn/jifen/images/xunzhang/xunzhang/bokezhuanjiamiddle.png&#39;) no-repeat" data-evernote-id="639"></div>
                <div id="bms_box" data-evernote-id="3645" class="js-evernote-checked">
                                            <a target="_blank" data-evernote-id="281" class="js-evernote-checked">
                                                    <img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/zhuanlandaren.png" onmouseover="m_over_m(this,2)" onmouseout="m_out_m()" alt="6" data-evernote-id="3606" class="js-evernote-checked">
                                            </a>
                                            <a target="_blank" data-evernote-id="282" class="js-evernote-checked">
                                                    <img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/chizhiyiheng.png" onmouseover="m_over_m(this,4)" onmouseout="m_out_m()" alt="4" data-evernote-id="3607" class="js-evernote-checked">
                                            </a>
               </div>
</div>
<ul id="blog_rank" data-evernote-id="471" class="js-evernote-checked">
    <li data-evernote-id="492" class="js-evernote-checked">访问：<span data-evernote-id="3646" class="js-evernote-checked">1517009次</span></li>
    <li data-evernote-id="493" class="js-evernote-checked">积分：<span data-evernote-id="3647" class="js-evernote-checked">24142</span> </li>    
    <li data-evernote-id="494" class="js-evernote-checked">等级： <span style="position:relative;display:inline-block;z-index:1" data-evernote-id="3648" class="js-evernote-checked">
            <img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/blog7.png" alt="" style="vertical-align: middle;" id="leveImg" data-evernote-id="3608" class="js-evernote-checked">
            <div id="smallTittle" style=" position: absolute;  left: -24px;  top: 25px;  text-align: center;  width: 101px;  height: 32px;  background-color: #fff;  line-height: 32px;  border: 2px #DDDDDD solid;  box-shadow: 0px 2px 2px rgba (0,0,0,0.1);  display: none;   z-index: 999;">
            <div style="left: 42%;  top: -8px;  position: absolute;  width: 0;  height: 0;  border-left: 10px solid transparent;  border-right: 10px solid transparent;  border-bottom: 8px solid #EAEAEA;"></div>
            积分：24142 </div>
        </span>  </li>
    <li data-evernote-id="495" class="js-evernote-checked">排名：<span data-evernote-id="3649" class="js-evernote-checked">第261名</span></li>
</ul>
<ul id="blog_statistics" data-evernote-id="472" class="js-evernote-checked">
    <li data-evernote-id="496" class="js-evernote-checked">原创：<span data-evernote-id="640" class="js-evernote-checked">851篇</span></li>
    <li data-evernote-id="497" class="js-evernote-checked">转载：<span data-evernote-id="641" class="js-evernote-checked">173篇</span></li>
    <li data-evernote-id="498" class="js-evernote-checked">译文：<span data-evernote-id="642" class="js-evernote-checked">2篇</span></li>
    <li data-evernote-id="499" class="js-evernote-checked">评论：<span data-evernote-id="643" class="js-evernote-checked">228条</span></li>
</ul>
</ul>
</div>




<div id="custom_column_39113645" class="panel js-evernote-checked" data-evernote-id="625">
<ul class="panel_head js-evernote-checked" data-evernote-id="473"><span>关于作者</span></ul>
<ul class="panel_body js-evernote-checked" data-evernote-id="474">
<br>衣舞晨风<br>
<br>Coder<br>
<br>邮箱：<br>
<br>jiankunking@163.com<br>
</ul>
</div>

<div id="custom_column_57418190" class="panel js-evernote-checked" data-evernote-id="626">
<ul class="panel_head js-evernote-checked" data-evernote-id="475"><span>个人微信公众号</span></ul>
<ul class="panel_body js-evernote-checked" data-evernote-id="476">
<ul class="panel_head js-evernote-checked" data-evernote-id="477">
<span data-evernote-id="633" class="js-evernote-checked">衣舞晨风的个人微信公众号</span></ul>
<ul class="panel_body js-evernote-checked" data-evernote-id="478">
分享个人工作、生活中的所触、所感、所思。 
<img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20170715191113058" style="width:95%" data-evernote-id="634" class="js-evernote-checked">
</ul>
</ul>
</div><div class="panel js-evernote-checked" id="panel_Search" data-evernote-id="627">
    <ul class="panel_head js-evernote-checked" data-evernote-id="479"><span>文章搜索</span></ul>
    <ul class="panel_body js-evernote-checked" data-evernote-id="480">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search csdn-tracking-statistics js-evernote-checked" target="_blank" data-mod="popu_306" data-evernote-id="3593">
        <span><input id="inputSearch" type="text" class="blogsearch js-evernote-checked" title="请输入关键字" data-evernote-id="644"></span>
        <input id="btnSubmit" type="button" value="搜索" title="search in blog" data-evernote-id="645" class="js-evernote-checked">
        <input type="hidden" name="q" id="inputQ">
        <input type="hidden" name="t" value="blog">
        <a id="btnSearchBlog" target="_blank" data-evernote-id="283" class="js-evernote-checked"></a>
        </form>
    </ul>
</div>

<script type="text/javascript">

   
    $(function () {
        $("#btnSubmit").unbind("click");
        $("#btnSubmit").click(function () {           
            search();
        });

        $("#frmSearch").submit(function () {           
            search();
            return false;
        });

        function search()
        {
            if ($("#inputSearch").val() == "") {               
                alert("请录入搜索关键词！");                         
                return false;
            }
            //var url = "http://so.csdn.net/so/search/s.do?q=" + encodeURIComponent($("#inputSearch").val()) + "&u=" + username + "&t=blog";           
            var url = "https://www.baidu.com/s?wd=" + encodeURIComponent($("#inputSearch").val()) + "%20site%3Ablog.csdn.net"
            window.location.href = url;
        }   
    });
</script><div id="panel_Category" class="panel js-evernote-checked" data-evernote-id="628">
<ul class="panel_head js-evernote-checked" data-evernote-id="481"><span>文章分类</span></ul>
<ul class="panel_body js-evernote-checked" data-evernote-id="482">    
                 <li data-evernote-id="500" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845809" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="284" class="js-evernote-checked">C#</a><span data-evernote-id="666" class="js-evernote-checked">(219)</span>
                </li>
                 <li data-evernote-id="501" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6238108" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="285" class="js-evernote-checked">Java</a><span data-evernote-id="667" class="js-evernote-checked">(43)</span>
                </li>
                 <li data-evernote-id="502" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845811" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="286" class="js-evernote-checked">Asp.Net</a><span data-evernote-id="668" class="js-evernote-checked">(16)</span>
                </li>
                 <li data-evernote-id="503" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845813" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="287" class="js-evernote-checked">数据库</a><span data-evernote-id="669" class="js-evernote-checked">(32)</span>
                </li>
                 <li data-evernote-id="504" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845825" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="288" class="js-evernote-checked">Visual Studio</a><span data-evernote-id="670" class="js-evernote-checked">(41)</span>
                </li>
                 <li data-evernote-id="505" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845817" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="289" class="js-evernote-checked">DevExpress控件</a><span data-evernote-id="671" class="js-evernote-checked">(51)</span>
                </li>
                 <li data-evernote-id="506" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/2934823" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="290" class="js-evernote-checked">WCF</a><span data-evernote-id="672" class="js-evernote-checked">(32)</span>
                </li>
                 <li data-evernote-id="507" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845831" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="291" class="js-evernote-checked">WinForm</a><span data-evernote-id="673" class="js-evernote-checked">(17)</span>
                </li>
                 <li data-evernote-id="508" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/2535035" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="292" class="js-evernote-checked">Oracle</a><span data-evernote-id="674" class="js-evernote-checked">(68)</span>
                </li>
                 <li data-evernote-id="509" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/2535037" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="293" class="js-evernote-checked">Sql Server</a><span data-evernote-id="675" class="js-evernote-checked">(70)</span>
                </li>
                 <li data-evernote-id="510" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/2361815" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="294" class="js-evernote-checked">JavaScript</a><span data-evernote-id="676" class="js-evernote-checked">(13)</span>
                </li>
                 <li data-evernote-id="511" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6245962" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="295" class="js-evernote-checked">jQuery</a><span data-evernote-id="677" class="js-evernote-checked">(5)</span>
                </li>
                 <li data-evernote-id="512" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845835" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="296" class="js-evernote-checked">Xml</a><span data-evernote-id="678" class="js-evernote-checked">(23)</span>
                </li>
                 <li data-evernote-id="513" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/2487101" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="297" class="js-evernote-checked">Html    5</a><span data-evernote-id="679" class="js-evernote-checked">(2)</span>
                </li>
                 <li data-evernote-id="514" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/3034811" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="298" class="js-evernote-checked">性能</a><span data-evernote-id="680" class="js-evernote-checked">(5)</span>
                </li>
                 <li data-evernote-id="515" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/5934993" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="299" class="js-evernote-checked">SQLite</a><span data-evernote-id="681" class="js-evernote-checked">(1)</span>
                </li>
                 <li data-evernote-id="516" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/5934995" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="300" class="js-evernote-checked">Log4</a><span data-evernote-id="682" class="js-evernote-checked">(3)</span>
                </li>
                 <li data-evernote-id="517" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/5701883" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="301" class="js-evernote-checked">IIS</a><span data-evernote-id="683" class="js-evernote-checked">(9)</span>
                </li>
                 <li data-evernote-id="518" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/5959971" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="302" class="js-evernote-checked">设计模式</a><span data-evernote-id="684" class="js-evernote-checked">(8)</span>
                </li>
                 <li data-evernote-id="519" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/5615313" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="303" class="js-evernote-checked">HTML+CSS</a><span data-evernote-id="685" class="js-evernote-checked">(12)</span>
                </li>
                 <li data-evernote-id="520" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6069517" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="304" class="js-evernote-checked">MongoDB</a><span data-evernote-id="686" class="js-evernote-checked">(1)</span>
                </li>
                 <li data-evernote-id="521" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/5996263" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="305" class="js-evernote-checked">CLR</a><span data-evernote-id="687" class="js-evernote-checked">(3)</span>
                </li>
                 <li data-evernote-id="522" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6238111" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="306" class="js-evernote-checked">Tomcat</a><span data-evernote-id="688" class="js-evernote-checked">(2)</span>
                </li>
                 <li data-evernote-id="523" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6326729" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="307" class="js-evernote-checked">MySQL</a><span data-evernote-id="689" class="js-evernote-checked">(17)</span>
                </li>
                 <li data-evernote-id="524" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6301902" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="308" class="js-evernote-checked">MyBatis</a><span data-evernote-id="690" class="js-evernote-checked">(12)</span>
                </li>
                 <li data-evernote-id="525" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6268962" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="309" class="js-evernote-checked">Spring</a><span data-evernote-id="691" class="js-evernote-checked">(16)</span>
                </li>
                 <li data-evernote-id="526" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6326209" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="310" class="js-evernote-checked">Web</a><span data-evernote-id="692" class="js-evernote-checked">(3)</span>
                </li>
                 <li data-evernote-id="527" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845815" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="311" class="js-evernote-checked">Windows环境</a><span data-evernote-id="693" class="js-evernote-checked">(45)</span>
                </li>
                 <li data-evernote-id="528" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6083202" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="312" class="js-evernote-checked">Eclipse与IDEA</a><span data-evernote-id="694" class="js-evernote-checked">(9)</span>
                </li>
                 <li data-evernote-id="529" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6061876" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="313" class="js-evernote-checked">NHibernate</a><span data-evernote-id="695" class="js-evernote-checked">(2)</span>
                </li>
                 <li data-evernote-id="530" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845827" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="314" class="js-evernote-checked">工作杂谈（非技术）</a><span data-evernote-id="696" class="js-evernote-checked">(26)</span>
                </li>
                 <li data-evernote-id="531" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845819" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="315" class="js-evernote-checked">ERP与会计基础</a><span data-evernote-id="697" class="js-evernote-checked">(9)</span>
                </li>
                 <li data-evernote-id="532" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845833" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="316" class="js-evernote-checked">礼仪</a><span data-evernote-id="698" class="js-evernote-checked">(2)</span>
                </li>
                 <li data-evernote-id="533" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845837" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="317" class="js-evernote-checked">Software Activat</a><span data-evernote-id="699" class="js-evernote-checked">(6)</span>
                </li>
                 <li data-evernote-id="534" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845843" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="318" class="js-evernote-checked">生活</a><span data-evernote-id="700" class="js-evernote-checked">(38)</span>
                </li>
                 <li data-evernote-id="535" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845845" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="319" class="js-evernote-checked">排序算法及算法基础</a><span data-evernote-id="701" class="js-evernote-checked">(13)</span>
                </li>
                 <li data-evernote-id="536" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845829" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="320" class="js-evernote-checked">工具软件、用法、资源</a><span data-evernote-id="702" class="js-evernote-checked">(47)</span>
                </li>
                 <li data-evernote-id="537" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845853" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="321" class="js-evernote-checked">生活中的经济与心理</a><span data-evernote-id="703" class="js-evernote-checked">(10)</span>
                </li>
                 <li data-evernote-id="538" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1850607" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="322" class="js-evernote-checked">各类有趣算法</a><span data-evernote-id="704" class="js-evernote-checked">(2)</span>
                </li>
                 <li data-evernote-id="539" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/2383437" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="323" class="js-evernote-checked">面试</a><span data-evernote-id="705" class="js-evernote-checked">(6)</span>
                </li>
                 <li data-evernote-id="540" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/2385517" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="324" class="js-evernote-checked">知识拓展</a><span data-evernote-id="706" class="js-evernote-checked">(1)</span>
                </li>
                 <li data-evernote-id="541" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/1845847" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="325" class="js-evernote-checked">最短路径算法</a><span data-evernote-id="707" class="js-evernote-checked">(4)</span>
                </li>
                 <li data-evernote-id="542" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/5642035" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="326" class="js-evernote-checked">Webstorm</a><span data-evernote-id="708" class="js-evernote-checked">(1)</span>
                </li>
                 <li data-evernote-id="543" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6167713" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="327" class="js-evernote-checked">BPM与Activiti</a><span data-evernote-id="709" class="js-evernote-checked">(32)</span>
                </li>
                 <li data-evernote-id="544" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/5632919" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="328" class="js-evernote-checked">Python</a><span data-evernote-id="710" class="js-evernote-checked">(0)</span>
                </li>
                 <li data-evernote-id="545" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6541854" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="329" class="js-evernote-checked">ElasticSearch</a><span data-evernote-id="711" class="js-evernote-checked">(5)</span>
                </li>
                 <li data-evernote-id="546" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6542842" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="330" class="js-evernote-checked">Maven</a><span data-evernote-id="712" class="js-evernote-checked">(2)</span>
                </li>
                 <li data-evernote-id="547" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6577321" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="331" class="js-evernote-checked">奇葩问题</a><span data-evernote-id="713" class="js-evernote-checked">(3)</span>
                </li>
                 <li data-evernote-id="548" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6701195" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="332" class="js-evernote-checked">Markdown</a><span data-evernote-id="714" class="js-evernote-checked">(2)</span>
                </li>
                 <li data-evernote-id="549" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6707959" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="333" class="js-evernote-checked">Linux</a><span data-evernote-id="715" class="js-evernote-checked">(17)</span>
                </li>
                 <li data-evernote-id="550" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6737621" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="334" class="js-evernote-checked">编码规范</a><span data-evernote-id="716" class="js-evernote-checked">(5)</span>
                </li>
                 <li data-evernote-id="551" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6765019" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="335" class="js-evernote-checked">Docker</a><span data-evernote-id="717" class="js-evernote-checked">(17)</span>
                </li>
                 <li data-evernote-id="552" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6772758" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="336" class="js-evernote-checked">ZooKeeper</a><span data-evernote-id="718" class="js-evernote-checked">(13)</span>
                </li>
                 <li data-evernote-id="553" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6791676" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="337" class="js-evernote-checked">Shell</a><span data-evernote-id="719" class="js-evernote-checked">(1)</span>
                </li>
                 <li data-evernote-id="554" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6805636" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="338" class="js-evernote-checked">UML</a><span data-evernote-id="720" class="js-evernote-checked">(1)</span>
                </li>
                 <li data-evernote-id="555" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6824068" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="339" class="js-evernote-checked">Logstash</a><span data-evernote-id="721" class="js-evernote-checked">(10)</span>
                </li>
                 <li data-evernote-id="556" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6860304" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="340" class="js-evernote-checked">正则表达式</a><span data-evernote-id="722" class="js-evernote-checked">(1)</span>
                </li>
                 <li data-evernote-id="557" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6869964" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="341" class="js-evernote-checked">JStorm</a><span data-evernote-id="723" class="js-evernote-checked">(5)</span>
                </li>
                 <li data-evernote-id="558" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6903655" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="342" class="js-evernote-checked">Kafka</a><span data-evernote-id="724" class="js-evernote-checked">(1)</span>
                </li>
                 <li data-evernote-id="559" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/6943632" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="343" class="js-evernote-checked">OpenTSDB</a><span data-evernote-id="725" class="js-evernote-checked">(1)</span>
                </li>
                 <li data-evernote-id="560" class="js-evernote-checked">
                    <a href="http://blog.csdn.net/xunzaosiyecao/article/category/7072910" onclick="_gaq.push([&#39;_trackEvent&#39;,&#39;function&#39;, &#39;onclick&#39;, &#39;blog_articles_wenzhangfenlei&#39;]); " data-evernote-id="344" class="js-evernote-checked">Go</a><span data-evernote-id="726" class="js-evernote-checked">(7)</span>
                </li>
</ul>
</div><div id="panel_Category" class="panel js-evernote-checked" data-evernote-id="629">
    <ul class="panel_head js-evernote-checked" data-evernote-id="483"><span>博客专栏</span></ul>
    <ul class="panel_body js-evernote-checked" id="sp_column" data-evernote-id="484">
    <table cellpadding="0" cellspacing="0" data-evernote-id="656" class="js-evernote-checked"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/14595.html" target="_blank" data-evernote-id="345" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20170221163301720" style="width:75px;height:75px;" data-evernote-id="646" class="js-evernote-checked"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/14595.html" target="_blank" data-evernote-id="346" class="js-evernote-checked">编码规范</a>
    <p data-evernote-id="53" class="js-evernote-checked">文章：5篇</p>
    <span>阅读：3220</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0" data-evernote-id="657" class="js-evernote-checked"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/12983.html" target="_blank" data-evernote-id="347" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160920201340578" style="width:75px;height:75px;" data-evernote-id="647" class="js-evernote-checked"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/12983.html" target="_blank" data-evernote-id="348" class="js-evernote-checked">Java 进阶</a>
    <p data-evernote-id="54" class="js-evernote-checked">文章：35篇</p>
    <span>阅读：24249</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0" data-evernote-id="658" class="js-evernote-checked"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/12803.html" target="_blank" data-evernote-id="349" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160903162446864" style="width:75px;height:75px;" data-evernote-id="648" class="js-evernote-checked"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/12803.html" target="_blank" data-evernote-id="350" class="js-evernote-checked">Activiti 学习笔记</a>
    <p data-evernote-id="55" class="js-evernote-checked">文章：32篇</p>
    <span>阅读：50646</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0" data-evernote-id="659" class="js-evernote-checked"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/springstudynotes.html" target="_blank" data-evernote-id="351" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160823075853463" style="width:75px;height:75px;" data-evernote-id="649" class="js-evernote-checked"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/springstudynotes.html" target="_blank" data-evernote-id="352" class="js-evernote-checked">Spring 学习笔记</a>
    <p data-evernote-id="56" class="js-evernote-checked">文章：13篇</p>
    <span>阅读：18572</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0" data-evernote-id="660" class="js-evernote-checked"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/iiscolumn.html" target="_blank" data-evernote-id="353" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160620173130123" style="width:75px;height:75px;" data-evernote-id="650" class="js-evernote-checked"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/iiscolumn.html" target="_blank" data-evernote-id="354" class="js-evernote-checked">Internet Information Services</a>
    <p data-evernote-id="57" class="js-evernote-checked">文章：9篇</p>
    <span>阅读：41053</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0" data-evernote-id="661" class="js-evernote-checked"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/wcfcourse.html" target="_blank" data-evernote-id="355" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160620170243124" style="width:75px;height:75px;" data-evernote-id="651" class="js-evernote-checked"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/wcfcourse.html" target="_blank" data-evernote-id="356" class="js-evernote-checked">WCF入门及常见问题解析</a>
    <p data-evernote-id="58" class="js-evernote-checked">文章：32篇</p>
    <span>阅读：64701</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0" data-evernote-id="662" class="js-evernote-checked"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/designpattern32.html" target="_blank" data-evernote-id="357" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160620170453016" style="width:75px;height:75px;" data-evernote-id="652" class="js-evernote-checked"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/designpattern32.html" target="_blank" data-evernote-id="358" class="js-evernote-checked">设计模式</a>
    <p data-evernote-id="59" class="js-evernote-checked">文章：8篇</p>
    <span>阅读：21518</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0" data-evernote-id="663" class="js-evernote-checked"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/csharpadvanced.html" target="_blank" data-evernote-id="359" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20160620103136650" style="width:75px;height:75px;" data-evernote-id="653" class="js-evernote-checked"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/csharpadvanced.html" target="_blank" data-evernote-id="360" class="js-evernote-checked">C# 进阶</a>
    <p data-evernote-id="60" class="js-evernote-checked">文章：9篇</p>
    <span>阅读：26927</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0" data-evernote-id="664" class="js-evernote-checked"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/devexpresscourse.html" target="_blank" data-evernote-id="361" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20151123180334817" style="width:75px;height:75px;" data-evernote-id="654" class="js-evernote-checked"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/devexpresscourse.html" target="_blank" data-evernote-id="362" class="js-evernote-checked">DevExpress控件专栏</a>
    <p data-evernote-id="61" class="js-evernote-checked">文章：50篇</p>
    <span>阅读：96395</span>
    </td>
    </tr></tbody></table>
    <table cellpadding="0" cellspacing="0" data-evernote-id="665" class="js-evernote-checked"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/sortingalgorithm.html" target="_blank" data-evernote-id="363" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/20151123175731239" style="width:75px;height:75px;" data-evernote-id="655" class="js-evernote-checked"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/sortingalgorithm.html" target="_blank" data-evernote-id="364" class="js-evernote-checked">C# 排序算法</a>
    <p data-evernote-id="62" class="js-evernote-checked">文章：11篇</p>
    <span>阅读：15597</span>
    </td>
    </tr></tbody></table>
    </ul>
</div><div id="panel_Archive" class="panel js-evernote-checked" data-evernote-id="630">
<ul class="panel_head js-evernote-checked" data-evernote-id="485"><span>文章存档</span></ul>
<ul class="panel_body js-evernote-checked" data-evernote-id="486">
<div id="archive_list" data-evernote-id="727" class="js-evernote-checked"><li data-evernote-id="561" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2017/08" data-evernote-id="365" class="js-evernote-checked">2017年08月</a><span data-evernote-id="3650" class="js-evernote-checked">(8)</span></li><li data-evernote-id="562" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2017/07" data-evernote-id="366" class="js-evernote-checked">2017年07月</a><span data-evernote-id="3651" class="js-evernote-checked">(4)</span></li><li data-evernote-id="563" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2017/06" data-evernote-id="367" class="js-evernote-checked">2017年06月</a><span data-evernote-id="3652" class="js-evernote-checked">(15)</span></li><li data-evernote-id="564" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2017/05" data-evernote-id="368" class="js-evernote-checked">2017年05月</a><span data-evernote-id="3653" class="js-evernote-checked">(19)</span></li><li data-evernote-id="565" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2017/04" data-evernote-id="369" class="js-evernote-checked">2017年04月</a><span data-evernote-id="3654" class="js-evernote-checked">(20)</span></li><span class="hidelist" style="display:none;"><li data-evernote-id="566" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2017/03" data-evernote-id="370" class="js-evernote-checked">2017年03月</a><span data-evernote-id="3655" class="js-evernote-checked">(40)</span></li><li data-evernote-id="567" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2017/02" data-evernote-id="371" class="js-evernote-checked">2017年02月</a><span data-evernote-id="3656" class="js-evernote-checked">(23)</span></li><li data-evernote-id="568" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2017/01" data-evernote-id="372" class="js-evernote-checked">2017年01月</a><span data-evernote-id="3657" class="js-evernote-checked">(9)</span></li><li data-evernote-id="569" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/12" data-evernote-id="373" class="js-evernote-checked">2016年12月</a><span data-evernote-id="3658" class="js-evernote-checked">(10)</span></li><li data-evernote-id="570" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/11" data-evernote-id="374" class="js-evernote-checked">2016年11月</a><span data-evernote-id="3659" class="js-evernote-checked">(12)</span></li><li data-evernote-id="571" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/10" data-evernote-id="375" class="js-evernote-checked">2016年10月</a><span data-evernote-id="3660" class="js-evernote-checked">(12)</span></li><li data-evernote-id="572" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/09" data-evernote-id="376" class="js-evernote-checked">2016年09月</a><span data-evernote-id="3661" class="js-evernote-checked">(25)</span></li><li data-evernote-id="573" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/08" data-evernote-id="377" class="js-evernote-checked">2016年08月</a><span data-evernote-id="3662" class="js-evernote-checked">(11)</span></li><li data-evernote-id="574" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/07" data-evernote-id="378" class="js-evernote-checked">2016年07月</a><span data-evernote-id="3663" class="js-evernote-checked">(19)</span></li><li data-evernote-id="575" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/06" data-evernote-id="379" class="js-evernote-checked">2016年06月</a><span data-evernote-id="3664" class="js-evernote-checked">(5)</span></li><li data-evernote-id="576" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/05" data-evernote-id="380" class="js-evernote-checked">2016年05月</a><span data-evernote-id="3665" class="js-evernote-checked">(16)</span></li><li data-evernote-id="577" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/04" data-evernote-id="381" class="js-evernote-checked">2016年04月</a><span data-evernote-id="3666" class="js-evernote-checked">(11)</span></li><li data-evernote-id="578" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/03" data-evernote-id="382" class="js-evernote-checked">2016年03月</a><span data-evernote-id="3667" class="js-evernote-checked">(4)</span></li><li data-evernote-id="579" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/02" data-evernote-id="383" class="js-evernote-checked">2016年02月</a><span data-evernote-id="3668" class="js-evernote-checked">(3)</span></li><li data-evernote-id="580" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2016/01" data-evernote-id="384" class="js-evernote-checked">2016年01月</a><span data-evernote-id="3669" class="js-evernote-checked">(11)</span></li><li data-evernote-id="581" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/12" data-evernote-id="385" class="js-evernote-checked">2015年12月</a><span data-evernote-id="3670" class="js-evernote-checked">(13)</span></li><li data-evernote-id="582" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/11" data-evernote-id="386" class="js-evernote-checked">2015年11月</a><span data-evernote-id="3671" class="js-evernote-checked">(22)</span></li><li data-evernote-id="583" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/10" data-evernote-id="387" class="js-evernote-checked">2015年10月</a><span data-evernote-id="3672" class="js-evernote-checked">(13)</span></li><li data-evernote-id="584" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/09" data-evernote-id="388" class="js-evernote-checked">2015年09月</a><span data-evernote-id="3673" class="js-evernote-checked">(14)</span></li><li data-evernote-id="585" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/08" data-evernote-id="389" class="js-evernote-checked">2015年08月</a><span data-evernote-id="3674" class="js-evernote-checked">(20)</span></li><li data-evernote-id="586" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/07" data-evernote-id="390" class="js-evernote-checked">2015年07月</a><span data-evernote-id="3675" class="js-evernote-checked">(22)</span></li><li data-evernote-id="587" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/06" data-evernote-id="391" class="js-evernote-checked">2015年06月</a><span data-evernote-id="3676" class="js-evernote-checked">(22)</span></li><li data-evernote-id="588" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/05" data-evernote-id="392" class="js-evernote-checked">2015年05月</a><span data-evernote-id="3677" class="js-evernote-checked">(9)</span></li><li data-evernote-id="589" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/04" data-evernote-id="393" class="js-evernote-checked">2015年04月</a><span data-evernote-id="3678" class="js-evernote-checked">(10)</span></li><li data-evernote-id="590" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/03" data-evernote-id="394" class="js-evernote-checked">2015年03月</a><span data-evernote-id="3679" class="js-evernote-checked">(20)</span></li><li data-evernote-id="591" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/02" data-evernote-id="395" class="js-evernote-checked">2015年02月</a><span data-evernote-id="3680" class="js-evernote-checked">(4)</span></li><li data-evernote-id="592" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2015/01" data-evernote-id="396" class="js-evernote-checked">2015年01月</a><span data-evernote-id="3681" class="js-evernote-checked">(27)</span></li><li data-evernote-id="593" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/12" data-evernote-id="397" class="js-evernote-checked">2014年12月</a><span data-evernote-id="3682" class="js-evernote-checked">(8)</span></li><li data-evernote-id="594" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/11" data-evernote-id="398" class="js-evernote-checked">2014年11月</a><span data-evernote-id="3683" class="js-evernote-checked">(7)</span></li><li data-evernote-id="595" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/10" data-evernote-id="399" class="js-evernote-checked">2014年10月</a><span data-evernote-id="3684" class="js-evernote-checked">(4)</span></li><li data-evernote-id="596" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/09" data-evernote-id="400" class="js-evernote-checked">2014年09月</a><span data-evernote-id="3685" class="js-evernote-checked">(10)</span></li><li data-evernote-id="597" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/08" data-evernote-id="401" class="js-evernote-checked">2014年08月</a><span data-evernote-id="3686" class="js-evernote-checked">(14)</span></li><li data-evernote-id="598" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/07" data-evernote-id="402" class="js-evernote-checked">2014年07月</a><span data-evernote-id="3687" class="js-evernote-checked">(9)</span></li><li data-evernote-id="599" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/06" data-evernote-id="403" class="js-evernote-checked">2014年06月</a><span data-evernote-id="3688" class="js-evernote-checked">(13)</span></li><li data-evernote-id="600" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/05" data-evernote-id="404" class="js-evernote-checked">2014年05月</a><span data-evernote-id="3689" class="js-evernote-checked">(25)</span></li><li data-evernote-id="601" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/04" data-evernote-id="405" class="js-evernote-checked">2014年04月</a><span data-evernote-id="3690" class="js-evernote-checked">(26)</span></li><li data-evernote-id="602" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/03" data-evernote-id="406" class="js-evernote-checked">2014年03月</a><span data-evernote-id="3691" class="js-evernote-checked">(61)</span></li><li data-evernote-id="603" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/02" data-evernote-id="407" class="js-evernote-checked">2014年02月</a><span data-evernote-id="3692" class="js-evernote-checked">(30)</span></li><li data-evernote-id="604" class="js-evernote-checked"><a href="http://blog.csdn.net/xunzaosiyecao/article/month/2014/01" data-evernote-id="408" class="js-evernote-checked">2014年01月</a><span data-evernote-id="3693" class="js-evernote-checked">(346)</span></li></span><div id="archive_list_button" class="list_closed js-evernote-checked" data-evernote-id="632">展开</div></div>
</ul>
</div>
<div id="hotarticls" class="panel tracking-ad js-evernote-checked" data-mod="popu_340" data-evernote-id="631">
<ul class="panel_head js-evernote-checked" data-evernote-id="487">
    <span>       
阅读排行    </span>
</ul>

<ul class="panel_body itemlist js-evernote-checked" data-evernote-id="488">
<li data-evernote-id="605" class="js-evernote-checked">
<a href="http://blog.csdn.net/jiankunking/article/details/46953073" title="Html Table 合并单元格" target="_blank" data-evernote-id="409" class="js-evernote-checked">Html Table 合并单元格</a><span data-evernote-id="728" class="js-evernote-checked">(31024)</span>
</li>
<li data-evernote-id="606" class="js-evernote-checked">
<a href="http://blog.csdn.net/jiankunking/article/details/50547601" title="IIS  无法识别的属性“targetFramework”。请注意属性名称区分大小写。" target="_blank" data-evernote-id="410" class="js-evernote-checked">IIS  无法识别的属性“targetFramework”。请注意属性名称区分大小写。</a><span data-evernote-id="729" class="js-evernote-checked">(11600)</span>
</li>
<li data-evernote-id="607" class="js-evernote-checked">
<a href="http://blog.csdn.net/jiankunking/article/details/23327959" title="C#中comboBox控件的一些基本用法小结" target="_blank" data-evernote-id="411" class="js-evernote-checked">C#中comboBox控件的一些基本用法小结</a><span data-evernote-id="730" class="js-evernote-checked">(10718)</span>
</li>
<li data-evernote-id="608" class="js-evernote-checked">
<a href="http://blog.csdn.net/jiankunking/article/details/50016043" title="IIS下搭建FTP服务器" target="_blank" data-evernote-id="412" class="js-evernote-checked">IIS下搭建FTP服务器</a><span data-evernote-id="731" class="js-evernote-checked">(8967)</span>
</li>
<li data-evernote-id="609" class="js-evernote-checked">
<a href="http://blog.csdn.net/jiankunking/article/details/17992637" title="U盘装WIN7安装程序无法定位现有分区，也无法创建新的系统分区（转载）" target="_blank" data-evernote-id="413" class="js-evernote-checked">U盘装WIN7安装程序无法定位现有分区，也无法创建新的系统分区（转载）</a><span data-evernote-id="732" class="js-evernote-checked">(8752)</span>
</li>
<li data-evernote-id="610" class="js-evernote-checked">
<a href="http://blog.csdn.net/jiankunking/article/details/50017009" title="C#  FTP上传下载（支持断点续传）" target="_blank" data-evernote-id="414" class="js-evernote-checked">C#  FTP上传下载（支持断点续传）</a><span data-evernote-id="733" class="js-evernote-checked">(8388)</span>
</li>
<li data-evernote-id="611" class="js-evernote-checked">
<a href="http://blog.csdn.net/jiankunking/article/details/21643541" title="C# Winform 怎么让按钮在Panel里居中显示" target="_blank" data-evernote-id="415" class="js-evernote-checked">C# Winform 怎么让按钮在Panel里居中显示</a><span data-evernote-id="734" class="js-evernote-checked">(8051)</span>
</li>
<li data-evernote-id="612" class="js-evernote-checked">
<a href="http://blog.csdn.net/jiankunking/article/details/51253575" title="Activiti-Explorer 用户名与密码" target="_blank" data-evernote-id="416" class="js-evernote-checked">Activiti-Explorer 用户名与密码</a><span data-evernote-id="735" class="js-evernote-checked">(7969)</span>
</li>
<li data-evernote-id="613" class="js-evernote-checked">
<a href="http://blog.csdn.net/jiankunking/article/details/50547458" title="IIS  无法读取配置节&quot;system.web.extensions&quot;,因为它缺少节声明" target="_blank" data-evernote-id="417" class="js-evernote-checked">IIS  无法读取配置节"system.web.extensions",因为它缺少节声明</a><span data-evernote-id="736" class="js-evernote-checked">(7175)</span>
</li>
<li data-evernote-id="614" class="js-evernote-checked">
<a href="http://blog.csdn.net/jiankunking/article/details/19500019" title="在Form窗体中，this的应用" target="_blank" data-evernote-id="418" class="js-evernote-checked">在Form窗体中，this的应用</a><span data-evernote-id="737" class="js-evernote-checked">(6978)</span>
</li>
</ul>
</div>
    </div>
    <div class="clear">
    </div>


           </div>   

            <div class="clear">
            </div>
        </div>

        








    <script type="text/javascript" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/login.js.下载"></script>
<script type="text/javascript">
    $(function () {
        function __get_code_toolbar(snippet_id) {
            return $("<span class='tracking-ad' data-mod='popu_167'><a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "' target='_blank' title='在CODE上查看代码片'  style='text-indent:0;'><img src='https://code.csdn.net/assets/CODE_ico.png' width=12 height=12 alt='在CODE上查看代码片' style='position:relative;top:1px;left:2px;'/></a></span>"
                    + "<span class='tracking-ad' data-mod='popu_170'><a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "/fork' target='_blank' title='派生到我的代码片' style='text-indent:0;'><img src='https://code.csdn.net/assets/ico_fork.svg' width=12 height=12 alt='派生到我的代码片' style='position:relative;top:2px;left:2px;'/></a></span>");
        }
        
        $("[code_snippet_id]").each(function () {
            __s_id = $(this).attr("code_snippet_id");
            if (__s_id != null && __s_id != "" && __s_id != 0 && parseInt(__s_id) > 70020) {
                __code_tool = __get_code_toolbar(__s_id);
                $(this).prev().find(".tools").append(__code_tool);
            }
        });

        $(".bar").show();
    });
</script>





    </div>
      <!--new top-->
    

     

   
   
     <!--new top-->
   
   

    
    
    
   

   


       <script type="text/javascript" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/MathJax.js.下载"></script>
          <script type="text/javascript">
              //$(function () {
              //    setTimeout(function () {
              //        var searchtitletags = articletitle + ',' + $("#tags").html();
              //        searchService({
              //            index: 'blog',
              //            query: searchtitletags,
              //            from: 5,
              //            size: 5,
              //            appendTo: '#res',
              //            url: 'recommend',
              //            his: 2,
              //            client: "blog_cf_enhance",
              //            tmpl: '<dd style="background:url(http://static.blog.csdn.net/skin/default/images/blog-dot-red3.gif) no-repeat 0 10px;"><a href="#{ url }" title="#{ title }" strategy="#{ strategy }">#{ title }</a></dd>'
              //        });
              //    }, 1000);
              //});

         </script>
    
    <script src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/csdn_blog_detail.min.js.下载" type="text/javascript"></script><link rel="stylesheet" type="text/css" href="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/pub_footer_2014.css"><div class="pub_fo js-evernote-checked" data-evernote-id="3567"><div id="pub_footerall" class="pub_footer_new js-evernote-checked" data-evernote-id="3568"><dl data-evernote-id="3569" class="js-evernote-checked"><dt data-evernote-id="3570" class="js-evernote-checked"></dt> <dd class="foot_sub_menu js-evernote-checked" data-evernote-id="3571"><a href="http://www.csdn.net/company/about.html" target="_blank" data-evernote-id="419" class="js-evernote-checked">公司简介</a><span data-evernote-id="3574" class="js-evernote-checked">|</span><a href="http://www.csdn.net/company/recruit.html" target="_blank" data-evernote-id="420" class="js-evernote-checked">招贤纳士</a><span data-evernote-id="3575" class="js-evernote-checked">|</span><a href="http://www.csdn.net/company/marketing.html" target="_blank" data-evernote-id="421" class="js-evernote-checked">广告服务</a><span data-evernote-id="3576" class="js-evernote-checked">|</span><a href="http://www.csdn.net/company/contact.html" target="_blank" data-evernote-id="422" class="js-evernote-checked">联系方式</a><span data-evernote-id="3577" class="js-evernote-checked">|</span><a href="http://www.csdn.net/company/statement.html" target="_blank" data-evernote-id="423" class="js-evernote-checked">版权声明</a><span data-evernote-id="3578" class="js-evernote-checked">|</span><a href="http://www.csdn.net/company/layer.html" target="_blank" data-evernote-id="424" class="js-evernote-checked">法律顾问</a><span data-evernote-id="3579" class="js-evernote-checked">|</span><a href="mailto:webmaster@csdn.net" data-evernote-id="425" class="js-evernote-checked">问题报告</a><span data-evernote-id="3580" class="js-evernote-checked">|</span><a target="_blank" href="http://www.csdn.net/friendlink.html" data-evernote-id="426" class="js-evernote-checked">合作伙伴</a><span data-evernote-id="3581" class="js-evernote-checked">|</span><a href="http://bbs.csdn.net/forums/Service" target="_blank" data-evernote-id="427" class="js-evernote-checked">论坛反馈</a></dd><dd class="foot_contact js-evernote-checked" data-evernote-id="3572"><a href="javascript:void(0);" target="_blank" class="qq js-evernote-checked" data-evernote-id="428">网站客服</a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2251809102&amp;site=qq&amp;menu=yes" target="_blank" class="qq js-evernote-checked" data-evernote-id="429">杂志客服</a><a href="http://e.weibo.com/csdnsupport/profile" target="_blank" class="weibo js-evernote-checked" data-evernote-id="430">微博客服</a><a href="mailto:webmaster@csdn.net" class="email js-evernote-checked" title="联系邮箱" data-evernote-id="431">webmaster@csdn.net</a><span class="phone js-evernote-checked" title="服务热线" data-evernote-id="3582">400-660-0108</span><span class="interval js-evernote-checked" data-evernote-id="3583">|</span><span data-evernote-id="3584" class="js-evernote-checked">北京创新乐知信息技术有限公司 版权所有</span><span class="interval js-evernote-checked" data-evernote-id="3585">|</span><span data-evernote-id="3586" class="js-evernote-checked">江苏知之为计算机有限公司</span><span class="interval js-evernote-checked" data-evernote-id="3587">|</span><span data-evernote-id="3588" class="js-evernote-checked">江苏乐知网络技术有限公司</span></dd><dd class="foot_copyright js-evernote-checked" data-evernote-id="3573"><span data-evernote-id="3590" class="js-evernote-checked">京&nbsp;ICP&nbsp;证&nbsp;09002463&nbsp;号</span><span class="interval js-evernote-checked" data-evernote-id="3589">|</span><span data-evernote-id="3591" class="js-evernote-checked">Copyright © 1999-2017, CSDN.NET, All Rights Reserved&nbsp;</span><a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank" data-evernote-id="432" class="js-evernote-checked"><img src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/gongshang_logos.gif" alt="GongshangLogo" title="" data-evernote-id="3592" class="js-evernote-checked"></a></dd></dl></div></div><div id="note1" class="csdn_note" style="display:none; position:absolute; z-index:9999; width:440px">  <span class="notice_top_arrow"><span class="inner"></span></span>  <div class="box"></div></div><div class="csdn_notice_tip js-evernote-checked" style="display:none; position:absolute; z-index:9990; width:170px" data-evernote-id="3408">  <iframe src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/saved_resource(2).html" frameborder="0" scrolling="no" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background:transparent" data-en_id="81492394"></iframe>  <div class="tip_text">您有<strong>0</strong>条新通知</div>  <a href="javascript:void 0" class="close2 js-evernote-checked" data-evernote-id="433"></a></div><script id="noticeScript" type="text/javascript" btnid="header_notice_num" wrapid="note1" count="5" subcount="5" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/notify.js.下载"></script><input type="hidden" id="aa_g_data_ids">
        
    <script type="text/javascript" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/csdn_public_blog_detail.min.js.下载"></script>

    <script type="text/javascript" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/showblogmedal.ashx"></script>

     
    


  <div id="a52b5334d" style="width: 1px; height: 1px; display: none;">
                    <script id="adJs52b5334" src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/52b5334.js.下载"></script>
                    <script>document.getElementById("adJs52b5334").src = "http://ads.csdn.net/js/opt/52b5334.js?t=" + Math.random();</script>
   </div>

    
    
        
     

    
          
    <div class="pop_CA_cover js-evernote-checked" style="display:none" data-evernote-id="3485"></div>
    <div class="pop pop_CA js-evernote-checked" style="display:none" data-evernote-id="3486">
          <div class="CA_header js-evernote-checked" data-evernote-id="3487">
            收藏助手
            <span class="cancel_icon js-evernote-checked" id="fapancle" onclick="$(&#39;.pop_CA&#39;).hide();$(&#39;.pop_CA_cover&#39;).hide();" data-evernote-id="3488"></span>
          </div>
          <iframe src="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/saved_resource(3).html" id="fa" frameborder="0" width="100%" height="360" scrolling="no" data-en_id="35148069"></iframe>
    </div>


        <script type="text/javascript">

            $(function () {
                var fromjs = $("#fromjs");
                if (fromjs.length > 0) {
                    $("#fromjs .markdown_views pre").addClass("prettyprint");
                    prettyPrint();

                    $('pre.prettyprint code').each(function () {
                        var lines = $(this).text().split('\n').length;
                        var $numbering = $('<ul/>').addClass('pre-numbering').hide();
                        $(this).addClass('has-numbering').parent().append($numbering);
                        for (i = 1; i <= lines; i++) {
                            $numbering.append($('<li/>').text(i));
                        };
                        $numbering.fadeIn(1700);
                    });

                    $('.pre-numbering li').css("color", "#999");
                }
            });

            $(".markdown_views a[target!='_blank']").attr("target", "_blank");

            //$(".toc a[target='_blank']").attr("target", "");

            setTimeout(function () {
                $(".toc a[target='_blank']").attr("target", "");
            }, 500);

        </script>


   
<div id="mask_code" data-evernote-id="3529" class="js-evernote-checked"></div><div class="gist_edit js-evernote-checked" data-evernote-id="3530"><div class="save_snippets clearfix js-evernote-checked" data-evernote-id="3533"><div class="tit js-evernote-checked" data-evernote-id="3531"><h3 data-evernote-id="63" class="js-evernote-checked">保存代码片</h3><span data-evernote-id="3532" class="js-evernote-checked">整理和分享保存的代码片，请访问<a href="https://code.csdn.net/snippets_manage" target="_blank" data-evernote-id="434" class="js-evernote-checked">代码笔记</a></span></div><div class="con_form js-evernote-checked" data-evernote-id="3535"><ul class="gist_edit_list clearfix js-evernote-checked" data-evernote-id="3534"><li data-evernote-id="3536" class="js-evernote-checked"><span class="red js-evernote-checked" data-evernote-id="3539">*</span><span class="txt js-evernote-checked" data-evernote-id="3542">标题</span><input id="form_title" class="form-input js-evernote-checked" placeholder="Java JDK 动态代理（AOP）使用及实现原理分析" type="text" data-evernote-id="3545"></li><li data-evernote-id="3537" class="js-evernote-checked"><span class="red js-evernote-checked" data-evernote-id="3540">*</span><span class="txt js-evernote-checked" data-evernote-id="3543">描述</span><textarea id="form-textarea" class="form-textarea js-evernote-checked" placeholder="Java JDK 动态代理（AOP）使用及实现原理分析： http://blog.csdn.net/jiankunking/article/details/52143504#" data-evernote-id="3558"></textarea></li><li data-evernote-id="3538" class="js-evernote-checked"><span class="red js-evernote-checked" data-evernote-id="3541">&nbsp;</span><span class="txt js-evernote-checked" data-evernote-id="3544">标签</span><div id="divSearchTags" data-evernote-id="3547" class="js-evernote-checked"><span class="label blog_tag js-evernote-checked" data-evernote-id="3553"><span data-evernote-id="3548" class="js-evernote-checked">Java</span><a title="Removing tag" href="javascript:;" data-evernote-id="435" class="js-evernote-checked">x</a></span><span class="label blog_tag js-evernote-checked" data-evernote-id="3554"><span data-evernote-id="3549" class="js-evernote-checked">jdk</span><a title="Removing tag" href="javascript:;" data-evernote-id="436" class="js-evernote-checked">x</a></span><span class="label blog_tag js-evernote-checked" data-evernote-id="3555"><span data-evernote-id="3550" class="js-evernote-checked">动态代理</span><a title="Removing tag" href="javascript:;" data-evernote-id="437" class="js-evernote-checked">x</a></span><span class="label blog_tag js-evernote-checked" data-evernote-id="3556"><span data-evernote-id="3551" class="js-evernote-checked">代理</span><a title="Removing tag" href="javascript:;" data-evernote-id="438" class="js-evernote-checked">x</a></span><span class="label blog_tag js-evernote-checked" data-evernote-id="3557"><span data-evernote-id="3552" class="js-evernote-checked">代理模式</span><a title="Removing tag" href="javascript:;" data-evernote-id="439" class="js-evernote-checked">x</a></span><input id="insertTag" class="insertTag js-evernote-checked" placeholder="请输入标签，按Enter生成(最多5项)" type="text" value="" name="insertTag" maxlength="21" style="color: rgb(51, 51, 51);" data-evernote-id="3546"><input id="OrganTag" class="OrganTag" type="hidden" name="OrganTag" value="Java,jdk,动态代理,代理,代理模式,"><input id="OldOrganTag" class="OldOrganTag" type="hidden" name="OldOrganTag" value=""><input type="hidden" name="txtSearchTags"></div></li></ul></div><div class="bottom-bar js-evernote-checked" data-evernote-id="3559"><a href="javascript:;" class="btn-submit btn-cancel js-evernote-checked" data-evernote-id="440">取消</a><span class="tracking-ad" data-mod="popu_250"><a class="btn-submit btn-confirm js-evernote-checked" href="javascript:;" target="_blank" data-evernote-id="441">确定</a></span></div></div></div><link rel="stylesheet" type="text/css" media="screen" href="./Java JDK 动态代理（AOP）使用及实现原理分析 - 衣舞晨风 - CSDN博客_files/ask_float_fonts_css-6b30a53970eb5c3a2a045e3df585b475.css"><div data-mod="popu_64" class="csdn-tracking-statistics" chg-blk="0"><a id="com-quick-QRcode" class="QRcodebg1 js-evernote-checked" title="扫描二维码" style="top:134px" data-evernote-id="442"><span class="closeQR js-evernote-checked" data-evernote-id="3489"></span></a><a id="com-quick-reply" title="快速回复" style="top:268px" data-evernote-id="443" class="js-evernote-checked"></a><a id="com-quick-collect" title="我要收藏" style="top:306px" data-evernote-id="444" class="js-evernote-checked"></a><a id="com-d-top-a" style="top: 344px; display: block;" title="返回顶部" onclick="" data-evernote-id="445" class="js-evernote-checked"></a></div><div class="pop_edit ask_second comm_ask_second js-evernote-checked" data-evernote-id="3481"><h3 data-evernote-id="64" class="js-evernote-checked">提问</h3><span class="ask_float_span js-evernote-checked" data-evernote-id="3409">您的问题将会被发布在“<a class="ask_float_channel js-evernote-checked" href="http://ask.csdn.net/" target="_blank" style="cursor:pointer" data-evernote-id="446">技术问答</a>”频道</span><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" nodetype="close" class="close js-evernote-checked" data-evernote-id="447">×</a><div class="context js-evernote-checked" data-evernote-id="3410"><div class="err_div js-evernote-checked" data-evernote-id="3411"><span class="err_ico js-evernote-checked" data-evernote-id="3412"></span><span class="err_txt js-evernote-checked" data-evernote-id="3413">该问题已存在，请勿重复提问</span></div><div class="input_div js-evernote-checked" data-evernote-id="3414"><input id="askInputSecond" type="text" style="font-size:14px;" placeholder="问题标题" data-evernote-id="3415" class="js-evernote-checked"></div><div class="cm_box js-evernote-checked" data-evernote-id="3416"><div class="cm_dialog js-evernote-checked" data-evernote-id="3417"></div> <div class="pop_cm cm_add_link js-evernote-checked" data-evernote-id="3418"><input type="text" placeholder="链接内容" id="af_cm_link_txt" data-evernote-id="3419" class="js-evernote-checked"><input type="text" placeholder="链接地址" id="af_cm_link_url" data-evernote-id="3420" class="js-evernote-checked"><input type="text" placeholder="链接提示" id="af_cm_link_tit" data-evernote-id="3421" class="js-evernote-checked"><div class="text-right js-evernote-checked" data-evernote-id="3422"><span class="btn btn-default btn-sm js-evernote-checked" id="add_link_btn" data-evernote-id="3423">插入链接</span> </div> </div><div class="pop_cm cm_add_img js-evernote-checked" data-evernote-id="3424"><div class="nav-tabs js-evernote-checked" data-evernote-id="3425"><a class="img_tab active js-evernote-checked" href="http://blog.csdn.net/jiankunking/article/details/52143504#tab_upload" data-evernote-id="448">本地上传</a><a class="img_tab js-evernote-checked" href="http://blog.csdn.net/jiankunking/article/details/52143504#tab_weburl" data-evernote-id="449">网络图片</a></div><div class="tab_panel active js-evernote-checked" id="tab_upload" data-evernote-id="3426"><div class="set_img js-evernote-checked" data-evernote-id="3427"></div></div><div class="tab_panel js-evernote-checked" id="tab_weburl" data-evernote-id="3428"><input type="text" placeholder="图片地址" id="af_cm_img_url" data-evernote-id="3429" class="js-evernote-checked"><input type="text" placeholder="图片说明" id="af_cm_img_alt" data-evernote-id="3430" class="js-evernote-checked"><div class="text-right js-evernote-checked" data-evernote-id="3431"><span class="btn btn-default btn-sm js-evernote-checked" id="add_img_btn" data-evernote-id="3432">插入图片</span> </div></div> </div></div> <textarea id="editor_all" rows="8" style="display: none;" data-evernote-id="3433" class="js-evernote-checked"></textarea><div class="editor-toolbar js-evernote-checked" data-evernote-id="3434"><i class="separator js-evernote-checked" data-evernote-id="3435">|</i><a class="icon-headline js-evernote-checked" title="标题一（Ctrl+Alt+1）" data-evernote-id="450"></a><a class="icon-heading js-evernote-checked" title="标题二（Ctrl+Alt+2）" data-evernote-id="451"></a><a class="icon-bold js-evernote-checked" title="粗体（Ctrl+B）" data-evernote-id="452"></a><a class="icon-italic js-evernote-checked" title="斜体（Ctrl+I）" data-evernote-id="453"></a><i class="separator js-evernote-checked" data-evernote-id="3436">|</i><a class="icon-quote-left js-evernote-checked" title="引用（Ctrl+’）" data-evernote-id="454"></a><a class="icon-code js-evernote-checked" title="插入代码片（Ctrl+,）" data-evernote-id="455"></a><a class="icon-list-ul js-evernote-checked" title="无序列表（Ctrl+L）" data-evernote-id="456"></a><a class="icon-list-ol js-evernote-checked" title="有序列表（Ctrl+Alt+L）" data-evernote-id="457"></a><i class="separator js-evernote-checked" data-evernote-id="3437">|</i><a class="icon-link js-evernote-checked" title="添加链接（Ctrl+K）" data-evernote-id="458"></a><a class="icon-picture js-evernote-checked" title="添加图片（Ctrl+Alt+I）" data-evernote-id="459"></a><i class="separator js-evernote-checked" data-evernote-id="3438">|</i><a class="icon-reply js-evernote-checked" title="撤退（Ctrl+Z）" data-evernote-id="460"></a><a class="icon-share-alt js-evernote-checked" title="前进（Ctrl+Shift+Z）" data-evernote-id="461"></a><i class="separator js-evernote-checked" data-evernote-id="3439">|</i><a class="icon-info js-evernote-checked" href="http://ask.csdn.net/pages/markdown" target="_blank" title="markdown语法参考" data-evernote-id="462"></a><a class="icon-preview js-evernote-checked" title="预览" data-evernote-id="463"></a><i class="separator js-evernote-checked" data-evernote-id="3440">|</i></div><div class="CodeMirror cm-s-paper CodeMirror-focused js-evernote-checked" data-evernote-id="3441"><div style="overflow: hidden; position: relative; width: 3px; height: 0px;" data-evernote-id="3442" class="js-evernote-checked"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" style="position: absolute; padding: 0px; width: 1000px; height: 1em; outline: none; font-size: 4px;" tabindex="0" data-evernote-id="3443" class="js-evernote-checked"></textarea></div><div class="CodeMirror-hscrollbar js-evernote-checked" data-evernote-id="3444"><div style="height: 1px;" data-evernote-id="3445" class="js-evernote-checked"></div></div><div class="CodeMirror-vscrollbar js-evernote-checked" data-evernote-id="3446"><div style="width: 1px;" data-evernote-id="3447" class="js-evernote-checked"></div></div><div class="CodeMirror-scrollbar-filler js-evernote-checked" data-evernote-id="3448"></div><div class="CodeMirror-gutter-filler js-evernote-checked" data-evernote-id="3449"></div><div class="CodeMirror-scroll js-evernote-checked" tabindex="-1" data-evernote-id="3450"><div class="CodeMirror-sizer js-evernote-checked" style="min-width: 33px;" data-evernote-id="3451"><div style="position: relative;" data-evernote-id="3452" class="js-evernote-checked"><div class="CodeMirror-lines js-evernote-checked" data-evernote-id="3453"><div style="position: relative; outline: none;" data-evernote-id="3454" class="js-evernote-checked"><div class="CodeMirror-measure js-evernote-checked" data-evernote-id="3455"><pre>&nbsp;<span style="display: inline-block; width: 1px; margin-right: -1px;">&nbsp;</span></pre></div><div style="position: relative; z-index: 1;" data-evernote-id="3458" class="js-evernote-checked"></div><div class="CodeMirror-code js-evernote-checked" data-evernote-id="3459"></div><div class="CodeMirror-cursor js-evernote-checked" style="" data-evernote-id="3460">&nbsp;</div><div class="CodeMirror-cursor CodeMirror-secondarycursor js-evernote-checked" style="" data-evernote-id="3461">&nbsp;</div></div></div></div></div><div style="position: absolute; height: 30px; width: 1px;" data-evernote-id="3462" class="js-evernote-checked"></div><div class="CodeMirror-gutters js-evernote-checked" style="display: none;" data-evernote-id="3463"></div></div></div><div class="editor-statusbar js-evernote-checked" data-evernote-id="3464"><span class="lines js-evernote-checked" data-evernote-id="3465">0</span><span class="words js-evernote-checked" data-evernote-id="3466">0</span><span class="cursor js-evernote-checked" data-evernote-id="3467">0:0</span></div><div class="div_tags clearfix js-evernote-checked" data-evernote-id="3468"><div id="divSearchTags" class="tags_con js-evernote-checked" data-evernote-id="3469"><input type="text" data-evernote-id="3470" class="js-evernote-checked"></div><input type="hidden" name="txtSearchTags" data-evernote-id="3471" class="js-evernote-checked"></div><div id="ask2_tagRecomm_div" class="drt_tagRecomm tracking-ad js-evernote-checked" data-mod="popu_73" data-evernote-id="3472"><span class="drt_tit js-evernote-checked" data-evernote-id="3473">推荐标签：</span></div></div><div class="success js-evernote-checked" data-evernote-id="3474"><div class="left_area js-evernote-checked" data-evernote-id="3475"><input id="chk_cb" type="checkbox" data-evernote-id="3476" class="js-evernote-checked"><span class="wyxs js-evernote-checked" data-evernote-id="3477">我要悬赏</span><input id="cb_num" class="cb_num js-evernote-checked" readonly="true" data-evernote-id="3478"><span class="phib_rii js-evernote-checked" data-evernote-id="3479"><span data-evernote-id="3480" class="js-evernote-checked"> 币</span></span></div><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" nodetype="cancel" class="cancel js-evernote-checked" data-evernote-id="464">取消</a><a href="http://blog.csdn.net/jiankunking/article/details/52143504#" nodetype="ok" class="ok js-evernote-checked" data-evernote-id="465">发布</a></div></div><div id="common_ask_div_sc" class="searchContainer js-evernote-checked" data-evernote-id="3482"><div class="sTitle js-evernote-checked" data-evernote-id="3483">可能存在类似的问题：</div><div class="sFooter js-evernote-checked" data-evernote-id="3484"><a class="sFirstNewAsk js-evernote-checked" data-evernote-id="466">我想提一个新问题</a></div></div><div style="position:fixed; top:0; left:0; overflow:hidden;"><input style="position:absolute; left:-300px;" type="text" value="" id="focus_retriever" readonly="true"></div><div id="tag-suggest-pop" data-evernote-id="3561" class="js-evernote-checked">
  <div class="relative js-evernote-checked" data-evernote-id="3562">
    <div class="close js-evernote-checked" data-evernote-id="3563"></div>
    <div class="content js-evernote-checked" data-evernote-id="3564"></div>
  </div>
</div><div id="evernoteClearlyNextContainer" style="margin: 0px; padding: 0px; border: none; position: absolute; width: 5px; height: 5px; top: -10px; left: -10px;"></div></body></html>